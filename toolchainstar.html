<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search</title>
<!--Generated on Fri Oct 20 02:22:09 2023 by LaTeXML (version 0.8.7) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="https://browse.arxiv.org/latexml/ar5iv_0.7.4.min.css" rel="stylesheet" type="text/css"/>
<link href="https://browse.arxiv.org/latexml/styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="https://browse.arxiv.org/latexml/addons.js"></script>
<script src="https://browse.arxiv.org/latexml/feedbackOverlay.js"></script>
</head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S1" title="1 Introduction ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S2" title="2 Preliminaries ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Preliminaries</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S3" title="3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline"><semantics><msup><mi></mi><mo>*</mo></msup><annotation-xml encoding="MathML-Content"><apply><times></times></apply></annotation-xml><annotation encoding="application/x-tex">{}^{*}</annotation><annotation encoding="application/x-llamapun">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>: A Tree Search Perspective on External Tool Use</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS1" title="3.1 Overview ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS2" title="3.2 Design of Cumulative Cost 𝑔⁢(𝑛) ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Design of Cumulative Cost <math alttext="g(n)" class="ltx_Math" display="inline"><semantics><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><apply><times></times><ci>𝑔</ci><ci>𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex">g(n)</annotation><annotation encoding="application/x-llamapun">italic_g ( italic_n )</annotation></semantics></math></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS3" title="3.3 Design of Future Cost ℎ⁢(𝑛) ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Design of Future Cost <math alttext="h(n)" class="ltx_Math" display="inline"><semantics><mrow><mi>h</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content"><apply><times></times><ci>ℎ</ci><ci>𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex">h(n)</annotation><annotation encoding="application/x-llamapun">italic_h ( italic_n )</annotation></semantics></math></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S4" title="4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS1" title="4.1 Experimental Setup ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Experimental Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS2" title="4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Tool Use: ToolBench</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS3" title="4.3 Math Reasoning: GSM8K ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Math Reasoning: GSM8K</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS4" title="4.4 Discussion: Empirical Analysis ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Discussion: Empirical Analysis</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S5" title="5 Related Works ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Related Works</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S6" title="6 Conclusion ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="#A1" title="Appendix A Broader Impacts and Limitations ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Broader Impacts and Limitations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="#A2" title="Appendix B Implementation Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Implementation Details</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A2.SS1" title="B.1 Hardware Information ‣ Appendix B Implementation Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.1 </span>Hardware Information</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A2.SS2" title="B.2 Parameter Configuration ‣ Appendix B Implementation Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.2 </span>Parameter Configuration</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A2.SS3" title="B.3 Task Setup for ToolBench ‣ Appendix B Implementation Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.3 </span>Task Setup for ToolBench</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A2.SS4" title="B.4 Task Setup for GSM8K ‣ Appendix B Implementation Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.4 </span>Task Setup for GSM8K</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="#A3" title="Appendix C LLM-based Agents ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>LLM-based Agents</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A3.SS1" title="C.1 Open-Loop System ‣ Appendix C LLM-based Agents ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.1 </span>Open-Loop System</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A3.SS2" title="C.2 Closed-Loop System ‣ Appendix C LLM-based Agents ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.2 </span>Closed-Loop System</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="#A4" title="Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Experimental Details</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A4.SS1" title="D.1 Dataset Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.1 </span>Dataset Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A4.SS2" title="D.2 Baseline Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.2 </span>Baseline Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A4.SS3" title="D.3 Additional Analysis on ToolBench ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.3 </span>Additional Analysis on ToolBench</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A4.SS4" title="D.4 Case Studies ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.4 </span>Case Studies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A4.SS5" title="D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.5 </span>Efficiency Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A4.SS6" title="D.6 Ablation Studies Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D.6 </span>Ablation Studies Details</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="#A5" title="Appendix E Additional Dataset: Science QA ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Additional Dataset: Science QA</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="#A6" title="Appendix F Open-Source LLMs ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">F </span>Open-Source LLMs</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="#A7" title="Appendix G Prompts ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">G </span>Prompts</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="#A7.SS1" title="G.1 Tool Use: ToolBench ‣ Appendix G Prompts ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">G.1 </span>Tool Use: ToolBench</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="#A7.SS1.SSS1" title="G.1.1 Home Search ‣ G.1 Tool Use: ToolBench ‣ Appendix G Prompts ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">G.1.1 </span>Home Search</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="#A7.SS1.SSS2" title="G.1.2 Trip Booking ‣ G.1 Tool Use: ToolBench ‣ Appendix G Prompts ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">G.1.2 </span>Trip Booking</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="#A7.SS1.SSS3" title="G.1.3 Google Sheets ‣ G.1 Tool Use: ToolBench ‣ Appendix G Prompts ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">G.1.3 </span>Google Sheets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="#A7.SS1.SSS4" title="G.1.4 Virtual Home ‣ G.1 Tool Use: ToolBench ‣ Appendix G Prompts ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">G.1.4 </span>Virtual Home</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A7.SS2" title="G.2 Math Reasoning: GSM8K ‣ Appendix G Prompts ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">G.2 </span>Math Reasoning: GSM8K</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span class="ltx_ERROR undefined" id="id1">\tcbuselibrary</span>
<div class="ltx_para" id="p1">
<p class="ltx_p" id="p1.1">listings






</p>
</div>
<h1 class="ltx_title ltx_title_document">ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="id1.m1.1"><semantics id="id1.m1.1b"><msup id="id1.m1.1.1" xref="id1.m1.1.1.cmml"><mi id="id1.m1.1.1b" xref="id1.m1.1.1.cmml"></mi><mo id="id1.m1.1.1.1" xref="id1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="id1.m1.1c"><apply id="id1.m1.1.1.cmml" xref="id1.m1.1.1"><times id="id1.m1.1.1.1.cmml" xref="id1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="id1.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="id1.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>: Efficient Action Space Navigation in Large Language Models with A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="id2.m2.1"><semantics id="id2.m2.1b"><msup id="id2.m2.1.1" xref="id2.m2.1.1.cmml"><mi id="id2.m2.1.1b" xref="id2.m2.1.1.cmml"></mi><mo id="id2.m2.1.1.1" xref="id2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="id2.m2.1c"><apply id="id2.m2.1.1.cmml" xref="id2.m2.1.1"><times id="id2.m2.1.1.1.cmml" xref="id2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="id2.m2.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="id2.m2.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> Search</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yuchen Zhuang<math alttext="{}^{1}" class="ltx_Math" display="inline" id="id3.1.m1.1"><semantics id="id3.1.m1.1a"><msup id="id3.1.m1.1.1" xref="id3.1.m1.1.1.cmml"><mi id="id3.1.m1.1.1a" xref="id3.1.m1.1.1.cmml"></mi><mn id="id3.1.m1.1.1.1" xref="id3.1.m1.1.1.1.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id3.1.m1.1b"><apply id="id3.1.m1.1.1.cmml" xref="id3.1.m1.1.1"><cn id="id3.1.m1.1.1.1.cmml" type="integer" xref="id3.1.m1.1.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id3.1.m1.1c">{}^{1}</annotation><annotation encoding="application/x-llamapun" id="id3.1.m1.1d">start_FLOATSUPERSCRIPT 1 end_FLOATSUPERSCRIPT</annotation></semantics></math> , Xiang Chen<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id4.2.m2.1"><semantics id="id4.2.m2.1a"><msup id="id4.2.m2.1.1" xref="id4.2.m2.1.1.cmml"><mi id="id4.2.m2.1.1a" xref="id4.2.m2.1.1.cmml"></mi><mn id="id4.2.m2.1.1.1" xref="id4.2.m2.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id4.2.m2.1b"><apply id="id4.2.m2.1.1.cmml" xref="id4.2.m2.1.1"><cn id="id4.2.m2.1.1.1.cmml" type="integer" xref="id4.2.m2.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id4.2.m2.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id4.2.m2.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>, Tong Yu<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id5.3.m3.1"><semantics id="id5.3.m3.1a"><msup id="id5.3.m3.1.1" xref="id5.3.m3.1.1.cmml"><mi id="id5.3.m3.1.1a" xref="id5.3.m3.1.1.cmml"></mi><mn id="id5.3.m3.1.1.1" xref="id5.3.m3.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id5.3.m3.1b"><apply id="id5.3.m3.1.1.cmml" xref="id5.3.m3.1.1"><cn id="id5.3.m3.1.1.1.cmml" type="integer" xref="id5.3.m3.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id5.3.m3.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id5.3.m3.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>, Saayan Mitra<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id6.4.m4.1"><semantics id="id6.4.m4.1a"><msup id="id6.4.m4.1.1" xref="id6.4.m4.1.1.cmml"><mi id="id6.4.m4.1.1a" xref="id6.4.m4.1.1.cmml"></mi><mn id="id6.4.m4.1.1.1" xref="id6.4.m4.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id6.4.m4.1b"><apply id="id6.4.m4.1.1.cmml" xref="id6.4.m4.1.1"><cn id="id6.4.m4.1.1.1.cmml" type="integer" xref="id6.4.m4.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id6.4.m4.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id6.4.m4.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id10.8.4">Victor Bursztyn<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id7.5.1.m1.1"><semantics id="id7.5.1.m1.1a"><msup id="id7.5.1.m1.1.1" xref="id7.5.1.m1.1.1.cmml"><mi id="id7.5.1.m1.1.1a" xref="id7.5.1.m1.1.1.cmml"></mi><mn id="id7.5.1.m1.1.1.1" mathvariant="normal" xref="id7.5.1.m1.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id7.5.1.m1.1b"><apply id="id7.5.1.m1.1.1.cmml" xref="id7.5.1.m1.1.1"><cn id="id7.5.1.m1.1.1.1.cmml" type="integer" xref="id7.5.1.m1.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id7.5.1.m1.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id7.5.1.m1.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>, Ryan A. Rossi<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id8.6.2.m2.1"><semantics id="id8.6.2.m2.1a"><msup id="id8.6.2.m2.1.1" xref="id8.6.2.m2.1.1.cmml"><mi id="id8.6.2.m2.1.1a" xref="id8.6.2.m2.1.1.cmml"></mi><mn id="id8.6.2.m2.1.1.1" mathvariant="normal" xref="id8.6.2.m2.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id8.6.2.m2.1b"><apply id="id8.6.2.m2.1.1.cmml" xref="id8.6.2.m2.1.1"><cn id="id8.6.2.m2.1.1.1.cmml" type="integer" xref="id8.6.2.m2.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id8.6.2.m2.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id8.6.2.m2.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>, Somdeb Sarkhel<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id9.7.3.m3.1"><semantics id="id9.7.3.m3.1a"><msup id="id9.7.3.m3.1.1" xref="id9.7.3.m3.1.1.cmml"><mi id="id9.7.3.m3.1.1a" xref="id9.7.3.m3.1.1.cmml"></mi><mn id="id9.7.3.m3.1.1.1" mathvariant="normal" xref="id9.7.3.m3.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id9.7.3.m3.1b"><apply id="id9.7.3.m3.1.1.cmml" xref="id9.7.3.m3.1.1"><cn id="id9.7.3.m3.1.1.1.cmml" type="integer" xref="id9.7.3.m3.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id9.7.3.m3.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id9.7.3.m3.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>, Chao Zhang<math alttext="{}^{1}" class="ltx_Math" display="inline" id="id10.8.4.m4.1"><semantics id="id10.8.4.m4.1a"><msup id="id10.8.4.m4.1.1" xref="id10.8.4.m4.1.1.cmml"><mi id="id10.8.4.m4.1.1a" xref="id10.8.4.m4.1.1.cmml"></mi><mn id="id10.8.4.m4.1.1.1" mathvariant="normal" xref="id10.8.4.m4.1.1.1.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id10.8.4.m4.1b"><apply id="id10.8.4.m4.1.1.cmml" xref="id10.8.4.m4.1.1"><cn id="id10.8.4.m4.1.1.1.cmml" type="integer" xref="id10.8.4.m4.1.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id10.8.4.m4.1c">{}^{1}</annotation><annotation encoding="application/x-llamapun" id="id10.8.4.m4.1d">start_FLOATSUPERSCRIPT 1 end_FLOATSUPERSCRIPT</annotation></semantics></math></span>
<br class="ltx_break"/>Georgia Institute of Technology<math alttext="{}^{1}" class="ltx_Math" display="inline" id="id11.9.m5.1"><semantics id="id11.9.m5.1a"><msup id="id11.9.m5.1.1" xref="id11.9.m5.1.1.cmml"><mi id="id11.9.m5.1.1a" xref="id11.9.m5.1.1.cmml"></mi><mn id="id11.9.m5.1.1.1" xref="id11.9.m5.1.1.1.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id11.9.m5.1b"><apply id="id11.9.m5.1.1.cmml" xref="id11.9.m5.1.1"><cn id="id11.9.m5.1.1.1.cmml" type="integer" xref="id11.9.m5.1.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id11.9.m5.1c">{}^{1}</annotation><annotation encoding="application/x-llamapun" id="id11.9.m5.1d">start_FLOATSUPERSCRIPT 1 end_FLOATSUPERSCRIPT</annotation></semantics></math> Adobe Research<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id12.10.m6.1"><semantics id="id12.10.m6.1a"><msup id="id12.10.m6.1.1" xref="id12.10.m6.1.1.cmml"><mi id="id12.10.m6.1.1a" xref="id12.10.m6.1.1.cmml"></mi><mn id="id12.10.m6.1.1.1" xref="id12.10.m6.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id12.10.m6.1b"><apply id="id12.10.m6.1.1.cmml" xref="id12.10.m6.1.1"><cn id="id12.10.m6.1.1.1.cmml" type="integer" xref="id12.10.m6.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id12.10.m6.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id12.10.m6.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id16.11.id1">yczhuang@gatech.edu, {xiangche, tyu, smitra}@adobe.com
<br class="ltx_break"/>{soaresbu, ryrossi, sarkhel}@adobe.com,  chaozhang@gatech.edu</span>
<br class="ltx_break"/>
</span><span class="ltx_author_notes">Work done during the author’s internship at Adobe Research.</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id15.3">Large language models (LLMs) have demonstrated powerful decision-making and planning capabilities in solving complicated real-world problems.
LLM-based autonomous agents can interact with diverse tools (e.g., functional APIs) and generate solution plans that execute a series of API function calls in a step-by-step manner.
The multitude of candidate API function calls significantly expands the action space, amplifying the critical need for efficient action space navigation.
However, existing methods either struggle with unidirectional exploration in expansive action spaces, trapped into a locally optimal solution, or suffer from exhaustively traversing all potential actions, causing inefficient navigation.
To address these issues, we propose ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="id13.1.m1.1"><semantics id="id13.1.m1.1a"><msup id="id13.1.m1.1.1" xref="id13.1.m1.1.1.cmml"><mi id="id13.1.m1.1.1a" xref="id13.1.m1.1.1.cmml"></mi><mo id="id13.1.m1.1.1.1" xref="id13.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="id13.1.m1.1b"><apply id="id13.1.m1.1.1.cmml" xref="id13.1.m1.1.1"><times id="id13.1.m1.1.1.1.cmml" xref="id13.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="id13.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="id13.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>, an efficient tree search-based planning algorithm for LLM-based agents. It formulates the entire action space as a decision tree, where each node represents a possible API function call involved in a solution plan.
By incorporating the A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="id14.2.m2.1"><semantics id="id14.2.m2.1a"><msup id="id14.2.m2.1.1" xref="id14.2.m2.1.1.cmml"><mi id="id14.2.m2.1.1a" xref="id14.2.m2.1.1.cmml"></mi><mo id="id14.2.m2.1.1.1" xref="id14.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="id14.2.m2.1b"><apply id="id14.2.m2.1.1.cmml" xref="id14.2.m2.1.1"><times id="id14.2.m2.1.1.1.cmml" xref="id14.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="id14.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="id14.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> search algorithm with task-specific cost function design, it efficiently prunes high-cost branches that may involve incorrect actions, identifying the most low-cost valid path as the solution.
Extensive experiments on multiple tool-use and reasoning tasks demonstrate that ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="id15.3.m3.1"><semantics id="id15.3.m3.1a"><msup id="id15.3.m3.1.1" xref="id15.3.m3.1.1.cmml"><mi id="id15.3.m3.1.1a" xref="id15.3.m3.1.1.cmml"></mi><mo id="id15.3.m3.1.1.1" xref="id15.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="id15.3.m3.1b"><apply id="id15.3.m3.1.1.cmml" xref="id15.3.m3.1.1"><times id="id15.3.m3.1.1.1.cmml" xref="id15.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="id15.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="id15.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> efficiently balances exploration and exploitation within an expansive action space.
It outperforms state-of-the-art baselines on planning and reasoning tasks by 3.1% and 3.5% on average while requiring 7.35x and 2.31x less time, respectively.
</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para ltx_noindent" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Large language models (LLMs), such as GPT <cite class="ltx_cite ltx_citemacro_citep">(Radford et al., <a class="ltx_ref" href="#bib.bib35" title="">2018</a>; <a class="ltx_ref" href="#bib.bib36" title="">2019</a>; Brown et al., <a class="ltx_ref" href="#bib.bib2" title="">2020</a>; OpenAI, <a class="ltx_ref" href="#bib.bib28" title="">2023</a>)</cite> and PaLM <cite class="ltx_cite ltx_citemacro_citep">(Chowdhery et al., <a class="ltx_ref" href="#bib.bib4" title="">2022</a>; Anil et al., <a class="ltx_ref" href="#bib.bib1" title="">2023</a>)</cite>, have exhibited remarkable capabilities of reasoning and instruction-following across a wide range of tasks <cite class="ltx_cite ltx_citemacro_citep">(Huang &amp; Chang, <a class="ltx_ref" href="#bib.bib10" title="">2023</a>)</cite>.
Recently, instructing LLMs to utilize external tools for complex real-world problems has emerged as a topic of growing importance <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib8" title="">2023b</a>; Zhang et al., <a class="ltx_ref" href="#bib.bib56" title="">2023</a>; Zhuang et al., <a class="ltx_ref" href="#bib.bib61" title="">2023</a>; Yang et al., <a class="ltx_ref" href="#bib.bib52" title="">2023b</a>; Schick et al., <a class="ltx_ref" href="#bib.bib37" title="">2023</a>; Lu et al., <a class="ltx_ref" href="#bib.bib23" title="">2023</a>)</cite>.
For complicated tasks, LLM-based autonomous agents integrate LLMs with various external tools (APIs), generating solutions that involve intermediate reasoning steps <cite class="ltx_cite ltx_citemacro_citep">(Schick et al., <a class="ltx_ref" href="#bib.bib37" title="">2023</a>; Lu et al., <a class="ltx_ref" href="#bib.bib23" title="">2023</a>; Patil et al., <a class="ltx_ref" href="#bib.bib31" title="">2023</a>; Qin et al., <a class="ltx_ref" href="#bib.bib34" title="">2023b</a>)</cite>.
Given a problem description, the goal of an agent is to determine a chain of API function calls that can be executed sequentially toward a valid solution.
However, given an action space of hundreds of candidate API functions, each comprised of various function names and parameters available at every planning step, searching for a globally optimal solution becomes highly challenging.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="222" id="S1.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>A comparison of existing methods that leverage LLMs for decision-making from a searching space perspective. Most existing methods of (1) open-loop systems (<em class="ltx_emph ltx_font_italic" id="S1.F1.7.1">e.g.</em>, Chain-of-Thought <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="#bib.bib46" title="">2022</a>)</cite>), (2) greedy closed-loop systems (<em class="ltx_emph ltx_font_italic" id="S1.F1.8.2">e.g.</em>, ReAct <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>)</cite>), and (3) closed-loop systems (<em class="ltx_emph ltx_font_italic" id="S1.F1.9.3">e.g.</em>, Adaplanner <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a class="ltx_ref" href="#bib.bib41" title="">2023</a>)</cite>) only explore one possible direction. This often leads to limited exploration of the entire action space. In contrast, (4) tree search-based methods (<em class="ltx_emph ltx_font_italic" id="S1.F1.10.4">e.g.</em>, Tree-of-Thoughts <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite>) identify a valid solution path by extensively examining multiple decision space branches, covering almost every conceivable node. Our proposed ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.F1.2.m1.1"><semantics id="S1.F1.2.m1.1b"><msup id="S1.F1.2.m1.1.1" xref="S1.F1.2.m1.1.1.cmml"><mi id="S1.F1.2.m1.1.1b" xref="S1.F1.2.m1.1.1.cmml"></mi><mo id="S1.F1.2.m1.1.1.1" xref="S1.F1.2.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.F1.2.m1.1c"><apply id="S1.F1.2.m1.1.1.cmml" xref="S1.F1.2.m1.1.1"><times id="S1.F1.2.m1.1.1.1.cmml" xref="S1.F1.2.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.2.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.F1.2.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> belongs to the tree search-based category and improves by developing an efficient search algorithm.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Existing methods that leverage LLMs as autonomous agents for decision-making and reasoning can be broadly classified into four categories (Figure <a class="ltx_ref" href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">1</span></a>):
(1) <span class="ltx_text ltx_font_italic" id="S1.p2.1.1">open-loop methods</span> <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="#bib.bib46" title="">2022</a>; Zhou et al., <a class="ltx_ref" href="#bib.bib59" title="">2022</a>; Huang et al., <a class="ltx_ref" href="#bib.bib11" title="">2022a</a>; Shen et al., <a class="ltx_ref" href="#bib.bib38" title="">2023</a>; Lu et al., <a class="ltx_ref" href="#bib.bib23" title="">2023</a>)</cite> generate a complete plan for problem-solving without any adaptation during the execution;
(2) <span class="ltx_text ltx_font_italic" id="S1.p2.1.2">greedy closed-loop methods</span> <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>; Jang, <a class="ltx_ref" href="#bib.bib14" title="">2023</a>; Huang et al., <a class="ltx_ref" href="#bib.bib12" title="">2022b</a>; Kim et al., <a class="ltx_ref" href="#bib.bib17" title="">2023</a>; Liang et al., <a class="ltx_ref" href="#bib.bib20" title="">2022</a>)</cite> leverage environmental feedback to greedily determine the next step in the plan;
and (3) <span class="ltx_text ltx_font_italic" id="S1.p2.1.3">closed-loop methods</span> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="#bib.bib45" title="">2023</a>; Sun et al., <a class="ltx_ref" href="#bib.bib41" title="">2023</a>)</cite> incorporate environment feedback to continuously monitor system behaviors and modify subsequent plans accordingly.
However, such unidirectional navigation systems have two major limitations: <span class="ltx_text ltx_font_bold" id="S1.p2.1.4">error propagation</span>, originating from a mistaken action and leading to a faulty loop;
<span class="ltx_text ltx_font_bold" id="S1.p2.1.5">limited exploration</span>, despite being equipped with plan refinement strategies, most existing methods only explore a small portion of the large action space, falling into locally optimal solutions.
To this end, few studies initiate exploring (4) <span class="ltx_text ltx_font_italic" id="S1.p2.1.6">tree search-based methods</span> <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>; Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite> for leveraging multiple reasoning paths simultaneously and evaluating branches to decide the next course of action.
However, existing tree search-based algorithms, such as depth-first search (DFS) <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite> and Monte Carlo Tree Search (MCTS) <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite>, require exhaustive exploration of nearly all potential actions within the entire decision space, resulting in <span class="ltx_text ltx_font_bold" id="S1.p2.1.7">inefficient searches</span> for globally optimal solutions.
</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p3">
<p class="ltx_p" id="S1.p3.6">To address these limitations, we propose ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.p3.1.m1.1"><semantics id="S1.p3.1.m1.1a"><msup id="S1.p3.1.m1.1.1" xref="S1.p3.1.m1.1.1.cmml"><mi id="S1.p3.1.m1.1.1a" xref="S1.p3.1.m1.1.1.cmml"></mi><mo id="S1.p3.1.m1.1.1.1" xref="S1.p3.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.p3.1.m1.1b"><apply id="S1.p3.1.m1.1.1.cmml" xref="S1.p3.1.m1.1.1"><times id="S1.p3.1.m1.1.1.1.cmml" xref="S1.p3.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.p3.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>, an efficient A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.p3.2.m2.1"><semantics id="S1.p3.2.m2.1a"><msup id="S1.p3.2.m2.1.1" xref="S1.p3.2.m2.1.1.cmml"><mi id="S1.p3.2.m2.1.1a" xref="S1.p3.2.m2.1.1.cmml"></mi><mo id="S1.p3.2.m2.1.1.1" xref="S1.p3.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.p3.2.m2.1b"><apply id="S1.p3.2.m2.1.1.cmml" xref="S1.p3.2.m2.1.1"><times id="S1.p3.2.m2.1.1.1.cmml" xref="S1.p3.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.p3.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> tree search-based planning method for LLM-based agents.
We formulate the tool-use planning process as a decision tree, where each node represents a potential API call for a given step.
Aligned with the traditional A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.p3.3.m3.1"><semantics id="S1.p3.3.m3.1a"><msup id="S1.p3.3.m3.1.1" xref="S1.p3.3.m3.1.1.cmml"><mi id="S1.p3.3.m3.1.1a" xref="S1.p3.3.m3.1.1.cmml"></mi><mo id="S1.p3.3.m3.1.1.1" xref="S1.p3.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.p3.3.m3.1b"><apply id="S1.p3.3.m3.1.1.cmml" xref="S1.p3.3.m3.1.1"><times id="S1.p3.3.m3.1.1.1.cmml" xref="S1.p3.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.p3.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> search algorithm, the proposed ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.p3.4.m4.1"><semantics id="S1.p3.4.m4.1a"><msup id="S1.p3.4.m4.1.1" xref="S1.p3.4.m4.1.1.cmml"><mi id="S1.p3.4.m4.1.1a" xref="S1.p3.4.m4.1.1.cmml"></mi><mo id="S1.p3.4.m4.1.1.1" xref="S1.p3.4.m4.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.p3.4.m4.1b"><apply id="S1.p3.4.m4.1.1.cmml" xref="S1.p3.4.m4.1.1"><times id="S1.p3.4.m4.1.1.1.cmml" xref="S1.p3.4.m4.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.4.m4.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.p3.4.m4.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> determines which paths to extend based on both the cost of the current path and an estimated future cost required for completing the current plan. With task-specific cost functions, erroneous actions will be penalized and mitigated, as these actions cause additional costs when propagated along the path, leading the path to be progressively de-prioritized and left unexpanded over iterations.
In addition, unlike the simulation stage in MCTS, which requires multiple steps to simulate until a terminal state during rollout, the future cost estimation in ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.p3.5.m5.1"><semantics id="S1.p3.5.m5.1a"><msup id="S1.p3.5.m5.1.1" xref="S1.p3.5.m5.1.1.cmml"><mi id="S1.p3.5.m5.1.1a" xref="S1.p3.5.m5.1.1.cmml"></mi><mo id="S1.p3.5.m5.1.1.1" xref="S1.p3.5.m5.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.p3.5.m5.1b"><apply id="S1.p3.5.m5.1.1.cmml" xref="S1.p3.5.m5.1.1"><times id="S1.p3.5.m5.1.1.1.cmml" xref="S1.p3.5.m5.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.5.m5.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.p3.5.m5.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> enables expansion of only the next step.
With efficient node expansion, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.p3.6.m6.1"><semantics id="S1.p3.6.m6.1a"><msup id="S1.p3.6.m6.1.1" xref="S1.p3.6.m6.1.1.cmml"><mi id="S1.p3.6.m6.1.1a" xref="S1.p3.6.m6.1.1.cmml"></mi><mo id="S1.p3.6.m6.1.1.1" xref="S1.p3.6.m6.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.p3.6.m6.1b"><apply id="S1.p3.6.m6.1.1.cmml" xref="S1.p3.6.m6.1.1"><times id="S1.p3.6.m6.1.1.1.cmml" xref="S1.p3.6.m6.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.6.m6.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.p3.6.m6.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> effectively searches for globally optimal solutions within a manageable number of steps.
</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p4">
<p class="ltx_p" id="S1.p4.4">Our main contributions are as follows:
(1) We propose ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.p4.1.m1.1"><semantics id="S1.p4.1.m1.1a"><msup id="S1.p4.1.m1.1.1" xref="S1.p4.1.m1.1.1.cmml"><mi id="S1.p4.1.m1.1.1a" xref="S1.p4.1.m1.1.1.cmml"></mi><mo id="S1.p4.1.m1.1.1.1" xref="S1.p4.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.p4.1.m1.1b"><apply id="S1.p4.1.m1.1.1.cmml" xref="S1.p4.1.m1.1.1"><times id="S1.p4.1.m1.1.1.1.cmml" xref="S1.p4.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.p4.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>, a novel A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.p4.2.m2.1"><semantics id="S1.p4.2.m2.1a"><msup id="S1.p4.2.m2.1.1" xref="S1.p4.2.m2.1.1.cmml"><mi id="S1.p4.2.m2.1.1a" xref="S1.p4.2.m2.1.1.cmml"></mi><mo id="S1.p4.2.m2.1.1.1" xref="S1.p4.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.p4.2.m2.1b"><apply id="S1.p4.2.m2.1.1.cmml" xref="S1.p4.2.m2.1.1"><times id="S1.p4.2.m2.1.1.1.cmml" xref="S1.p4.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.p4.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>-like tree search algorithm, to develop autonomous LLM-based agents for complex planning and reasoning tasks;
(2) ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.p4.3.m3.1"><semantics id="S1.p4.3.m3.1a"><msup id="S1.p4.3.m3.1.1" xref="S1.p4.3.m3.1.1.cmml"><mi id="S1.p4.3.m3.1.1a" xref="S1.p4.3.m3.1.1.cmml"></mi><mo id="S1.p4.3.m3.1.1.1" xref="S1.p4.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.p4.3.m3.1b"><apply id="S1.p4.3.m3.1.1.cmml" xref="S1.p4.3.m3.1.1"><times id="S1.p4.3.m3.1.1.1.cmml" xref="S1.p4.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.p4.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> formulates the action space as a decision tree, effectively mitigating error propagation and expanding search space;
and (3) ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S1.p4.4.m4.1"><semantics id="S1.p4.4.m4.1a"><msup id="S1.p4.4.m4.1.1" xref="S1.p4.4.m4.1.1.cmml"><mi id="S1.p4.4.m4.1.1a" xref="S1.p4.4.m4.1.1.cmml"></mi><mo id="S1.p4.4.m4.1.1.1" xref="S1.p4.4.m4.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S1.p4.4.m4.1b"><apply id="S1.p4.4.m4.1.1.cmml" xref="S1.p4.4.m4.1.1"><times id="S1.p4.4.m4.1.1.1.cmml" xref="S1.p4.4.m4.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.4.m4.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S1.p4.4.m4.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> significantly accelerates LLM-based agents in navigating expansive action tree spaces, striking a balance between exploring unvisited actions and exploiting global optimal solutions.
</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Preliminaries</h2>
<div class="ltx_para ltx_noindent" id="S2.p1">
<p class="ltx_p" id="S2.p1.16"><span class="ltx_text ltx_font_bold" id="S2.p1.16.1">Problem Formulation.</span>
Leveraging LLMs as agents for problem solving can be conceptualized as a planning process.
For initialization, the LLM agent is augmented with access to a pool of <math alttext="m" class="ltx_Math" display="inline" id="S2.p1.1.m1.1"><semantics id="S2.p1.1.m1.1a"><mi id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.1b"><ci id="S2.p1.1.m1.1.1.cmml" xref="S2.p1.1.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.1c">m</annotation><annotation encoding="application/x-llamapun" id="S2.p1.1.m1.1d">italic_m</annotation></semantics></math> candidate API functions, denoted as <math alttext="\mathcal{A}=\{\operatorname{API}_{0},\operatorname{API}_{1},\cdots,%
\operatorname{API}_{m}\}" class="ltx_Math" display="inline" id="S2.p1.2.m2.4"><semantics id="S2.p1.2.m2.4a"><mrow id="S2.p1.2.m2.4.4" xref="S2.p1.2.m2.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p1.2.m2.4.4.5" xref="S2.p1.2.m2.4.4.5.cmml">𝒜</mi><mo id="S2.p1.2.m2.4.4.4" xref="S2.p1.2.m2.4.4.4.cmml">=</mo><mrow id="S2.p1.2.m2.4.4.3.3" xref="S2.p1.2.m2.4.4.3.4.cmml"><mo id="S2.p1.2.m2.4.4.3.3.4" stretchy="false" xref="S2.p1.2.m2.4.4.3.4.cmml">{</mo><msub id="S2.p1.2.m2.2.2.1.1.1" xref="S2.p1.2.m2.2.2.1.1.1.cmml"><mi id="S2.p1.2.m2.2.2.1.1.1.2" xref="S2.p1.2.m2.2.2.1.1.1.2.cmml">API</mi><mn id="S2.p1.2.m2.2.2.1.1.1.3" xref="S2.p1.2.m2.2.2.1.1.1.3.cmml">0</mn></msub><mo id="S2.p1.2.m2.4.4.3.3.5" xref="S2.p1.2.m2.4.4.3.4.cmml">,</mo><msub id="S2.p1.2.m2.3.3.2.2.2" xref="S2.p1.2.m2.3.3.2.2.2.cmml"><mi id="S2.p1.2.m2.3.3.2.2.2.2" xref="S2.p1.2.m2.3.3.2.2.2.2.cmml">API</mi><mn id="S2.p1.2.m2.3.3.2.2.2.3" xref="S2.p1.2.m2.3.3.2.2.2.3.cmml">1</mn></msub><mo id="S2.p1.2.m2.4.4.3.3.6" xref="S2.p1.2.m2.4.4.3.4.cmml">,</mo><mi id="S2.p1.2.m2.1.1" mathvariant="normal" xref="S2.p1.2.m2.1.1.cmml">⋯</mi><mo id="S2.p1.2.m2.4.4.3.3.7" xref="S2.p1.2.m2.4.4.3.4.cmml">,</mo><msub id="S2.p1.2.m2.4.4.3.3.3" xref="S2.p1.2.m2.4.4.3.3.3.cmml"><mi id="S2.p1.2.m2.4.4.3.3.3.2" xref="S2.p1.2.m2.4.4.3.3.3.2.cmml">API</mi><mi id="S2.p1.2.m2.4.4.3.3.3.3" xref="S2.p1.2.m2.4.4.3.3.3.3.cmml">m</mi></msub><mo id="S2.p1.2.m2.4.4.3.3.8" stretchy="false" xref="S2.p1.2.m2.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.2.m2.4b"><apply id="S2.p1.2.m2.4.4.cmml" xref="S2.p1.2.m2.4.4"><eq id="S2.p1.2.m2.4.4.4.cmml" xref="S2.p1.2.m2.4.4.4"></eq><ci id="S2.p1.2.m2.4.4.5.cmml" xref="S2.p1.2.m2.4.4.5">𝒜</ci><set id="S2.p1.2.m2.4.4.3.4.cmml" xref="S2.p1.2.m2.4.4.3.3"><apply id="S2.p1.2.m2.2.2.1.1.1.cmml" xref="S2.p1.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.p1.2.m2.2.2.1.1.1.1.cmml" xref="S2.p1.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S2.p1.2.m2.2.2.1.1.1.2.cmml" xref="S2.p1.2.m2.2.2.1.1.1.2">API</ci><cn id="S2.p1.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S2.p1.2.m2.2.2.1.1.1.3">0</cn></apply><apply id="S2.p1.2.m2.3.3.2.2.2.cmml" xref="S2.p1.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.p1.2.m2.3.3.2.2.2.1.cmml" xref="S2.p1.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S2.p1.2.m2.3.3.2.2.2.2.cmml" xref="S2.p1.2.m2.3.3.2.2.2.2">API</ci><cn id="S2.p1.2.m2.3.3.2.2.2.3.cmml" type="integer" xref="S2.p1.2.m2.3.3.2.2.2.3">1</cn></apply><ci id="S2.p1.2.m2.1.1.cmml" xref="S2.p1.2.m2.1.1">⋯</ci><apply id="S2.p1.2.m2.4.4.3.3.3.cmml" xref="S2.p1.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.p1.2.m2.4.4.3.3.3.1.cmml" xref="S2.p1.2.m2.4.4.3.3.3">subscript</csymbol><ci id="S2.p1.2.m2.4.4.3.3.3.2.cmml" xref="S2.p1.2.m2.4.4.3.3.3.2">API</ci><ci id="S2.p1.2.m2.4.4.3.3.3.3.cmml" xref="S2.p1.2.m2.4.4.3.3.3.3">𝑚</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.2.m2.4c">\mathcal{A}=\{\operatorname{API}_{0},\operatorname{API}_{1},\cdots,%
\operatorname{API}_{m}\}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.2.m2.4d">caligraphic_A = { roman_API start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , roman_API start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , ⋯ , roman_API start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT }</annotation></semantics></math>, along with a natural language task description <math alttext="g\in\mathcal{G}" class="ltx_Math" display="inline" id="S2.p1.3.m3.1"><semantics id="S2.p1.3.m3.1a"><mrow id="S2.p1.3.m3.1.1" xref="S2.p1.3.m3.1.1.cmml"><mi id="S2.p1.3.m3.1.1.2" xref="S2.p1.3.m3.1.1.2.cmml">g</mi><mo id="S2.p1.3.m3.1.1.1" xref="S2.p1.3.m3.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.p1.3.m3.1.1.3" xref="S2.p1.3.m3.1.1.3.cmml">𝒢</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.3.m3.1b"><apply id="S2.p1.3.m3.1.1.cmml" xref="S2.p1.3.m3.1.1"><in id="S2.p1.3.m3.1.1.1.cmml" xref="S2.p1.3.m3.1.1.1"></in><ci id="S2.p1.3.m3.1.1.2.cmml" xref="S2.p1.3.m3.1.1.2">𝑔</ci><ci id="S2.p1.3.m3.1.1.3.cmml" xref="S2.p1.3.m3.1.1.3">𝒢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.3.m3.1c">g\in\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.3.m3.1d">italic_g ∈ caligraphic_G</annotation></semantics></math> from the task space <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S2.p1.4.m4.1"><semantics id="S2.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S2.p1.4.m4.1.1" xref="S2.p1.4.m4.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S2.p1.4.m4.1b"><ci id="S2.p1.4.m4.1.1.cmml" xref="S2.p1.4.m4.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.4.m4.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.4.m4.1d">caligraphic_G</annotation></semantics></math>.
The objective of the LLM agent is to translate the task description <math alttext="g" class="ltx_Math" display="inline" id="S2.p1.5.m5.1"><semantics id="S2.p1.5.m5.1a"><mi id="S2.p1.5.m5.1.1" xref="S2.p1.5.m5.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S2.p1.5.m5.1b"><ci id="S2.p1.5.m5.1.1.cmml" xref="S2.p1.5.m5.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.5.m5.1c">g</annotation><annotation encoding="application/x-llamapun" id="S2.p1.5.m5.1d">italic_g</annotation></semantics></math> into an ordered sequence of <math alttext="T_{g}" class="ltx_Math" display="inline" id="S2.p1.6.m6.1"><semantics id="S2.p1.6.m6.1a"><msub id="S2.p1.6.m6.1.1" xref="S2.p1.6.m6.1.1.cmml"><mi id="S2.p1.6.m6.1.1.2" xref="S2.p1.6.m6.1.1.2.cmml">T</mi><mi id="S2.p1.6.m6.1.1.3" xref="S2.p1.6.m6.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p1.6.m6.1b"><apply id="S2.p1.6.m6.1.1.cmml" xref="S2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S2.p1.6.m6.1.1.1.cmml" xref="S2.p1.6.m6.1.1">subscript</csymbol><ci id="S2.p1.6.m6.1.1.2.cmml" xref="S2.p1.6.m6.1.1.2">𝑇</ci><ci id="S2.p1.6.m6.1.1.3.cmml" xref="S2.p1.6.m6.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.6.m6.1c">T_{g}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.6.m6.1d">italic_T start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT</annotation></semantics></math> API function calls <math alttext="p_{g}=\{a_{0},a_{1},\cdots,a_{T_{g}}\}" class="ltx_Math" display="inline" id="S2.p1.7.m7.4"><semantics id="S2.p1.7.m7.4a"><mrow id="S2.p1.7.m7.4.4" xref="S2.p1.7.m7.4.4.cmml"><msub id="S2.p1.7.m7.4.4.5" xref="S2.p1.7.m7.4.4.5.cmml"><mi id="S2.p1.7.m7.4.4.5.2" xref="S2.p1.7.m7.4.4.5.2.cmml">p</mi><mi id="S2.p1.7.m7.4.4.5.3" xref="S2.p1.7.m7.4.4.5.3.cmml">g</mi></msub><mo id="S2.p1.7.m7.4.4.4" xref="S2.p1.7.m7.4.4.4.cmml">=</mo><mrow id="S2.p1.7.m7.4.4.3.3" xref="S2.p1.7.m7.4.4.3.4.cmml"><mo id="S2.p1.7.m7.4.4.3.3.4" stretchy="false" xref="S2.p1.7.m7.4.4.3.4.cmml">{</mo><msub id="S2.p1.7.m7.2.2.1.1.1" xref="S2.p1.7.m7.2.2.1.1.1.cmml"><mi id="S2.p1.7.m7.2.2.1.1.1.2" xref="S2.p1.7.m7.2.2.1.1.1.2.cmml">a</mi><mn id="S2.p1.7.m7.2.2.1.1.1.3" xref="S2.p1.7.m7.2.2.1.1.1.3.cmml">0</mn></msub><mo id="S2.p1.7.m7.4.4.3.3.5" xref="S2.p1.7.m7.4.4.3.4.cmml">,</mo><msub id="S2.p1.7.m7.3.3.2.2.2" xref="S2.p1.7.m7.3.3.2.2.2.cmml"><mi id="S2.p1.7.m7.3.3.2.2.2.2" xref="S2.p1.7.m7.3.3.2.2.2.2.cmml">a</mi><mn id="S2.p1.7.m7.3.3.2.2.2.3" xref="S2.p1.7.m7.3.3.2.2.2.3.cmml">1</mn></msub><mo id="S2.p1.7.m7.4.4.3.3.6" xref="S2.p1.7.m7.4.4.3.4.cmml">,</mo><mi id="S2.p1.7.m7.1.1" mathvariant="normal" xref="S2.p1.7.m7.1.1.cmml">⋯</mi><mo id="S2.p1.7.m7.4.4.3.3.7" xref="S2.p1.7.m7.4.4.3.4.cmml">,</mo><msub id="S2.p1.7.m7.4.4.3.3.3" xref="S2.p1.7.m7.4.4.3.3.3.cmml"><mi id="S2.p1.7.m7.4.4.3.3.3.2" xref="S2.p1.7.m7.4.4.3.3.3.2.cmml">a</mi><msub id="S2.p1.7.m7.4.4.3.3.3.3" xref="S2.p1.7.m7.4.4.3.3.3.3.cmml"><mi id="S2.p1.7.m7.4.4.3.3.3.3.2" xref="S2.p1.7.m7.4.4.3.3.3.3.2.cmml">T</mi><mi id="S2.p1.7.m7.4.4.3.3.3.3.3" xref="S2.p1.7.m7.4.4.3.3.3.3.3.cmml">g</mi></msub></msub><mo id="S2.p1.7.m7.4.4.3.3.8" stretchy="false" xref="S2.p1.7.m7.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.7.m7.4b"><apply id="S2.p1.7.m7.4.4.cmml" xref="S2.p1.7.m7.4.4"><eq id="S2.p1.7.m7.4.4.4.cmml" xref="S2.p1.7.m7.4.4.4"></eq><apply id="S2.p1.7.m7.4.4.5.cmml" xref="S2.p1.7.m7.4.4.5"><csymbol cd="ambiguous" id="S2.p1.7.m7.4.4.5.1.cmml" xref="S2.p1.7.m7.4.4.5">subscript</csymbol><ci id="S2.p1.7.m7.4.4.5.2.cmml" xref="S2.p1.7.m7.4.4.5.2">𝑝</ci><ci id="S2.p1.7.m7.4.4.5.3.cmml" xref="S2.p1.7.m7.4.4.5.3">𝑔</ci></apply><set id="S2.p1.7.m7.4.4.3.4.cmml" xref="S2.p1.7.m7.4.4.3.3"><apply id="S2.p1.7.m7.2.2.1.1.1.cmml" xref="S2.p1.7.m7.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.p1.7.m7.2.2.1.1.1.1.cmml" xref="S2.p1.7.m7.2.2.1.1.1">subscript</csymbol><ci id="S2.p1.7.m7.2.2.1.1.1.2.cmml" xref="S2.p1.7.m7.2.2.1.1.1.2">𝑎</ci><cn id="S2.p1.7.m7.2.2.1.1.1.3.cmml" type="integer" xref="S2.p1.7.m7.2.2.1.1.1.3">0</cn></apply><apply id="S2.p1.7.m7.3.3.2.2.2.cmml" xref="S2.p1.7.m7.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.p1.7.m7.3.3.2.2.2.1.cmml" xref="S2.p1.7.m7.3.3.2.2.2">subscript</csymbol><ci id="S2.p1.7.m7.3.3.2.2.2.2.cmml" xref="S2.p1.7.m7.3.3.2.2.2.2">𝑎</ci><cn id="S2.p1.7.m7.3.3.2.2.2.3.cmml" type="integer" xref="S2.p1.7.m7.3.3.2.2.2.3">1</cn></apply><ci id="S2.p1.7.m7.1.1.cmml" xref="S2.p1.7.m7.1.1">⋯</ci><apply id="S2.p1.7.m7.4.4.3.3.3.cmml" xref="S2.p1.7.m7.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.p1.7.m7.4.4.3.3.3.1.cmml" xref="S2.p1.7.m7.4.4.3.3.3">subscript</csymbol><ci id="S2.p1.7.m7.4.4.3.3.3.2.cmml" xref="S2.p1.7.m7.4.4.3.3.3.2">𝑎</ci><apply id="S2.p1.7.m7.4.4.3.3.3.3.cmml" xref="S2.p1.7.m7.4.4.3.3.3.3"><csymbol cd="ambiguous" id="S2.p1.7.m7.4.4.3.3.3.3.1.cmml" xref="S2.p1.7.m7.4.4.3.3.3.3">subscript</csymbol><ci id="S2.p1.7.m7.4.4.3.3.3.3.2.cmml" xref="S2.p1.7.m7.4.4.3.3.3.3.2">𝑇</ci><ci id="S2.p1.7.m7.4.4.3.3.3.3.3.cmml" xref="S2.p1.7.m7.4.4.3.3.3.3.3">𝑔</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.7.m7.4c">p_{g}=\{a_{0},a_{1},\cdots,a_{T_{g}}\}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.7.m7.4d">italic_p start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT = { italic_a start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT end_POSTSUBSCRIPT }</annotation></semantics></math>.
Specifically, considering the task description <math alttext="g" class="ltx_Math" display="inline" id="S2.p1.8.m8.1"><semantics id="S2.p1.8.m8.1a"><mi id="S2.p1.8.m8.1.1" xref="S2.p1.8.m8.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S2.p1.8.m8.1b"><ci id="S2.p1.8.m8.1.1.cmml" xref="S2.p1.8.m8.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.8.m8.1c">g</annotation><annotation encoding="application/x-llamapun" id="S2.p1.8.m8.1d">italic_g</annotation></semantics></math> as the initial state <math alttext="s_{0}" class="ltx_Math" display="inline" id="S2.p1.9.m9.1"><semantics id="S2.p1.9.m9.1a"><msub id="S2.p1.9.m9.1.1" xref="S2.p1.9.m9.1.1.cmml"><mi id="S2.p1.9.m9.1.1.2" xref="S2.p1.9.m9.1.1.2.cmml">s</mi><mn id="S2.p1.9.m9.1.1.3" xref="S2.p1.9.m9.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S2.p1.9.m9.1b"><apply id="S2.p1.9.m9.1.1.cmml" xref="S2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S2.p1.9.m9.1.1.1.cmml" xref="S2.p1.9.m9.1.1">subscript</csymbol><ci id="S2.p1.9.m9.1.1.2.cmml" xref="S2.p1.9.m9.1.1.2">𝑠</ci><cn id="S2.p1.9.m9.1.1.3.cmml" type="integer" xref="S2.p1.9.m9.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.9.m9.1c">s_{0}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.9.m9.1d">italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math>, we sample the plan <math alttext="p_{g}" class="ltx_Math" display="inline" id="S2.p1.10.m10.1"><semantics id="S2.p1.10.m10.1a"><msub id="S2.p1.10.m10.1.1" xref="S2.p1.10.m10.1.1.cmml"><mi id="S2.p1.10.m10.1.1.2" xref="S2.p1.10.m10.1.1.2.cmml">p</mi><mi id="S2.p1.10.m10.1.1.3" xref="S2.p1.10.m10.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p1.10.m10.1b"><apply id="S2.p1.10.m10.1.1.cmml" xref="S2.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S2.p1.10.m10.1.1.1.cmml" xref="S2.p1.10.m10.1.1">subscript</csymbol><ci id="S2.p1.10.m10.1.1.2.cmml" xref="S2.p1.10.m10.1.1.2">𝑝</ci><ci id="S2.p1.10.m10.1.1.3.cmml" xref="S2.p1.10.m10.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.10.m10.1c">p_{g}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.10.m10.1d">italic_p start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT</annotation></semantics></math> by prompting the LLM agent with the API definitions <math alttext="\mathcal{I}" class="ltx_Math" display="inline" id="S2.p1.11.m11.1"><semantics id="S2.p1.11.m11.1a"><mi class="ltx_font_mathcaligraphic" id="S2.p1.11.m11.1.1" xref="S2.p1.11.m11.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S2.p1.11.m11.1b"><ci id="S2.p1.11.m11.1.1.cmml" xref="S2.p1.11.m11.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.11.m11.1c">\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.11.m11.1d">caligraphic_I</annotation></semantics></math> and demonstration samples <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S2.p1.12.m12.1"><semantics id="S2.p1.12.m12.1a"><mi class="ltx_font_mathcaligraphic" id="S2.p1.12.m12.1.1" xref="S2.p1.12.m12.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S2.p1.12.m12.1b"><ci id="S2.p1.12.m12.1.1.cmml" xref="S2.p1.12.m12.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.12.m12.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.12.m12.1d">caligraphic_D</annotation></semantics></math> as: <math alttext="p_{g}\sim\rho(a_{0},a_{1},\cdots,a_{T_{g}}|s_{0};\mathcal{I},\mathcal{D}):%
\mathcal{G}\times\mathcal{I}\times\mathcal{D}\to\Delta(\mathcal{A}^{T_{g}})" class="ltx_Math" display="inline" id="S2.p1.13.m13.7"><semantics id="S2.p1.13.m13.7a"><mrow id="S2.p1.13.m13.7.7" xref="S2.p1.13.m13.7.7.cmml"><mrow id="S2.p1.13.m13.6.6.3" xref="S2.p1.13.m13.6.6.3.cmml"><msub id="S2.p1.13.m13.6.6.3.5" xref="S2.p1.13.m13.6.6.3.5.cmml"><mi id="S2.p1.13.m13.6.6.3.5.2" xref="S2.p1.13.m13.6.6.3.5.2.cmml">p</mi><mi id="S2.p1.13.m13.6.6.3.5.3" xref="S2.p1.13.m13.6.6.3.5.3.cmml">g</mi></msub><mo id="S2.p1.13.m13.6.6.3.4" xref="S2.p1.13.m13.6.6.3.4.cmml">∼</mo><mrow id="S2.p1.13.m13.6.6.3.3" xref="S2.p1.13.m13.6.6.3.3.cmml"><mi id="S2.p1.13.m13.6.6.3.3.5" xref="S2.p1.13.m13.6.6.3.3.5.cmml">ρ</mi><mo id="S2.p1.13.m13.6.6.3.3.4" xref="S2.p1.13.m13.6.6.3.3.4.cmml">⁢</mo><mrow id="S2.p1.13.m13.6.6.3.3.3.3" xref="S2.p1.13.m13.6.6.3.3.3.4.cmml"><mo id="S2.p1.13.m13.6.6.3.3.3.3.4" stretchy="false" xref="S2.p1.13.m13.6.6.3.3.3.4.cmml">(</mo><msub id="S2.p1.13.m13.4.4.1.1.1.1.1" xref="S2.p1.13.m13.4.4.1.1.1.1.1.cmml"><mi id="S2.p1.13.m13.4.4.1.1.1.1.1.2" xref="S2.p1.13.m13.4.4.1.1.1.1.1.2.cmml">a</mi><mn id="S2.p1.13.m13.4.4.1.1.1.1.1.3" xref="S2.p1.13.m13.4.4.1.1.1.1.1.3.cmml">0</mn></msub><mo id="S2.p1.13.m13.6.6.3.3.3.3.5" xref="S2.p1.13.m13.6.6.3.3.3.4.cmml">,</mo><msub id="S2.p1.13.m13.5.5.2.2.2.2.2" xref="S2.p1.13.m13.5.5.2.2.2.2.2.cmml"><mi id="S2.p1.13.m13.5.5.2.2.2.2.2.2" xref="S2.p1.13.m13.5.5.2.2.2.2.2.2.cmml">a</mi><mn id="S2.p1.13.m13.5.5.2.2.2.2.2.3" xref="S2.p1.13.m13.5.5.2.2.2.2.2.3.cmml">1</mn></msub><mo id="S2.p1.13.m13.6.6.3.3.3.3.6" xref="S2.p1.13.m13.6.6.3.3.3.4.cmml">,</mo><mi id="S2.p1.13.m13.3.3" mathvariant="normal" xref="S2.p1.13.m13.3.3.cmml">⋯</mi><mo id="S2.p1.13.m13.6.6.3.3.3.3.7" xref="S2.p1.13.m13.6.6.3.3.3.4.cmml">,</mo><mrow id="S2.p1.13.m13.6.6.3.3.3.3.3" xref="S2.p1.13.m13.6.6.3.3.3.3.3.cmml"><msub id="S2.p1.13.m13.6.6.3.3.3.3.3.3" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3.cmml"><mi id="S2.p1.13.m13.6.6.3.3.3.3.3.3.2" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3.2.cmml">a</mi><msub id="S2.p1.13.m13.6.6.3.3.3.3.3.3.3" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.cmml"><mi id="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.2" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.2.cmml">T</mi><mi id="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.3" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.3.cmml">g</mi></msub></msub><mo fence="false" id="S2.p1.13.m13.6.6.3.3.3.3.3.2" xref="S2.p1.13.m13.6.6.3.3.3.3.3.2.cmml">|</mo><mrow id="S2.p1.13.m13.6.6.3.3.3.3.3.1.1" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.2.cmml"><msub id="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.cmml"><mi id="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.2" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.2.cmml">s</mi><mn id="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.3" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.3.cmml">0</mn></msub><mo id="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.2" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.2.cmml">;</mo><mi class="ltx_font_mathcaligraphic" id="S2.p1.13.m13.1.1" xref="S2.p1.13.m13.1.1.cmml">ℐ</mi><mo id="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.3" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S2.p1.13.m13.2.2" xref="S2.p1.13.m13.2.2.cmml">𝒟</mi></mrow></mrow><mo id="S2.p1.13.m13.6.6.3.3.3.3.8" rspace="0.278em" stretchy="false" xref="S2.p1.13.m13.6.6.3.3.3.4.cmml">)</mo></mrow></mrow></mrow><mo id="S2.p1.13.m13.7.7.5" rspace="0.278em" xref="S2.p1.13.m13.7.7.5.cmml">:</mo><mrow id="S2.p1.13.m13.7.7.4" xref="S2.p1.13.m13.7.7.4.cmml"><mrow id="S2.p1.13.m13.7.7.4.3" xref="S2.p1.13.m13.7.7.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p1.13.m13.7.7.4.3.2" xref="S2.p1.13.m13.7.7.4.3.2.cmml">𝒢</mi><mo id="S2.p1.13.m13.7.7.4.3.1" lspace="0.222em" rspace="0.222em" xref="S2.p1.13.m13.7.7.4.3.1.cmml">×</mo><mi class="ltx_font_mathcaligraphic" id="S2.p1.13.m13.7.7.4.3.3" xref="S2.p1.13.m13.7.7.4.3.3.cmml">ℐ</mi><mo id="S2.p1.13.m13.7.7.4.3.1a" lspace="0.222em" rspace="0.222em" xref="S2.p1.13.m13.7.7.4.3.1.cmml">×</mo><mi class="ltx_font_mathcaligraphic" id="S2.p1.13.m13.7.7.4.3.4" xref="S2.p1.13.m13.7.7.4.3.4.cmml">𝒟</mi></mrow><mo id="S2.p1.13.m13.7.7.4.2" stretchy="false" xref="S2.p1.13.m13.7.7.4.2.cmml">→</mo><mrow id="S2.p1.13.m13.7.7.4.1" xref="S2.p1.13.m13.7.7.4.1.cmml"><mi id="S2.p1.13.m13.7.7.4.1.3" mathvariant="normal" xref="S2.p1.13.m13.7.7.4.1.3.cmml">Δ</mi><mo id="S2.p1.13.m13.7.7.4.1.2" xref="S2.p1.13.m13.7.7.4.1.2.cmml">⁢</mo><mrow id="S2.p1.13.m13.7.7.4.1.1.1" xref="S2.p1.13.m13.7.7.4.1.1.1.1.cmml"><mo id="S2.p1.13.m13.7.7.4.1.1.1.2" stretchy="false" xref="S2.p1.13.m13.7.7.4.1.1.1.1.cmml">(</mo><msup id="S2.p1.13.m13.7.7.4.1.1.1.1" xref="S2.p1.13.m13.7.7.4.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p1.13.m13.7.7.4.1.1.1.1.2" xref="S2.p1.13.m13.7.7.4.1.1.1.1.2.cmml">𝒜</mi><msub id="S2.p1.13.m13.7.7.4.1.1.1.1.3" xref="S2.p1.13.m13.7.7.4.1.1.1.1.3.cmml"><mi id="S2.p1.13.m13.7.7.4.1.1.1.1.3.2" xref="S2.p1.13.m13.7.7.4.1.1.1.1.3.2.cmml">T</mi><mi id="S2.p1.13.m13.7.7.4.1.1.1.1.3.3" xref="S2.p1.13.m13.7.7.4.1.1.1.1.3.3.cmml">g</mi></msub></msup><mo id="S2.p1.13.m13.7.7.4.1.1.1.3" stretchy="false" xref="S2.p1.13.m13.7.7.4.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.13.m13.7b"><apply id="S2.p1.13.m13.7.7.cmml" xref="S2.p1.13.m13.7.7"><ci id="S2.p1.13.m13.7.7.5.cmml" xref="S2.p1.13.m13.7.7.5">:</ci><apply id="S2.p1.13.m13.6.6.3.cmml" xref="S2.p1.13.m13.6.6.3"><csymbol cd="latexml" id="S2.p1.13.m13.6.6.3.4.cmml" xref="S2.p1.13.m13.6.6.3.4">similar-to</csymbol><apply id="S2.p1.13.m13.6.6.3.5.cmml" xref="S2.p1.13.m13.6.6.3.5"><csymbol cd="ambiguous" id="S2.p1.13.m13.6.6.3.5.1.cmml" xref="S2.p1.13.m13.6.6.3.5">subscript</csymbol><ci id="S2.p1.13.m13.6.6.3.5.2.cmml" xref="S2.p1.13.m13.6.6.3.5.2">𝑝</ci><ci id="S2.p1.13.m13.6.6.3.5.3.cmml" xref="S2.p1.13.m13.6.6.3.5.3">𝑔</ci></apply><apply id="S2.p1.13.m13.6.6.3.3.cmml" xref="S2.p1.13.m13.6.6.3.3"><times id="S2.p1.13.m13.6.6.3.3.4.cmml" xref="S2.p1.13.m13.6.6.3.3.4"></times><ci id="S2.p1.13.m13.6.6.3.3.5.cmml" xref="S2.p1.13.m13.6.6.3.3.5">𝜌</ci><vector id="S2.p1.13.m13.6.6.3.3.3.4.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3"><apply id="S2.p1.13.m13.4.4.1.1.1.1.1.cmml" xref="S2.p1.13.m13.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.p1.13.m13.4.4.1.1.1.1.1.1.cmml" xref="S2.p1.13.m13.4.4.1.1.1.1.1">subscript</csymbol><ci id="S2.p1.13.m13.4.4.1.1.1.1.1.2.cmml" xref="S2.p1.13.m13.4.4.1.1.1.1.1.2">𝑎</ci><cn id="S2.p1.13.m13.4.4.1.1.1.1.1.3.cmml" type="integer" xref="S2.p1.13.m13.4.4.1.1.1.1.1.3">0</cn></apply><apply id="S2.p1.13.m13.5.5.2.2.2.2.2.cmml" xref="S2.p1.13.m13.5.5.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.p1.13.m13.5.5.2.2.2.2.2.1.cmml" xref="S2.p1.13.m13.5.5.2.2.2.2.2">subscript</csymbol><ci id="S2.p1.13.m13.5.5.2.2.2.2.2.2.cmml" xref="S2.p1.13.m13.5.5.2.2.2.2.2.2">𝑎</ci><cn id="S2.p1.13.m13.5.5.2.2.2.2.2.3.cmml" type="integer" xref="S2.p1.13.m13.5.5.2.2.2.2.2.3">1</cn></apply><ci id="S2.p1.13.m13.3.3.cmml" xref="S2.p1.13.m13.3.3">⋯</ci><apply id="S2.p1.13.m13.6.6.3.3.3.3.3.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3"><csymbol cd="latexml" id="S2.p1.13.m13.6.6.3.3.3.3.3.2.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.2">conditional</csymbol><apply id="S2.p1.13.m13.6.6.3.3.3.3.3.3.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S2.p1.13.m13.6.6.3.3.3.3.3.3.1.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3">subscript</csymbol><ci id="S2.p1.13.m13.6.6.3.3.3.3.3.3.2.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3.2">𝑎</ci><apply id="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.1.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3.3">subscript</csymbol><ci id="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.2.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.2">𝑇</ci><ci id="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.3.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.3.3.3">𝑔</ci></apply></apply><list id="S2.p1.13.m13.6.6.3.3.3.3.3.1.2.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.1"><apply id="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.1.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1">subscript</csymbol><ci id="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.2.cmml" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.2">𝑠</ci><cn id="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.3.cmml" type="integer" xref="S2.p1.13.m13.6.6.3.3.3.3.3.1.1.1.3">0</cn></apply><ci id="S2.p1.13.m13.1.1.cmml" xref="S2.p1.13.m13.1.1">ℐ</ci><ci id="S2.p1.13.m13.2.2.cmml" xref="S2.p1.13.m13.2.2">𝒟</ci></list></apply></vector></apply></apply><apply id="S2.p1.13.m13.7.7.4.cmml" xref="S2.p1.13.m13.7.7.4"><ci id="S2.p1.13.m13.7.7.4.2.cmml" xref="S2.p1.13.m13.7.7.4.2">→</ci><apply id="S2.p1.13.m13.7.7.4.3.cmml" xref="S2.p1.13.m13.7.7.4.3"><times id="S2.p1.13.m13.7.7.4.3.1.cmml" xref="S2.p1.13.m13.7.7.4.3.1"></times><ci id="S2.p1.13.m13.7.7.4.3.2.cmml" xref="S2.p1.13.m13.7.7.4.3.2">𝒢</ci><ci id="S2.p1.13.m13.7.7.4.3.3.cmml" xref="S2.p1.13.m13.7.7.4.3.3">ℐ</ci><ci id="S2.p1.13.m13.7.7.4.3.4.cmml" xref="S2.p1.13.m13.7.7.4.3.4">𝒟</ci></apply><apply id="S2.p1.13.m13.7.7.4.1.cmml" xref="S2.p1.13.m13.7.7.4.1"><times id="S2.p1.13.m13.7.7.4.1.2.cmml" xref="S2.p1.13.m13.7.7.4.1.2"></times><ci id="S2.p1.13.m13.7.7.4.1.3.cmml" xref="S2.p1.13.m13.7.7.4.1.3">Δ</ci><apply id="S2.p1.13.m13.7.7.4.1.1.1.1.cmml" xref="S2.p1.13.m13.7.7.4.1.1.1"><csymbol cd="ambiguous" id="S2.p1.13.m13.7.7.4.1.1.1.1.1.cmml" xref="S2.p1.13.m13.7.7.4.1.1.1">superscript</csymbol><ci id="S2.p1.13.m13.7.7.4.1.1.1.1.2.cmml" xref="S2.p1.13.m13.7.7.4.1.1.1.1.2">𝒜</ci><apply id="S2.p1.13.m13.7.7.4.1.1.1.1.3.cmml" xref="S2.p1.13.m13.7.7.4.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.p1.13.m13.7.7.4.1.1.1.1.3.1.cmml" xref="S2.p1.13.m13.7.7.4.1.1.1.1.3">subscript</csymbol><ci id="S2.p1.13.m13.7.7.4.1.1.1.1.3.2.cmml" xref="S2.p1.13.m13.7.7.4.1.1.1.1.3.2">𝑇</ci><ci id="S2.p1.13.m13.7.7.4.1.1.1.1.3.3.cmml" xref="S2.p1.13.m13.7.7.4.1.1.1.1.3.3">𝑔</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.13.m13.7c">p_{g}\sim\rho(a_{0},a_{1},\cdots,a_{T_{g}}|s_{0};\mathcal{I},\mathcal{D}):%
\mathcal{G}\times\mathcal{I}\times\mathcal{D}\to\Delta(\mathcal{A}^{T_{g}})</annotation><annotation encoding="application/x-llamapun" id="S2.p1.13.m13.7d">italic_p start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT ∼ italic_ρ ( italic_a start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ; caligraphic_I , caligraphic_D ) : caligraphic_G × caligraphic_I × caligraphic_D → roman_Δ ( caligraphic_A start_POSTSUPERSCRIPT italic_T start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT end_POSTSUPERSCRIPT )</annotation></semantics></math>, where <math alttext="\Delta(\cdot)" class="ltx_Math" display="inline" id="S2.p1.14.m14.1"><semantics id="S2.p1.14.m14.1a"><mrow id="S2.p1.14.m14.1.2" xref="S2.p1.14.m14.1.2.cmml"><mi id="S2.p1.14.m14.1.2.2" mathvariant="normal" xref="S2.p1.14.m14.1.2.2.cmml">Δ</mi><mo id="S2.p1.14.m14.1.2.1" xref="S2.p1.14.m14.1.2.1.cmml">⁢</mo><mrow id="S2.p1.14.m14.1.2.3.2" xref="S2.p1.14.m14.1.2.cmml"><mo id="S2.p1.14.m14.1.2.3.2.1" stretchy="false" xref="S2.p1.14.m14.1.2.cmml">(</mo><mo id="S2.p1.14.m14.1.1" lspace="0em" rspace="0em" xref="S2.p1.14.m14.1.1.cmml">⋅</mo><mo id="S2.p1.14.m14.1.2.3.2.2" stretchy="false" xref="S2.p1.14.m14.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.14.m14.1b"><apply id="S2.p1.14.m14.1.2.cmml" xref="S2.p1.14.m14.1.2"><times id="S2.p1.14.m14.1.2.1.cmml" xref="S2.p1.14.m14.1.2.1"></times><ci id="S2.p1.14.m14.1.2.2.cmml" xref="S2.p1.14.m14.1.2.2">Δ</ci><ci id="S2.p1.14.m14.1.1.cmml" xref="S2.p1.14.m14.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.14.m14.1c">\Delta(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.p1.14.m14.1d">roman_Δ ( ⋅ )</annotation></semantics></math> is a probability simplex function.
The final output is derived after executing the entire plan <math alttext="y\sim\pi(y|s_{0},a_{1},a_{2},\cdots,a_{T_{g}})" class="ltx_Math" display="inline" id="S2.p1.15.m15.2"><semantics id="S2.p1.15.m15.2a"><mrow id="S2.p1.15.m15.2.2" xref="S2.p1.15.m15.2.2.cmml"><mi id="S2.p1.15.m15.2.2.3" xref="S2.p1.15.m15.2.2.3.cmml">y</mi><mo id="S2.p1.15.m15.2.2.2" xref="S2.p1.15.m15.2.2.2.cmml">∼</mo><mrow id="S2.p1.15.m15.2.2.1" xref="S2.p1.15.m15.2.2.1.cmml"><mi id="S2.p1.15.m15.2.2.1.3" xref="S2.p1.15.m15.2.2.1.3.cmml">π</mi><mo id="S2.p1.15.m15.2.2.1.2" xref="S2.p1.15.m15.2.2.1.2.cmml">⁢</mo><mrow id="S2.p1.15.m15.2.2.1.1.1" xref="S2.p1.15.m15.2.2.1.1.1.1.cmml"><mo id="S2.p1.15.m15.2.2.1.1.1.2" stretchy="false" xref="S2.p1.15.m15.2.2.1.1.1.1.cmml">(</mo><mrow id="S2.p1.15.m15.2.2.1.1.1.1" xref="S2.p1.15.m15.2.2.1.1.1.1.cmml"><mi id="S2.p1.15.m15.2.2.1.1.1.1.6" xref="S2.p1.15.m15.2.2.1.1.1.1.6.cmml">y</mi><mo fence="false" id="S2.p1.15.m15.2.2.1.1.1.1.5" xref="S2.p1.15.m15.2.2.1.1.1.1.5.cmml">|</mo><mrow id="S2.p1.15.m15.2.2.1.1.1.1.4.4" xref="S2.p1.15.m15.2.2.1.1.1.1.4.5.cmml"><msub id="S2.p1.15.m15.2.2.1.1.1.1.1.1.1" xref="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.cmml"><mi id="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.2" xref="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.2.cmml">s</mi><mn id="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.3" xref="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="S2.p1.15.m15.2.2.1.1.1.1.4.4.5" xref="S2.p1.15.m15.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="S2.p1.15.m15.2.2.1.1.1.1.2.2.2" xref="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.cmml"><mi id="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.2" xref="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.2.cmml">a</mi><mn id="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.3" xref="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S2.p1.15.m15.2.2.1.1.1.1.4.4.6" xref="S2.p1.15.m15.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="S2.p1.15.m15.2.2.1.1.1.1.3.3.3" xref="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.cmml"><mi id="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.2" xref="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.2.cmml">a</mi><mn id="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.3" xref="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.3.cmml">2</mn></msub><mo id="S2.p1.15.m15.2.2.1.1.1.1.4.4.7" xref="S2.p1.15.m15.2.2.1.1.1.1.4.5.cmml">,</mo><mi id="S2.p1.15.m15.1.1" mathvariant="normal" xref="S2.p1.15.m15.1.1.cmml">⋯</mi><mo id="S2.p1.15.m15.2.2.1.1.1.1.4.4.8" xref="S2.p1.15.m15.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.cmml"><mi id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.2" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.2.cmml">a</mi><msub id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.cmml"><mi id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.2" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.2.cmml">T</mi><mi id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.3" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.3.cmml">g</mi></msub></msub></mrow></mrow><mo id="S2.p1.15.m15.2.2.1.1.1.3" stretchy="false" xref="S2.p1.15.m15.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.15.m15.2b"><apply id="S2.p1.15.m15.2.2.cmml" xref="S2.p1.15.m15.2.2"><csymbol cd="latexml" id="S2.p1.15.m15.2.2.2.cmml" xref="S2.p1.15.m15.2.2.2">similar-to</csymbol><ci id="S2.p1.15.m15.2.2.3.cmml" xref="S2.p1.15.m15.2.2.3">𝑦</ci><apply id="S2.p1.15.m15.2.2.1.cmml" xref="S2.p1.15.m15.2.2.1"><times id="S2.p1.15.m15.2.2.1.2.cmml" xref="S2.p1.15.m15.2.2.1.2"></times><ci id="S2.p1.15.m15.2.2.1.3.cmml" xref="S2.p1.15.m15.2.2.1.3">𝜋</ci><apply id="S2.p1.15.m15.2.2.1.1.1.1.cmml" xref="S2.p1.15.m15.2.2.1.1.1"><csymbol cd="latexml" id="S2.p1.15.m15.2.2.1.1.1.1.5.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.5">conditional</csymbol><ci id="S2.p1.15.m15.2.2.1.1.1.1.6.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.6">𝑦</ci><list id="S2.p1.15.m15.2.2.1.1.1.1.4.5.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4"><apply id="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.1.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.2.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.2">𝑠</ci><cn id="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S2.p1.15.m15.2.2.1.1.1.1.1.1.1.3">0</cn></apply><apply id="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.1.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.2.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.2">𝑎</ci><cn id="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S2.p1.15.m15.2.2.1.1.1.1.2.2.2.3">1</cn></apply><apply id="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.1.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.3.3.3">subscript</csymbol><ci id="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.2.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.2">𝑎</ci><cn id="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.3.cmml" type="integer" xref="S2.p1.15.m15.2.2.1.1.1.1.3.3.3.3">2</cn></apply><ci id="S2.p1.15.m15.1.1.cmml" xref="S2.p1.15.m15.1.1">⋯</ci><apply id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4"><csymbol cd="ambiguous" id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.1.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4">subscript</csymbol><ci id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.2.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.2">𝑎</ci><apply id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3"><csymbol cd="ambiguous" id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.1.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3">subscript</csymbol><ci id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.2.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.2">𝑇</ci><ci id="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.3.cmml" xref="S2.p1.15.m15.2.2.1.1.1.1.4.4.4.3.3">𝑔</ci></apply></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.15.m15.2c">y\sim\pi(y|s_{0},a_{1},a_{2},\cdots,a_{T_{g}})</annotation><annotation encoding="application/x-llamapun" id="S2.p1.15.m15.2d">italic_y ∼ italic_π ( italic_y | italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math>, where <math alttext="\pi(\cdot)" class="ltx_Math" display="inline" id="S2.p1.16.m16.1"><semantics id="S2.p1.16.m16.1a"><mrow id="S2.p1.16.m16.1.2" xref="S2.p1.16.m16.1.2.cmml"><mi id="S2.p1.16.m16.1.2.2" xref="S2.p1.16.m16.1.2.2.cmml">π</mi><mo id="S2.p1.16.m16.1.2.1" xref="S2.p1.16.m16.1.2.1.cmml">⁢</mo><mrow id="S2.p1.16.m16.1.2.3.2" xref="S2.p1.16.m16.1.2.cmml"><mo id="S2.p1.16.m16.1.2.3.2.1" stretchy="false" xref="S2.p1.16.m16.1.2.cmml">(</mo><mo id="S2.p1.16.m16.1.1" lspace="0em" rspace="0em" xref="S2.p1.16.m16.1.1.cmml">⋅</mo><mo id="S2.p1.16.m16.1.2.3.2.2" stretchy="false" xref="S2.p1.16.m16.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.16.m16.1b"><apply id="S2.p1.16.m16.1.2.cmml" xref="S2.p1.16.m16.1.2"><times id="S2.p1.16.m16.1.2.1.cmml" xref="S2.p1.16.m16.1.2.1"></times><ci id="S2.p1.16.m16.1.2.2.cmml" xref="S2.p1.16.m16.1.2.2">𝜋</ci><ci id="S2.p1.16.m16.1.1.cmml" xref="S2.p1.16.m16.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.16.m16.1c">\pi(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.p1.16.m16.1d">italic_π ( ⋅ )</annotation></semantics></math> indicates a plan executor.
</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p2">
<p class="ltx_p" id="S2.p2.10"><span class="ltx_text ltx_font_bold" id="S2.p2.10.1">Tree Search-Based Systems.</span> Tree search methods frame a planning problem as a search over a decision tree, where each node <math alttext="n" class="ltx_Math" display="inline" id="S2.p2.1.m1.1"><semantics id="S2.p2.1.m1.1a"><mi id="S2.p2.1.m1.1.1" xref="S2.p2.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.1b"><ci id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.p2.1.m1.1d">italic_n</annotation></semantics></math> represents an action <math alttext="a_{n}" class="ltx_Math" display="inline" id="S2.p2.2.m2.1"><semantics id="S2.p2.2.m2.1a"><msub id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml"><mi id="S2.p2.2.m2.1.1.2" xref="S2.p2.2.m2.1.1.2.cmml">a</mi><mi id="S2.p2.2.m2.1.1.3" xref="S2.p2.2.m2.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p2.2.m2.1b"><apply id="S2.p2.2.m2.1.1.cmml" xref="S2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S2.p2.2.m2.1.1.1.cmml" xref="S2.p2.2.m2.1.1">subscript</csymbol><ci id="S2.p2.2.m2.1.1.2.cmml" xref="S2.p2.2.m2.1.1.2">𝑎</ci><ci id="S2.p2.2.m2.1.1.3.cmml" xref="S2.p2.2.m2.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.2.m2.1c">a_{n}</annotation><annotation encoding="application/x-llamapun" id="S2.p2.2.m2.1d">italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math>, accompanied by a state <math alttext="s_{n}\in\mathcal{S}" class="ltx_Math" display="inline" id="S2.p2.3.m3.1"><semantics id="S2.p2.3.m3.1a"><mrow id="S2.p2.3.m3.1.1" xref="S2.p2.3.m3.1.1.cmml"><msub id="S2.p2.3.m3.1.1.2" xref="S2.p2.3.m3.1.1.2.cmml"><mi id="S2.p2.3.m3.1.1.2.2" xref="S2.p2.3.m3.1.1.2.2.cmml">s</mi><mi id="S2.p2.3.m3.1.1.2.3" xref="S2.p2.3.m3.1.1.2.3.cmml">n</mi></msub><mo id="S2.p2.3.m3.1.1.1" xref="S2.p2.3.m3.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.p2.3.m3.1.1.3" xref="S2.p2.3.m3.1.1.3.cmml">𝒮</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.3.m3.1b"><apply id="S2.p2.3.m3.1.1.cmml" xref="S2.p2.3.m3.1.1"><in id="S2.p2.3.m3.1.1.1.cmml" xref="S2.p2.3.m3.1.1.1"></in><apply id="S2.p2.3.m3.1.1.2.cmml" xref="S2.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="S2.p2.3.m3.1.1.2.1.cmml" xref="S2.p2.3.m3.1.1.2">subscript</csymbol><ci id="S2.p2.3.m3.1.1.2.2.cmml" xref="S2.p2.3.m3.1.1.2.2">𝑠</ci><ci id="S2.p2.3.m3.1.1.2.3.cmml" xref="S2.p2.3.m3.1.1.2.3">𝑛</ci></apply><ci id="S2.p2.3.m3.1.1.3.cmml" xref="S2.p2.3.m3.1.1.3">𝒮</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.3.m3.1c">s_{n}\in\mathcal{S}</annotation><annotation encoding="application/x-llamapun" id="S2.p2.3.m3.1d">italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ∈ caligraphic_S</annotation></semantics></math> indicating a valid path from the initial state to the current action.
When exploring the tree space, tree search approaches expand <math alttext="k" class="ltx_Math" display="inline" id="S2.p2.4.m4.1"><semantics id="S2.p2.4.m4.1a"><mi id="S2.p2.4.m4.1.1" xref="S2.p2.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.p2.4.m4.1b"><ci id="S2.p2.4.m4.1.1.cmml" xref="S2.p2.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.4.m4.1c">k</annotation><annotation encoding="application/x-llamapun" id="S2.p2.4.m4.1d">italic_k</annotation></semantics></math> potential child nodes <math alttext="ch(n)" class="ltx_Math" display="inline" id="S2.p2.5.m5.1"><semantics id="S2.p2.5.m5.1a"><mrow id="S2.p2.5.m5.1.2" xref="S2.p2.5.m5.1.2.cmml"><mi id="S2.p2.5.m5.1.2.2" xref="S2.p2.5.m5.1.2.2.cmml">c</mi><mo id="S2.p2.5.m5.1.2.1" xref="S2.p2.5.m5.1.2.1.cmml">⁢</mo><mi id="S2.p2.5.m5.1.2.3" xref="S2.p2.5.m5.1.2.3.cmml">h</mi><mo id="S2.p2.5.m5.1.2.1a" xref="S2.p2.5.m5.1.2.1.cmml">⁢</mo><mrow id="S2.p2.5.m5.1.2.4.2" xref="S2.p2.5.m5.1.2.cmml"><mo id="S2.p2.5.m5.1.2.4.2.1" stretchy="false" xref="S2.p2.5.m5.1.2.cmml">(</mo><mi id="S2.p2.5.m5.1.1" xref="S2.p2.5.m5.1.1.cmml">n</mi><mo id="S2.p2.5.m5.1.2.4.2.2" stretchy="false" xref="S2.p2.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.5.m5.1b"><apply id="S2.p2.5.m5.1.2.cmml" xref="S2.p2.5.m5.1.2"><times id="S2.p2.5.m5.1.2.1.cmml" xref="S2.p2.5.m5.1.2.1"></times><ci id="S2.p2.5.m5.1.2.2.cmml" xref="S2.p2.5.m5.1.2.2">𝑐</ci><ci id="S2.p2.5.m5.1.2.3.cmml" xref="S2.p2.5.m5.1.2.3">ℎ</ci><ci id="S2.p2.5.m5.1.1.cmml" xref="S2.p2.5.m5.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.5.m5.1c">ch(n)</annotation><annotation encoding="application/x-llamapun" id="S2.p2.5.m5.1d">italic_c italic_h ( italic_n )</annotation></semantics></math> of the current node <math alttext="n" class="ltx_Math" display="inline" id="S2.p2.6.m6.1"><semantics id="S2.p2.6.m6.1a"><mi id="S2.p2.6.m6.1.1" xref="S2.p2.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p2.6.m6.1b"><ci id="S2.p2.6.m6.1.1.cmml" xref="S2.p2.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.6.m6.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.p2.6.m6.1d">italic_n</annotation></semantics></math> via sampling from the potential action set generated by LLMs <math alttext="a_{ch(n)}^{(j)}\sim\rho(a_{ch(n)}|s_{n};\mathcal{I},\mathcal{D}),(j=1,\cdots,k)" class="ltx_Math" display="inline" id="S2.p2.7.m7.10"><semantics id="S2.p2.7.m7.10a"><mrow id="S2.p2.7.m7.10.10" xref="S2.p2.7.m7.10.10.cmml"><msubsup id="S2.p2.7.m7.10.10.4" xref="S2.p2.7.m7.10.10.4.cmml"><mi id="S2.p2.7.m7.10.10.4.2.2" xref="S2.p2.7.m7.10.10.4.2.2.cmml">a</mi><mrow id="S2.p2.7.m7.1.1.1" xref="S2.p2.7.m7.1.1.1.cmml"><mi id="S2.p2.7.m7.1.1.1.3" xref="S2.p2.7.m7.1.1.1.3.cmml">c</mi><mo id="S2.p2.7.m7.1.1.1.2" xref="S2.p2.7.m7.1.1.1.2.cmml">⁢</mo><mi id="S2.p2.7.m7.1.1.1.4" xref="S2.p2.7.m7.1.1.1.4.cmml">h</mi><mo id="S2.p2.7.m7.1.1.1.2a" xref="S2.p2.7.m7.1.1.1.2.cmml">⁢</mo><mrow id="S2.p2.7.m7.1.1.1.5.2" xref="S2.p2.7.m7.1.1.1.cmml"><mo id="S2.p2.7.m7.1.1.1.5.2.1" stretchy="false" xref="S2.p2.7.m7.1.1.1.cmml">(</mo><mi id="S2.p2.7.m7.1.1.1.1" xref="S2.p2.7.m7.1.1.1.1.cmml">n</mi><mo id="S2.p2.7.m7.1.1.1.5.2.2" stretchy="false" xref="S2.p2.7.m7.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.p2.7.m7.2.2.1.3" xref="S2.p2.7.m7.10.10.4.cmml"><mo id="S2.p2.7.m7.2.2.1.3.1" stretchy="false" xref="S2.p2.7.m7.10.10.4.cmml">(</mo><mi id="S2.p2.7.m7.2.2.1.1" xref="S2.p2.7.m7.2.2.1.1.cmml">j</mi><mo id="S2.p2.7.m7.2.2.1.3.2" stretchy="false" xref="S2.p2.7.m7.10.10.4.cmml">)</mo></mrow></msubsup><mo id="S2.p2.7.m7.10.10.3" xref="S2.p2.7.m7.10.10.3.cmml">∼</mo><mrow id="S2.p2.7.m7.10.10.2.2" xref="S2.p2.7.m7.10.10.2.3.cmml"><mrow id="S2.p2.7.m7.9.9.1.1.1" xref="S2.p2.7.m7.9.9.1.1.1.cmml"><mi id="S2.p2.7.m7.9.9.1.1.1.3" xref="S2.p2.7.m7.9.9.1.1.1.3.cmml">ρ</mi><mo id="S2.p2.7.m7.9.9.1.1.1.2" xref="S2.p2.7.m7.9.9.1.1.1.2.cmml">⁢</mo><mrow id="S2.p2.7.m7.9.9.1.1.1.1.1" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.cmml"><mo id="S2.p2.7.m7.9.9.1.1.1.1.1.2" stretchy="false" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.p2.7.m7.9.9.1.1.1.1.1.1" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.cmml"><msub id="S2.p2.7.m7.9.9.1.1.1.1.1.1.3" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.3.cmml"><mi id="S2.p2.7.m7.9.9.1.1.1.1.1.1.3.2" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.3.2.cmml">a</mi><mrow id="S2.p2.7.m7.3.3.1" xref="S2.p2.7.m7.3.3.1.cmml"><mi id="S2.p2.7.m7.3.3.1.3" xref="S2.p2.7.m7.3.3.1.3.cmml">c</mi><mo id="S2.p2.7.m7.3.3.1.2" xref="S2.p2.7.m7.3.3.1.2.cmml">⁢</mo><mi id="S2.p2.7.m7.3.3.1.4" xref="S2.p2.7.m7.3.3.1.4.cmml">h</mi><mo id="S2.p2.7.m7.3.3.1.2a" xref="S2.p2.7.m7.3.3.1.2.cmml">⁢</mo><mrow id="S2.p2.7.m7.3.3.1.5.2" xref="S2.p2.7.m7.3.3.1.cmml"><mo id="S2.p2.7.m7.3.3.1.5.2.1" stretchy="false" xref="S2.p2.7.m7.3.3.1.cmml">(</mo><mi id="S2.p2.7.m7.3.3.1.1" xref="S2.p2.7.m7.3.3.1.1.cmml">n</mi><mo id="S2.p2.7.m7.3.3.1.5.2.2" stretchy="false" xref="S2.p2.7.m7.3.3.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S2.p2.7.m7.9.9.1.1.1.1.1.1.2" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.2.cmml"><msub id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.2" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.2.cmml">s</mi><mi id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.3" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.2" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.2.cmml">;</mo><mi class="ltx_font_mathcaligraphic" id="S2.p2.7.m7.4.4" xref="S2.p2.7.m7.4.4.cmml">ℐ</mi><mo id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.3" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S2.p2.7.m7.5.5" xref="S2.p2.7.m7.5.5.cmml">𝒟</mi></mrow></mrow><mo id="S2.p2.7.m7.9.9.1.1.1.1.1.3" stretchy="false" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.p2.7.m7.10.10.2.2.3" xref="S2.p2.7.m7.10.10.2.3.cmml">,</mo><mrow id="S2.p2.7.m7.10.10.2.2.2.1" xref="S2.p2.7.m7.10.10.2.2.2.1.1.cmml"><mo id="S2.p2.7.m7.10.10.2.2.2.1.2" stretchy="false" xref="S2.p2.7.m7.10.10.2.2.2.1.1.cmml">(</mo><mrow id="S2.p2.7.m7.10.10.2.2.2.1.1" xref="S2.p2.7.m7.10.10.2.2.2.1.1.cmml"><mi id="S2.p2.7.m7.10.10.2.2.2.1.1.2" xref="S2.p2.7.m7.10.10.2.2.2.1.1.2.cmml">j</mi><mo id="S2.p2.7.m7.10.10.2.2.2.1.1.1" xref="S2.p2.7.m7.10.10.2.2.2.1.1.1.cmml">=</mo><mrow id="S2.p2.7.m7.10.10.2.2.2.1.1.3.2" xref="S2.p2.7.m7.10.10.2.2.2.1.1.3.1.cmml"><mn id="S2.p2.7.m7.6.6" xref="S2.p2.7.m7.6.6.cmml">1</mn><mo id="S2.p2.7.m7.10.10.2.2.2.1.1.3.2.1" xref="S2.p2.7.m7.10.10.2.2.2.1.1.3.1.cmml">,</mo><mi id="S2.p2.7.m7.7.7" mathvariant="normal" xref="S2.p2.7.m7.7.7.cmml">⋯</mi><mo id="S2.p2.7.m7.10.10.2.2.2.1.1.3.2.2" xref="S2.p2.7.m7.10.10.2.2.2.1.1.3.1.cmml">,</mo><mi id="S2.p2.7.m7.8.8" xref="S2.p2.7.m7.8.8.cmml">k</mi></mrow></mrow><mo id="S2.p2.7.m7.10.10.2.2.2.1.3" stretchy="false" xref="S2.p2.7.m7.10.10.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.7.m7.10b"><apply id="S2.p2.7.m7.10.10.cmml" xref="S2.p2.7.m7.10.10"><csymbol cd="latexml" id="S2.p2.7.m7.10.10.3.cmml" xref="S2.p2.7.m7.10.10.3">similar-to</csymbol><apply id="S2.p2.7.m7.10.10.4.cmml" xref="S2.p2.7.m7.10.10.4"><csymbol cd="ambiguous" id="S2.p2.7.m7.10.10.4.1.cmml" xref="S2.p2.7.m7.10.10.4">superscript</csymbol><apply id="S2.p2.7.m7.10.10.4.2.cmml" xref="S2.p2.7.m7.10.10.4"><csymbol cd="ambiguous" id="S2.p2.7.m7.10.10.4.2.1.cmml" xref="S2.p2.7.m7.10.10.4">subscript</csymbol><ci id="S2.p2.7.m7.10.10.4.2.2.cmml" xref="S2.p2.7.m7.10.10.4.2.2">𝑎</ci><apply id="S2.p2.7.m7.1.1.1.cmml" xref="S2.p2.7.m7.1.1.1"><times id="S2.p2.7.m7.1.1.1.2.cmml" xref="S2.p2.7.m7.1.1.1.2"></times><ci id="S2.p2.7.m7.1.1.1.3.cmml" xref="S2.p2.7.m7.1.1.1.3">𝑐</ci><ci id="S2.p2.7.m7.1.1.1.4.cmml" xref="S2.p2.7.m7.1.1.1.4">ℎ</ci><ci id="S2.p2.7.m7.1.1.1.1.cmml" xref="S2.p2.7.m7.1.1.1.1">𝑛</ci></apply></apply><ci id="S2.p2.7.m7.2.2.1.1.cmml" xref="S2.p2.7.m7.2.2.1.1">𝑗</ci></apply><list id="S2.p2.7.m7.10.10.2.3.cmml" xref="S2.p2.7.m7.10.10.2.2"><apply id="S2.p2.7.m7.9.9.1.1.1.cmml" xref="S2.p2.7.m7.9.9.1.1.1"><times id="S2.p2.7.m7.9.9.1.1.1.2.cmml" xref="S2.p2.7.m7.9.9.1.1.1.2"></times><ci id="S2.p2.7.m7.9.9.1.1.1.3.cmml" xref="S2.p2.7.m7.9.9.1.1.1.3">𝜌</ci><apply id="S2.p2.7.m7.9.9.1.1.1.1.1.1.cmml" xref="S2.p2.7.m7.9.9.1.1.1.1.1"><csymbol cd="latexml" id="S2.p2.7.m7.9.9.1.1.1.1.1.1.2.cmml" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.2">conditional</csymbol><apply id="S2.p2.7.m7.9.9.1.1.1.1.1.1.3.cmml" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.p2.7.m7.9.9.1.1.1.1.1.1.3.1.cmml" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.p2.7.m7.9.9.1.1.1.1.1.1.3.2.cmml" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.3.2">𝑎</ci><apply id="S2.p2.7.m7.3.3.1.cmml" xref="S2.p2.7.m7.3.3.1"><times id="S2.p2.7.m7.3.3.1.2.cmml" xref="S2.p2.7.m7.3.3.1.2"></times><ci id="S2.p2.7.m7.3.3.1.3.cmml" xref="S2.p2.7.m7.3.3.1.3">𝑐</ci><ci id="S2.p2.7.m7.3.3.1.4.cmml" xref="S2.p2.7.m7.3.3.1.4">ℎ</ci><ci id="S2.p2.7.m7.3.3.1.1.cmml" xref="S2.p2.7.m7.3.3.1.1">𝑛</ci></apply></apply><list id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.2.cmml" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1"><apply id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.cmml" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.2">𝑠</ci><ci id="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.p2.7.m7.9.9.1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply><ci id="S2.p2.7.m7.4.4.cmml" xref="S2.p2.7.m7.4.4">ℐ</ci><ci id="S2.p2.7.m7.5.5.cmml" xref="S2.p2.7.m7.5.5">𝒟</ci></list></apply></apply><apply id="S2.p2.7.m7.10.10.2.2.2.1.1.cmml" xref="S2.p2.7.m7.10.10.2.2.2.1"><eq id="S2.p2.7.m7.10.10.2.2.2.1.1.1.cmml" xref="S2.p2.7.m7.10.10.2.2.2.1.1.1"></eq><ci id="S2.p2.7.m7.10.10.2.2.2.1.1.2.cmml" xref="S2.p2.7.m7.10.10.2.2.2.1.1.2">𝑗</ci><list id="S2.p2.7.m7.10.10.2.2.2.1.1.3.1.cmml" xref="S2.p2.7.m7.10.10.2.2.2.1.1.3.2"><cn id="S2.p2.7.m7.6.6.cmml" type="integer" xref="S2.p2.7.m7.6.6">1</cn><ci id="S2.p2.7.m7.7.7.cmml" xref="S2.p2.7.m7.7.7">⋯</ci><ci id="S2.p2.7.m7.8.8.cmml" xref="S2.p2.7.m7.8.8">𝑘</ci></list></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.7.m7.10c">a_{ch(n)}^{(j)}\sim\rho(a_{ch(n)}|s_{n};\mathcal{I},\mathcal{D}),(j=1,\cdots,k)</annotation><annotation encoding="application/x-llamapun" id="S2.p2.7.m7.10d">italic_a start_POSTSUBSCRIPT italic_c italic_h ( italic_n ) end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT ∼ italic_ρ ( italic_a start_POSTSUBSCRIPT italic_c italic_h ( italic_n ) end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ; caligraphic_I , caligraphic_D ) , ( italic_j = 1 , ⋯ , italic_k )</annotation></semantics></math> and add the new nodes to the tree state space <math alttext="\mathcal{S}=\mathcal{S}\cup\{(s_{n},a_{ch(n)}^{(j)})\}_{j=1}^{k}" class="ltx_Math" display="inline" id="S2.p2.8.m8.3"><semantics id="S2.p2.8.m8.3a"><mrow id="S2.p2.8.m8.3.3" xref="S2.p2.8.m8.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p2.8.m8.3.3.3" xref="S2.p2.8.m8.3.3.3.cmml">𝒮</mi><mo id="S2.p2.8.m8.3.3.2" xref="S2.p2.8.m8.3.3.2.cmml">=</mo><mrow id="S2.p2.8.m8.3.3.1" xref="S2.p2.8.m8.3.3.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p2.8.m8.3.3.1.3" xref="S2.p2.8.m8.3.3.1.3.cmml">𝒮</mi><mo id="S2.p2.8.m8.3.3.1.2" xref="S2.p2.8.m8.3.3.1.2.cmml">∪</mo><msubsup id="S2.p2.8.m8.3.3.1.1" xref="S2.p2.8.m8.3.3.1.1.cmml"><mrow id="S2.p2.8.m8.3.3.1.1.1.1.1" xref="S2.p2.8.m8.3.3.1.1.1.1.2.cmml"><mo id="S2.p2.8.m8.3.3.1.1.1.1.1.2" stretchy="false" xref="S2.p2.8.m8.3.3.1.1.1.1.2.cmml">{</mo><mrow id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.3.cmml"><mo id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.3" stretchy="false" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.3.cmml">(</mo><msub id="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.2" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.2.cmml">s</mi><mi id="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.3" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.4" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.3.cmml">,</mo><msubsup id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.cmml"><mi id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.2.2" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.2.2.cmml">a</mi><mrow id="S2.p2.8.m8.1.1.1" xref="S2.p2.8.m8.1.1.1.cmml"><mi id="S2.p2.8.m8.1.1.1.3" xref="S2.p2.8.m8.1.1.1.3.cmml">c</mi><mo id="S2.p2.8.m8.1.1.1.2" xref="S2.p2.8.m8.1.1.1.2.cmml">⁢</mo><mi id="S2.p2.8.m8.1.1.1.4" xref="S2.p2.8.m8.1.1.1.4.cmml">h</mi><mo id="S2.p2.8.m8.1.1.1.2a" xref="S2.p2.8.m8.1.1.1.2.cmml">⁢</mo><mrow id="S2.p2.8.m8.1.1.1.5.2" xref="S2.p2.8.m8.1.1.1.cmml"><mo id="S2.p2.8.m8.1.1.1.5.2.1" stretchy="false" xref="S2.p2.8.m8.1.1.1.cmml">(</mo><mi id="S2.p2.8.m8.1.1.1.1" xref="S2.p2.8.m8.1.1.1.1.cmml">n</mi><mo id="S2.p2.8.m8.1.1.1.5.2.2" stretchy="false" xref="S2.p2.8.m8.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.p2.8.m8.2.2.1.3" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.cmml"><mo id="S2.p2.8.m8.2.2.1.3.1" stretchy="false" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.cmml">(</mo><mi id="S2.p2.8.m8.2.2.1.1" xref="S2.p2.8.m8.2.2.1.1.cmml">j</mi><mo id="S2.p2.8.m8.2.2.1.3.2" stretchy="false" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.cmml">)</mo></mrow></msubsup><mo id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.5" stretchy="false" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo id="S2.p2.8.m8.3.3.1.1.1.1.1.3" stretchy="false" xref="S2.p2.8.m8.3.3.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.p2.8.m8.3.3.1.1.1.3" xref="S2.p2.8.m8.3.3.1.1.1.3.cmml"><mi id="S2.p2.8.m8.3.3.1.1.1.3.2" xref="S2.p2.8.m8.3.3.1.1.1.3.2.cmml">j</mi><mo id="S2.p2.8.m8.3.3.1.1.1.3.1" xref="S2.p2.8.m8.3.3.1.1.1.3.1.cmml">=</mo><mn id="S2.p2.8.m8.3.3.1.1.1.3.3" xref="S2.p2.8.m8.3.3.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.p2.8.m8.3.3.1.1.3" xref="S2.p2.8.m8.3.3.1.1.3.cmml">k</mi></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.8.m8.3b"><apply id="S2.p2.8.m8.3.3.cmml" xref="S2.p2.8.m8.3.3"><eq id="S2.p2.8.m8.3.3.2.cmml" xref="S2.p2.8.m8.3.3.2"></eq><ci id="S2.p2.8.m8.3.3.3.cmml" xref="S2.p2.8.m8.3.3.3">𝒮</ci><apply id="S2.p2.8.m8.3.3.1.cmml" xref="S2.p2.8.m8.3.3.1"><union id="S2.p2.8.m8.3.3.1.2.cmml" xref="S2.p2.8.m8.3.3.1.2"></union><ci id="S2.p2.8.m8.3.3.1.3.cmml" xref="S2.p2.8.m8.3.3.1.3">𝒮</ci><apply id="S2.p2.8.m8.3.3.1.1.cmml" xref="S2.p2.8.m8.3.3.1.1"><csymbol cd="ambiguous" id="S2.p2.8.m8.3.3.1.1.2.cmml" xref="S2.p2.8.m8.3.3.1.1">superscript</csymbol><apply id="S2.p2.8.m8.3.3.1.1.1.cmml" xref="S2.p2.8.m8.3.3.1.1"><csymbol cd="ambiguous" id="S2.p2.8.m8.3.3.1.1.1.2.cmml" xref="S2.p2.8.m8.3.3.1.1">subscript</csymbol><set id="S2.p2.8.m8.3.3.1.1.1.1.2.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1"><interval closure="open" id="S2.p2.8.m8.3.3.1.1.1.1.1.1.3.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2"><apply id="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.2">𝑠</ci><ci id="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.1.1.3">𝑛</ci></apply><apply id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.1.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2">superscript</csymbol><apply id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.2.1.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.2.2.cmml" xref="S2.p2.8.m8.3.3.1.1.1.1.1.1.2.2.2.2">𝑎</ci><apply id="S2.p2.8.m8.1.1.1.cmml" xref="S2.p2.8.m8.1.1.1"><times id="S2.p2.8.m8.1.1.1.2.cmml" xref="S2.p2.8.m8.1.1.1.2"></times><ci id="S2.p2.8.m8.1.1.1.3.cmml" xref="S2.p2.8.m8.1.1.1.3">𝑐</ci><ci id="S2.p2.8.m8.1.1.1.4.cmml" xref="S2.p2.8.m8.1.1.1.4">ℎ</ci><ci id="S2.p2.8.m8.1.1.1.1.cmml" xref="S2.p2.8.m8.1.1.1.1">𝑛</ci></apply></apply><ci id="S2.p2.8.m8.2.2.1.1.cmml" xref="S2.p2.8.m8.2.2.1.1">𝑗</ci></apply></interval></set><apply id="S2.p2.8.m8.3.3.1.1.1.3.cmml" xref="S2.p2.8.m8.3.3.1.1.1.3"><eq id="S2.p2.8.m8.3.3.1.1.1.3.1.cmml" xref="S2.p2.8.m8.3.3.1.1.1.3.1"></eq><ci id="S2.p2.8.m8.3.3.1.1.1.3.2.cmml" xref="S2.p2.8.m8.3.3.1.1.1.3.2">𝑗</ci><cn id="S2.p2.8.m8.3.3.1.1.1.3.3.cmml" type="integer" xref="S2.p2.8.m8.3.3.1.1.1.3.3">1</cn></apply></apply><ci id="S2.p2.8.m8.3.3.1.1.3.cmml" xref="S2.p2.8.m8.3.3.1.1.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.8.m8.3c">\mathcal{S}=\mathcal{S}\cup\{(s_{n},a_{ch(n)}^{(j)})\}_{j=1}^{k}</annotation><annotation encoding="application/x-llamapun" id="S2.p2.8.m8.3d">caligraphic_S = caligraphic_S ∪ { ( italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_c italic_h ( italic_n ) end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT ) } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>.
With value functions for state evaluation, tree search-based methods aim to identify a path from the root node <math alttext="s_{0}" class="ltx_Math" display="inline" id="S2.p2.9.m9.1"><semantics id="S2.p2.9.m9.1a"><msub id="S2.p2.9.m9.1.1" xref="S2.p2.9.m9.1.1.cmml"><mi id="S2.p2.9.m9.1.1.2" xref="S2.p2.9.m9.1.1.2.cmml">s</mi><mn id="S2.p2.9.m9.1.1.3" xref="S2.p2.9.m9.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S2.p2.9.m9.1b"><apply id="S2.p2.9.m9.1.1.cmml" xref="S2.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S2.p2.9.m9.1.1.1.cmml" xref="S2.p2.9.m9.1.1">subscript</csymbol><ci id="S2.p2.9.m9.1.1.2.cmml" xref="S2.p2.9.m9.1.1.2">𝑠</ci><cn id="S2.p2.9.m9.1.1.3.cmml" type="integer" xref="S2.p2.9.m9.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.9.m9.1c">s_{0}</annotation><annotation encoding="application/x-llamapun" id="S2.p2.9.m9.1d">italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math> to the leaf nodes with the highest value or lowest cost.
Our proposed ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S2.p2.10.m10.1"><semantics id="S2.p2.10.m10.1a"><msup id="S2.p2.10.m10.1.1" xref="S2.p2.10.m10.1.1.cmml"><mi id="S2.p2.10.m10.1.1a" xref="S2.p2.10.m10.1.1.cmml"></mi><mo id="S2.p2.10.m10.1.1.1" xref="S2.p2.10.m10.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S2.p2.10.m10.1b"><apply id="S2.p2.10.m10.1.1.cmml" xref="S2.p2.10.m10.1.1"><times id="S2.p2.10.m10.1.1.1.cmml" xref="S2.p2.10.m10.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.10.m10.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S2.p2.10.m10.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> is a tree search-based method.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p3">
<p class="ltx_p" id="S2.p3.5"><span class="ltx_text ltx_font_bold" id="S2.p3.5.1">Monte Carlo Tree Search.</span>
MCTS, which employs heuristic exploration to construct its search tree, has achieved great success in decision-making tasks, such as GO <cite class="ltx_cite ltx_citemacro_citep">(Silver et al., <a class="ltx_ref" href="#bib.bib40" title="">2016</a>)</cite>.
Its variant, UCT <cite class="ltx_cite ltx_citemacro_citep">(Kocsis &amp; Szepesvári, <a class="ltx_ref" href="#bib.bib18" title="">2006</a>)</cite>, has been adopted in <cite class="ltx_cite ltx_citemacro_cite">Hao et al. (<a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite> for the development of LLM-based agents.
Specifically, it initiates from the root node of the task description <math alttext="g" class="ltx_Math" display="inline" id="S2.p3.1.m1.1"><semantics id="S2.p3.1.m1.1a"><mi id="S2.p3.1.m1.1.1" xref="S2.p3.1.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S2.p3.1.m1.1b"><ci id="S2.p3.1.m1.1.1.cmml" xref="S2.p3.1.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.1.m1.1c">g</annotation><annotation encoding="application/x-llamapun" id="S2.p3.1.m1.1d">italic_g</annotation></semantics></math> and moves down the tree by selecting optimal actions (child nodes) until the leaf node.
Then, MCTS introduces one or multiple child nodes based on available actions provided by LLMs and identifies the most promising node <math alttext="n" class="ltx_Math" display="inline" id="S2.p3.2.m2.1"><semantics id="S2.p3.2.m2.1a"><mi id="S2.p3.2.m2.1.1" xref="S2.p3.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p3.2.m2.1b"><ci id="S2.p3.2.m2.1.1.cmml" xref="S2.p3.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.p3.2.m2.1d">italic_n</annotation></semantics></math>.
From the newly expanded node <math alttext="n" class="ltx_Math" display="inline" id="S2.p3.3.m3.1"><semantics id="S2.p3.3.m3.1a"><mi id="S2.p3.3.m3.1.1" xref="S2.p3.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p3.3.m3.1b"><ci id="S2.p3.3.m3.1.1.cmml" xref="S2.p3.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.3.m3.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.p3.3.m3.1d">italic_n</annotation></semantics></math>, MCTS requires LLM agents to execute a simulated rollout until a terminal state is reached.
Upon completing the simulation, a result is returned from <math alttext="n" class="ltx_Math" display="inline" id="S2.p3.4.m4.1"><semantics id="S2.p3.4.m4.1a"><mi id="S2.p3.4.m4.1.1" xref="S2.p3.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p3.4.m4.1b"><ci id="S2.p3.4.m4.1.1.cmml" xref="S2.p3.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.4.m4.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.p3.4.m4.1d">italic_n</annotation></semantics></math> all the way back to the root node, accompanied by the value function <math alttext="Q(n)" class="ltx_Math" display="inline" id="S2.p3.5.m5.1"><semantics id="S2.p3.5.m5.1a"><mrow id="S2.p3.5.m5.1.2" xref="S2.p3.5.m5.1.2.cmml"><mi id="S2.p3.5.m5.1.2.2" xref="S2.p3.5.m5.1.2.2.cmml">Q</mi><mo id="S2.p3.5.m5.1.2.1" xref="S2.p3.5.m5.1.2.1.cmml">⁢</mo><mrow id="S2.p3.5.m5.1.2.3.2" xref="S2.p3.5.m5.1.2.cmml"><mo id="S2.p3.5.m5.1.2.3.2.1" stretchy="false" xref="S2.p3.5.m5.1.2.cmml">(</mo><mi id="S2.p3.5.m5.1.1" xref="S2.p3.5.m5.1.1.cmml">n</mi><mo id="S2.p3.5.m5.1.2.3.2.2" stretchy="false" xref="S2.p3.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.5.m5.1b"><apply id="S2.p3.5.m5.1.2.cmml" xref="S2.p3.5.m5.1.2"><times id="S2.p3.5.m5.1.2.1.cmml" xref="S2.p3.5.m5.1.2.1"></times><ci id="S2.p3.5.m5.1.2.2.cmml" xref="S2.p3.5.m5.1.2.2">𝑄</ci><ci id="S2.p3.5.m5.1.1.cmml" xref="S2.p3.5.m5.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.5.m5.1c">Q(n)</annotation><annotation encoding="application/x-llamapun" id="S2.p3.5.m5.1d">italic_Q ( italic_n )</annotation></semantics></math> to update all the scores on the selected path.
</p>
</div>
<figure class="ltx_figure ltx_align_floatright" id="S2.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="372" id="S2.F2.g1" src="x2.png" width="831"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>A comparison between MCTS and A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S2.F2.4.m1.1"><semantics id="S2.F2.4.m1.1b"><msup id="S2.F2.4.m1.1.1" xref="S2.F2.4.m1.1.1.cmml"><mi id="S2.F2.4.m1.1.1b" xref="S2.F2.4.m1.1.1.cmml"></mi><mo id="S2.F2.4.m1.1.1.1" xref="S2.F2.4.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S2.F2.4.m1.1c"><apply id="S2.F2.4.m1.1.1.cmml" xref="S2.F2.4.m1.1.1"><times id="S2.F2.4.m1.1.1.1.cmml" xref="S2.F2.4.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.4.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S2.F2.4.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> search in ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S2.F2.5.m2.1"><semantics id="S2.F2.5.m2.1b"><msup id="S2.F2.5.m2.1.1" xref="S2.F2.5.m2.1.1.cmml"><mi id="S2.F2.5.m2.1.1b" xref="S2.F2.5.m2.1.1.cmml"></mi><mo id="S2.F2.5.m2.1.1.1" xref="S2.F2.5.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S2.F2.5.m2.1c"><apply id="S2.F2.5.m2.1.1.cmml" xref="S2.F2.5.m2.1.1"><times id="S2.F2.5.m2.1.1.1.cmml" xref="S2.F2.5.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.5.m2.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S2.F2.5.m2.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>. Unlike MCTS, A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S2.F2.6.m3.1"><semantics id="S2.F2.6.m3.1b"><msup id="S2.F2.6.m3.1.1" xref="S2.F2.6.m3.1.1.cmml"><mi id="S2.F2.6.m3.1.1b" xref="S2.F2.6.m3.1.1.cmml"></mi><mo id="S2.F2.6.m3.1.1.1" xref="S2.F2.6.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S2.F2.6.m3.1c"><apply id="S2.F2.6.m3.1.1.cmml" xref="S2.F2.6.m3.1.1"><times id="S2.F2.6.m3.1.1.1.cmml" xref="S2.F2.6.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F2.6.m3.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S2.F2.6.m3.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> search only requires one-step expansion guided by cost functions.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S2.p4">
<p class="ltx_p" id="S2.p4.9"><span class="ltx_text ltx_font_bold" id="S2.p4.1.1">MCTS vs. A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S2.p4.1.1.m1.1"><semantics id="S2.p4.1.1.m1.1a"><msup id="S2.p4.1.1.m1.1.1" xref="S2.p4.1.1.m1.1.1.cmml"><mi id="S2.p4.1.1.m1.1.1a" xref="S2.p4.1.1.m1.1.1.cmml"></mi><mo id="S2.p4.1.1.m1.1.1.1" mathvariant="normal" xref="S2.p4.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S2.p4.1.1.m1.1b"><apply id="S2.p4.1.1.m1.1.1.cmml" xref="S2.p4.1.1.m1.1.1"><times id="S2.p4.1.1.m1.1.1.1.cmml" xref="S2.p4.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> Search.</span>
Despite the performance gains attained by MCTS in planning and reasoning tasks, its direct application to LLM agents comes with significant execution costs.
The rollout mechanism within MCTS requires multiple LLM calls to prompt the next actions until a terminal state.
Furthermore, unlike two-player zero-sum games, the planning tasks essentially operate as one-player games, where value functions estimated by random rollouts might exhibit significant inaccuracies.
To mitigate the issue, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S2.p4.2.m1.1"><semantics id="S2.p4.2.m1.1a"><msup id="S2.p4.2.m1.1.1" xref="S2.p4.2.m1.1.1.cmml"><mi id="S2.p4.2.m1.1.1a" xref="S2.p4.2.m1.1.1.cmml"></mi><mo id="S2.p4.2.m1.1.1.1" xref="S2.p4.2.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S2.p4.2.m1.1b"><apply id="S2.p4.2.m1.1.1.cmml" xref="S2.p4.2.m1.1.1"><times id="S2.p4.2.m1.1.1.1.cmml" xref="S2.p4.2.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.2.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.2.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> is proposed based on a more efficient A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S2.p4.3.m2.1"><semantics id="S2.p4.3.m2.1a"><msup id="S2.p4.3.m2.1.1" xref="S2.p4.3.m2.1.1.cmml"><mi id="S2.p4.3.m2.1.1a" xref="S2.p4.3.m2.1.1.cmml"></mi><mo id="S2.p4.3.m2.1.1.1" xref="S2.p4.3.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S2.p4.3.m2.1b"><apply id="S2.p4.3.m2.1.1.cmml" xref="S2.p4.3.m2.1.1"><times id="S2.p4.3.m2.1.1.1.cmml" xref="S2.p4.3.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.3.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.3.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> search algorithm.
A comparison between MCTS and our proposed ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S2.p4.4.m3.1"><semantics id="S2.p4.4.m3.1a"><msup id="S2.p4.4.m3.1.1" xref="S2.p4.4.m3.1.1.cmml"><mi id="S2.p4.4.m3.1.1a" xref="S2.p4.4.m3.1.1.cmml"></mi><mo id="S2.p4.4.m3.1.1.1" xref="S2.p4.4.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S2.p4.4.m3.1b"><apply id="S2.p4.4.m3.1.1.cmml" xref="S2.p4.4.m3.1.1"><times id="S2.p4.4.m3.1.1.1.cmml" xref="S2.p4.4.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.4.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.4.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> is illustrated in Figure <a class="ltx_ref" href="#S2.F2" title="Figure 2 ‣ 2 Preliminaries ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">2</span></a>.
Unlike MCTS, A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S2.p4.5.m4.1"><semantics id="S2.p4.5.m4.1a"><msup id="S2.p4.5.m4.1.1" xref="S2.p4.5.m4.1.1.cmml"><mi id="S2.p4.5.m4.1.1a" xref="S2.p4.5.m4.1.1.cmml"></mi><mo id="S2.p4.5.m4.1.1.1" xref="S2.p4.5.m4.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S2.p4.5.m4.1b"><apply id="S2.p4.5.m4.1.1.cmml" xref="S2.p4.5.m4.1.1"><times id="S2.p4.5.m4.1.1.1.cmml" xref="S2.p4.5.m4.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.5.m4.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.5.m4.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> search necessitates only a single LLM call for determining the next actions during expansion according to two cost functions, <math alttext="g(n)" class="ltx_Math" display="inline" id="S2.p4.6.m5.1"><semantics id="S2.p4.6.m5.1a"><mrow id="S2.p4.6.m5.1.2" xref="S2.p4.6.m5.1.2.cmml"><mi id="S2.p4.6.m5.1.2.2" xref="S2.p4.6.m5.1.2.2.cmml">g</mi><mo id="S2.p4.6.m5.1.2.1" xref="S2.p4.6.m5.1.2.1.cmml">⁢</mo><mrow id="S2.p4.6.m5.1.2.3.2" xref="S2.p4.6.m5.1.2.cmml"><mo id="S2.p4.6.m5.1.2.3.2.1" stretchy="false" xref="S2.p4.6.m5.1.2.cmml">(</mo><mi id="S2.p4.6.m5.1.1" xref="S2.p4.6.m5.1.1.cmml">n</mi><mo id="S2.p4.6.m5.1.2.3.2.2" stretchy="false" xref="S2.p4.6.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p4.6.m5.1b"><apply id="S2.p4.6.m5.1.2.cmml" xref="S2.p4.6.m5.1.2"><times id="S2.p4.6.m5.1.2.1.cmml" xref="S2.p4.6.m5.1.2.1"></times><ci id="S2.p4.6.m5.1.2.2.cmml" xref="S2.p4.6.m5.1.2.2">𝑔</ci><ci id="S2.p4.6.m5.1.1.cmml" xref="S2.p4.6.m5.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.6.m5.1c">g(n)</annotation><annotation encoding="application/x-llamapun" id="S2.p4.6.m5.1d">italic_g ( italic_n )</annotation></semantics></math>, quantifying the cost of the path from the root node to <math alttext="n" class="ltx_Math" display="inline" id="S2.p4.7.m6.1"><semantics id="S2.p4.7.m6.1a"><mi id="S2.p4.7.m6.1.1" xref="S2.p4.7.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p4.7.m6.1b"><ci id="S2.p4.7.m6.1.1.cmml" xref="S2.p4.7.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.7.m6.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.p4.7.m6.1d">italic_n</annotation></semantics></math>, and <math alttext="h(n)" class="ltx_Math" display="inline" id="S2.p4.8.m7.1"><semantics id="S2.p4.8.m7.1a"><mrow id="S2.p4.8.m7.1.2" xref="S2.p4.8.m7.1.2.cmml"><mi id="S2.p4.8.m7.1.2.2" xref="S2.p4.8.m7.1.2.2.cmml">h</mi><mo id="S2.p4.8.m7.1.2.1" xref="S2.p4.8.m7.1.2.1.cmml">⁢</mo><mrow id="S2.p4.8.m7.1.2.3.2" xref="S2.p4.8.m7.1.2.cmml"><mo id="S2.p4.8.m7.1.2.3.2.1" stretchy="false" xref="S2.p4.8.m7.1.2.cmml">(</mo><mi id="S2.p4.8.m7.1.1" xref="S2.p4.8.m7.1.1.cmml">n</mi><mo id="S2.p4.8.m7.1.2.3.2.2" stretchy="false" xref="S2.p4.8.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p4.8.m7.1b"><apply id="S2.p4.8.m7.1.2.cmml" xref="S2.p4.8.m7.1.2"><times id="S2.p4.8.m7.1.2.1.cmml" xref="S2.p4.8.m7.1.2.1"></times><ci id="S2.p4.8.m7.1.2.2.cmml" xref="S2.p4.8.m7.1.2.2">ℎ</ci><ci id="S2.p4.8.m7.1.1.cmml" xref="S2.p4.8.m7.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.8.m7.1c">h(n)</annotation><annotation encoding="application/x-llamapun" id="S2.p4.8.m7.1d">italic_h ( italic_n )</annotation></semantics></math>, a heuristic function estimating the cost of the most promising path from <math alttext="n" class="ltx_Math" display="inline" id="S2.p4.9.m8.1"><semantics id="S2.p4.9.m8.1a"><mi id="S2.p4.9.m8.1.1" xref="S2.p4.9.m8.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p4.9.m8.1b"><ci id="S2.p4.9.m8.1.1.cmml" xref="S2.p4.9.m8.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.9.m8.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.p4.9.m8.1d">italic_n</annotation></semantics></math> to the goal.
</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S3.1.m1.1"><semantics id="S3.1.m1.1b"><msup id="S3.1.m1.1.1" xref="S3.1.m1.1.1.cmml"><mi id="S3.1.m1.1.1b" xref="S3.1.m1.1.1.cmml"></mi><mo id="S3.1.m1.1.1.1" xref="S3.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S3.1.m1.1c"><apply id="S3.1.m1.1.1.cmml" xref="S3.1.m1.1.1"><times id="S3.1.m1.1.1.1.cmml" xref="S3.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.1.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.1.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>: A Tree Search Perspective on External Tool Use</h2>
<div class="ltx_para ltx_noindent" id="S3.p1">
<p class="ltx_p" id="S3.p1.5">In this section, we introduce the ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S3.p1.1.m1.1"><semantics id="S3.p1.1.m1.1a"><msup id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml"><mi id="S3.p1.1.m1.1.1a" xref="S3.p1.1.m1.1.1.cmml"></mi><mo id="S3.p1.1.m1.1.1.1" xref="S3.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><apply id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1"><times id="S3.p1.1.m1.1.1.1.cmml" xref="S3.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> that enables LLM-based agents to efficiently navigate the action space to identify a valid solution path for problem-solving (Figure <a class="ltx_ref" href="#S3.F3" title="Figure 3 ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">3</span></a>).
First, we outline the framework of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S3.p1.2.m2.1"><semantics id="S3.p1.2.m2.1a"><msup id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml"><mi id="S3.p1.2.m2.1.1a" xref="S3.p1.2.m2.1.1.cmml"></mi><mo id="S3.p1.2.m2.1.1.1" xref="S3.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><apply id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1"><times id="S3.p1.2.m2.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> (Section <a class="ltx_ref" href="#S3.SS1" title="3.1 Overview ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">3.1</span></a>), consisting of three iterative stages:
<span class="ltx_text ltx_font_italic" id="S3.p1.5.1">selecting</span> the most promising path in the explored decision tree, <span class="ltx_text ltx_font_italic" id="S3.p1.5.2">expanding</span> the potential following actions along the selected path, and subsequently <span class="ltx_text ltx_font_italic" id="S3.p1.5.3">updating</span> the cost functions.
Within ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S3.p1.3.m3.1"><semantics id="S3.p1.3.m3.1a"><msup id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml"><mi id="S3.p1.3.m3.1.1a" xref="S3.p1.3.m3.1.1.cmml"></mi><mo id="S3.p1.3.m3.1.1.1" xref="S3.p1.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><apply id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1"><times id="S3.p1.3.m3.1.1.1.cmml" xref="S3.p1.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>, the cost function is composed of two components: cumulative cost <math alttext="g(n)" class="ltx_Math" display="inline" id="S3.p1.4.m4.1"><semantics id="S3.p1.4.m4.1a"><mrow id="S3.p1.4.m4.1.2" xref="S3.p1.4.m4.1.2.cmml"><mi id="S3.p1.4.m4.1.2.2" xref="S3.p1.4.m4.1.2.2.cmml">g</mi><mo id="S3.p1.4.m4.1.2.1" xref="S3.p1.4.m4.1.2.1.cmml">⁢</mo><mrow id="S3.p1.4.m4.1.2.3.2" xref="S3.p1.4.m4.1.2.cmml"><mo id="S3.p1.4.m4.1.2.3.2.1" stretchy="false" xref="S3.p1.4.m4.1.2.cmml">(</mo><mi id="S3.p1.4.m4.1.1" xref="S3.p1.4.m4.1.1.cmml">n</mi><mo id="S3.p1.4.m4.1.2.3.2.2" stretchy="false" xref="S3.p1.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.4.m4.1b"><apply id="S3.p1.4.m4.1.2.cmml" xref="S3.p1.4.m4.1.2"><times id="S3.p1.4.m4.1.2.1.cmml" xref="S3.p1.4.m4.1.2.1"></times><ci id="S3.p1.4.m4.1.2.2.cmml" xref="S3.p1.4.m4.1.2.2">𝑔</ci><ci id="S3.p1.4.m4.1.1.cmml" xref="S3.p1.4.m4.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m4.1c">g(n)</annotation><annotation encoding="application/x-llamapun" id="S3.p1.4.m4.1d">italic_g ( italic_n )</annotation></semantics></math> (Section <a class="ltx_ref" href="#S3.SS2" title="3.2 Design of Cumulative Cost 𝑔⁢(𝑛) ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">3.2</span></a>) and future score <math alttext="h(n)" class="ltx_Math" display="inline" id="S3.p1.5.m5.1"><semantics id="S3.p1.5.m5.1a"><mrow id="S3.p1.5.m5.1.2" xref="S3.p1.5.m5.1.2.cmml"><mi id="S3.p1.5.m5.1.2.2" xref="S3.p1.5.m5.1.2.2.cmml">h</mi><mo id="S3.p1.5.m5.1.2.1" xref="S3.p1.5.m5.1.2.1.cmml">⁢</mo><mrow id="S3.p1.5.m5.1.2.3.2" xref="S3.p1.5.m5.1.2.cmml"><mo id="S3.p1.5.m5.1.2.3.2.1" stretchy="false" xref="S3.p1.5.m5.1.2.cmml">(</mo><mi id="S3.p1.5.m5.1.1" xref="S3.p1.5.m5.1.1.cmml">n</mi><mo id="S3.p1.5.m5.1.2.3.2.2" stretchy="false" xref="S3.p1.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.5.m5.1b"><apply id="S3.p1.5.m5.1.2.cmml" xref="S3.p1.5.m5.1.2"><times id="S3.p1.5.m5.1.2.1.cmml" xref="S3.p1.5.m5.1.2.1"></times><ci id="S3.p1.5.m5.1.2.2.cmml" xref="S3.p1.5.m5.1.2.2">ℎ</ci><ci id="S3.p1.5.m5.1.1.cmml" xref="S3.p1.5.m5.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.5.m5.1c">h(n)</annotation><annotation encoding="application/x-llamapun" id="S3.p1.5.m5.1d">italic_h ( italic_n )</annotation></semantics></math> (Section <a class="ltx_ref" href="#S3.SS3" title="3.3 Design of Future Cost ℎ⁢(𝑛) ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">3.3</span></a>).</p>
</div>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="258" id="S3.F3.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>
ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S3.F3.2.m1.1"><semantics id="S3.F3.2.m1.1b"><msup id="S3.F3.2.m1.1.1" xref="S3.F3.2.m1.1.1.cmml"><mi id="S3.F3.2.m1.1.1b" xref="S3.F3.2.m1.1.1.cmml"></mi><mo id="S3.F3.2.m1.1.1.1" xref="S3.F3.2.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S3.F3.2.m1.1c"><apply id="S3.F3.2.m1.1.1.cmml" xref="S3.F3.2.m1.1.1"><times id="S3.F3.2.m1.1.1.1.cmml" xref="S3.F3.2.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F3.2.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.F3.2.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> framework of three phases: (a) <span class="ltx_text ltx_font_bold" id="S3.F3.6.1">selection</span>, (b) <span class="ltx_text ltx_font_bold" id="S3.F3.7.2">expansion</span>, and (c) <span class="ltx_text ltx_font_bold" id="S3.F3.8.3">update</span>. The dark and grey circles indicate the explored actions and the potential but unexplored ones, respectively. The blue circles represent the selected next step.
</figcaption>
</figure>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Overview</h3>
<div class="ltx_para ltx_noindent" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.16">ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><msup id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1a" xref="S3.SS1.p1.1.m1.1.1.cmml"></mi><mo id="S3.SS1.p1.1.m1.1.1.1" xref="S3.SS1.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><times id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> is a best-first search algorithm, efficiently guiding LLM agents in generating a sequence of API function calls as a solution plan.
We formulate the action space as a search tree <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">caligraphic_T</annotation></semantics></math>, where each node <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">italic_n</annotation></semantics></math> represents an action <math alttext="a_{n}" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.1"><semantics id="S3.SS1.p1.4.m4.1a"><msub id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml">a</mi><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2">𝑎</ci><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">a_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math>, accompanied by a state composed of the initial task description <math alttext="s_{0}" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><msub id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.p1.5.m5.1.1.2" xref="S3.SS1.p1.5.m5.1.1.2.cmml">s</mi><mn id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2">𝑠</ci><cn id="S3.SS1.p1.5.m5.1.1.3.cmml" type="integer" xref="S3.SS1.p1.5.m5.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">s_{0}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math> and previous actions.
This facilitates the translation of action sequence planning into a navigation task originating from the root node of the decision tree.
ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.1"><semantics id="S3.SS1.p1.6.m6.1a"><msup id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1a" xref="S3.SS1.p1.6.m6.1.1.cmml"></mi><mo id="S3.SS1.p1.6.m6.1.1.1" xref="S3.SS1.p1.6.m6.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><times id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> starts the search tree <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m7.1"><semantics id="S3.SS1.p1.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.1d">caligraphic_T</annotation></semantics></math> with a single root node, corresponding to the input input problem description <math alttext="s_{0}" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m8.1"><semantics id="S3.SS1.p1.8.m8.1a"><msub id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml"><mi id="S3.SS1.p1.8.m8.1.1.2" xref="S3.SS1.p1.8.m8.1.1.2.cmml">s</mi><mn id="S3.SS1.p1.8.m8.1.1.3" xref="S3.SS1.p1.8.m8.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><apply id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2">𝑠</ci><cn id="S3.SS1.p1.8.m8.1.1.3.cmml" type="integer" xref="S3.SS1.p1.8.m8.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">s_{0}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m8.1d">italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math>.
At each step, it selects a node <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m9.1"><semantics id="S3.SS1.p1.9.m9.1a"><mi id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.1b"><ci id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m9.1d">italic_n</annotation></semantics></math> from the frontiers of <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="S3.SS1.p1.10.m10.1"><semantics id="S3.SS1.p1.10.m10.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.10.m10.1.1" xref="S3.SS1.p1.10.m10.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m10.1b"><ci id="S3.SS1.p1.10.m10.1.1.cmml" xref="S3.SS1.p1.10.m10.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m10.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.10.m10.1d">caligraphic_T</annotation></semantics></math> (denoted as <math alttext="\mathcal{F}(\mathcal{T})" class="ltx_Math" display="inline" id="S3.SS1.p1.11.m11.1"><semantics id="S3.SS1.p1.11.m11.1a"><mrow id="S3.SS1.p1.11.m11.1.2" xref="S3.SS1.p1.11.m11.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.11.m11.1.2.2" xref="S3.SS1.p1.11.m11.1.2.2.cmml">ℱ</mi><mo id="S3.SS1.p1.11.m11.1.2.1" xref="S3.SS1.p1.11.m11.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.p1.11.m11.1.2.3.2" xref="S3.SS1.p1.11.m11.1.2.cmml"><mo id="S3.SS1.p1.11.m11.1.2.3.2.1" stretchy="false" xref="S3.SS1.p1.11.m11.1.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.11.m11.1.1" xref="S3.SS1.p1.11.m11.1.1.cmml">𝒯</mi><mo id="S3.SS1.p1.11.m11.1.2.3.2.2" stretchy="false" xref="S3.SS1.p1.11.m11.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m11.1b"><apply id="S3.SS1.p1.11.m11.1.2.cmml" xref="S3.SS1.p1.11.m11.1.2"><times id="S3.SS1.p1.11.m11.1.2.1.cmml" xref="S3.SS1.p1.11.m11.1.2.1"></times><ci id="S3.SS1.p1.11.m11.1.2.2.cmml" xref="S3.SS1.p1.11.m11.1.2.2">ℱ</ci><ci id="S3.SS1.p1.11.m11.1.1.cmml" xref="S3.SS1.p1.11.m11.1.1">𝒯</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m11.1c">\mathcal{F}(\mathcal{T})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.11.m11.1d">caligraphic_F ( caligraphic_T )</annotation></semantics></math>) according to the cost function.
Then, it expands <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p1.12.m12.1"><semantics id="S3.SS1.p1.12.m12.1a"><mi id="S3.SS1.p1.12.m12.1.1" xref="S3.SS1.p1.12.m12.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m12.1b"><ci id="S3.SS1.p1.12.m12.1.1.cmml" xref="S3.SS1.p1.12.m12.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m12.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.12.m12.1d">italic_n</annotation></semantics></math> with the LLM to generate a set of <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.p1.13.m13.1"><semantics id="S3.SS1.p1.13.m13.1a"><mi id="S3.SS1.p1.13.m13.1.1" xref="S3.SS1.p1.13.m13.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.13.m13.1b"><ci id="S3.SS1.p1.13.m13.1.1.cmml" xref="S3.SS1.p1.13.m13.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m13.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.13.m13.1d">italic_k</annotation></semantics></math> potential i.i.d. actions <math alttext="\{a_{ch(n)}^{(j)}\}_{j=1}^{k}" class="ltx_Math" display="inline" id="S3.SS1.p1.14.m14.3"><semantics id="S3.SS1.p1.14.m14.3a"><msubsup id="S3.SS1.p1.14.m14.3.3" xref="S3.SS1.p1.14.m14.3.3.cmml"><mrow id="S3.SS1.p1.14.m14.3.3.1.1.1" xref="S3.SS1.p1.14.m14.3.3.1.1.2.cmml"><mo id="S3.SS1.p1.14.m14.3.3.1.1.1.2" stretchy="false" xref="S3.SS1.p1.14.m14.3.3.1.1.2.cmml">{</mo><msubsup id="S3.SS1.p1.14.m14.3.3.1.1.1.1" xref="S3.SS1.p1.14.m14.3.3.1.1.1.1.cmml"><mi id="S3.SS1.p1.14.m14.3.3.1.1.1.1.2.2" xref="S3.SS1.p1.14.m14.3.3.1.1.1.1.2.2.cmml">a</mi><mrow id="S3.SS1.p1.14.m14.1.1.1" xref="S3.SS1.p1.14.m14.1.1.1.cmml"><mi id="S3.SS1.p1.14.m14.1.1.1.3" xref="S3.SS1.p1.14.m14.1.1.1.3.cmml">c</mi><mo id="S3.SS1.p1.14.m14.1.1.1.2" xref="S3.SS1.p1.14.m14.1.1.1.2.cmml">⁢</mo><mi id="S3.SS1.p1.14.m14.1.1.1.4" xref="S3.SS1.p1.14.m14.1.1.1.4.cmml">h</mi><mo id="S3.SS1.p1.14.m14.1.1.1.2a" xref="S3.SS1.p1.14.m14.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.14.m14.1.1.1.5.2" xref="S3.SS1.p1.14.m14.1.1.1.cmml"><mo id="S3.SS1.p1.14.m14.1.1.1.5.2.1" stretchy="false" xref="S3.SS1.p1.14.m14.1.1.1.cmml">(</mo><mi id="S3.SS1.p1.14.m14.1.1.1.1" xref="S3.SS1.p1.14.m14.1.1.1.1.cmml">n</mi><mo id="S3.SS1.p1.14.m14.1.1.1.5.2.2" stretchy="false" xref="S3.SS1.p1.14.m14.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.SS1.p1.14.m14.2.2.1.3" xref="S3.SS1.p1.14.m14.3.3.1.1.1.1.cmml"><mo id="S3.SS1.p1.14.m14.2.2.1.3.1" stretchy="false" xref="S3.SS1.p1.14.m14.3.3.1.1.1.1.cmml">(</mo><mi id="S3.SS1.p1.14.m14.2.2.1.1" xref="S3.SS1.p1.14.m14.2.2.1.1.cmml">j</mi><mo id="S3.SS1.p1.14.m14.2.2.1.3.2" stretchy="false" xref="S3.SS1.p1.14.m14.3.3.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.SS1.p1.14.m14.3.3.1.1.1.3" stretchy="false" xref="S3.SS1.p1.14.m14.3.3.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p1.14.m14.3.3.1.3" xref="S3.SS1.p1.14.m14.3.3.1.3.cmml"><mi id="S3.SS1.p1.14.m14.3.3.1.3.2" xref="S3.SS1.p1.14.m14.3.3.1.3.2.cmml">j</mi><mo id="S3.SS1.p1.14.m14.3.3.1.3.1" xref="S3.SS1.p1.14.m14.3.3.1.3.1.cmml">=</mo><mn id="S3.SS1.p1.14.m14.3.3.1.3.3" xref="S3.SS1.p1.14.m14.3.3.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p1.14.m14.3.3.3" xref="S3.SS1.p1.14.m14.3.3.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.14.m14.3b"><apply id="S3.SS1.p1.14.m14.3.3.cmml" xref="S3.SS1.p1.14.m14.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.14.m14.3.3.2.cmml" xref="S3.SS1.p1.14.m14.3.3">superscript</csymbol><apply id="S3.SS1.p1.14.m14.3.3.1.cmml" xref="S3.SS1.p1.14.m14.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.14.m14.3.3.1.2.cmml" xref="S3.SS1.p1.14.m14.3.3">subscript</csymbol><set id="S3.SS1.p1.14.m14.3.3.1.1.2.cmml" xref="S3.SS1.p1.14.m14.3.3.1.1.1"><apply id="S3.SS1.p1.14.m14.3.3.1.1.1.1.cmml" xref="S3.SS1.p1.14.m14.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.14.m14.3.3.1.1.1.1.1.cmml" xref="S3.SS1.p1.14.m14.3.3.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p1.14.m14.3.3.1.1.1.1.2.cmml" xref="S3.SS1.p1.14.m14.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.14.m14.3.3.1.1.1.1.2.1.cmml" xref="S3.SS1.p1.14.m14.3.3.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.14.m14.3.3.1.1.1.1.2.2.cmml" xref="S3.SS1.p1.14.m14.3.3.1.1.1.1.2.2">𝑎</ci><apply id="S3.SS1.p1.14.m14.1.1.1.cmml" xref="S3.SS1.p1.14.m14.1.1.1"><times id="S3.SS1.p1.14.m14.1.1.1.2.cmml" xref="S3.SS1.p1.14.m14.1.1.1.2"></times><ci id="S3.SS1.p1.14.m14.1.1.1.3.cmml" xref="S3.SS1.p1.14.m14.1.1.1.3">𝑐</ci><ci id="S3.SS1.p1.14.m14.1.1.1.4.cmml" xref="S3.SS1.p1.14.m14.1.1.1.4">ℎ</ci><ci id="S3.SS1.p1.14.m14.1.1.1.1.cmml" xref="S3.SS1.p1.14.m14.1.1.1.1">𝑛</ci></apply></apply><ci id="S3.SS1.p1.14.m14.2.2.1.1.cmml" xref="S3.SS1.p1.14.m14.2.2.1.1">𝑗</ci></apply></set><apply id="S3.SS1.p1.14.m14.3.3.1.3.cmml" xref="S3.SS1.p1.14.m14.3.3.1.3"><eq id="S3.SS1.p1.14.m14.3.3.1.3.1.cmml" xref="S3.SS1.p1.14.m14.3.3.1.3.1"></eq><ci id="S3.SS1.p1.14.m14.3.3.1.3.2.cmml" xref="S3.SS1.p1.14.m14.3.3.1.3.2">𝑗</ci><cn id="S3.SS1.p1.14.m14.3.3.1.3.3.cmml" type="integer" xref="S3.SS1.p1.14.m14.3.3.1.3.3">1</cn></apply></apply><ci id="S3.SS1.p1.14.m14.3.3.3.cmml" xref="S3.SS1.p1.14.m14.3.3.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.14.m14.3c">\{a_{ch(n)}^{(j)}\}_{j=1}^{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.14.m14.3d">{ italic_a start_POSTSUBSCRIPT italic_c italic_h ( italic_n ) end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> for the next step and grows <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="S3.SS1.p1.15.m15.1"><semantics id="S3.SS1.p1.15.m15.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.15.m15.1.1" xref="S3.SS1.p1.15.m15.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.15.m15.1b"><ci id="S3.SS1.p1.15.m15.1.1.cmml" xref="S3.SS1.p1.15.m15.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.15.m15.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.15.m15.1d">caligraphic_T</annotation></semantics></math> with the generated actions.
Finally, we update the actions into new nodes <math alttext="s_{ch(n)}^{(j)}=(s_{n},a_{ch(n)}^{(j)})" class="ltx_Math" display="inline" id="S3.SS1.p1.16.m16.6"><semantics id="S3.SS1.p1.16.m16.6a"><mrow id="S3.SS1.p1.16.m16.6.6" xref="S3.SS1.p1.16.m16.6.6.cmml"><msubsup id="S3.SS1.p1.16.m16.6.6.4" xref="S3.SS1.p1.16.m16.6.6.4.cmml"><mi id="S3.SS1.p1.16.m16.6.6.4.2.2" xref="S3.SS1.p1.16.m16.6.6.4.2.2.cmml">s</mi><mrow id="S3.SS1.p1.16.m16.1.1.1" xref="S3.SS1.p1.16.m16.1.1.1.cmml"><mi id="S3.SS1.p1.16.m16.1.1.1.3" xref="S3.SS1.p1.16.m16.1.1.1.3.cmml">c</mi><mo id="S3.SS1.p1.16.m16.1.1.1.2" xref="S3.SS1.p1.16.m16.1.1.1.2.cmml">⁢</mo><mi id="S3.SS1.p1.16.m16.1.1.1.4" xref="S3.SS1.p1.16.m16.1.1.1.4.cmml">h</mi><mo id="S3.SS1.p1.16.m16.1.1.1.2a" xref="S3.SS1.p1.16.m16.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.16.m16.1.1.1.5.2" xref="S3.SS1.p1.16.m16.1.1.1.cmml"><mo id="S3.SS1.p1.16.m16.1.1.1.5.2.1" stretchy="false" xref="S3.SS1.p1.16.m16.1.1.1.cmml">(</mo><mi id="S3.SS1.p1.16.m16.1.1.1.1" xref="S3.SS1.p1.16.m16.1.1.1.1.cmml">n</mi><mo id="S3.SS1.p1.16.m16.1.1.1.5.2.2" stretchy="false" xref="S3.SS1.p1.16.m16.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.SS1.p1.16.m16.2.2.1.3" xref="S3.SS1.p1.16.m16.6.6.4.cmml"><mo id="S3.SS1.p1.16.m16.2.2.1.3.1" stretchy="false" xref="S3.SS1.p1.16.m16.6.6.4.cmml">(</mo><mi id="S3.SS1.p1.16.m16.2.2.1.1" xref="S3.SS1.p1.16.m16.2.2.1.1.cmml">j</mi><mo id="S3.SS1.p1.16.m16.2.2.1.3.2" stretchy="false" xref="S3.SS1.p1.16.m16.6.6.4.cmml">)</mo></mrow></msubsup><mo id="S3.SS1.p1.16.m16.6.6.3" xref="S3.SS1.p1.16.m16.6.6.3.cmml">=</mo><mrow id="S3.SS1.p1.16.m16.6.6.2.2" xref="S3.SS1.p1.16.m16.6.6.2.3.cmml"><mo id="S3.SS1.p1.16.m16.6.6.2.2.3" stretchy="false" xref="S3.SS1.p1.16.m16.6.6.2.3.cmml">(</mo><msub id="S3.SS1.p1.16.m16.5.5.1.1.1" xref="S3.SS1.p1.16.m16.5.5.1.1.1.cmml"><mi id="S3.SS1.p1.16.m16.5.5.1.1.1.2" xref="S3.SS1.p1.16.m16.5.5.1.1.1.2.cmml">s</mi><mi id="S3.SS1.p1.16.m16.5.5.1.1.1.3" xref="S3.SS1.p1.16.m16.5.5.1.1.1.3.cmml">n</mi></msub><mo id="S3.SS1.p1.16.m16.6.6.2.2.4" xref="S3.SS1.p1.16.m16.6.6.2.3.cmml">,</mo><msubsup id="S3.SS1.p1.16.m16.6.6.2.2.2" xref="S3.SS1.p1.16.m16.6.6.2.2.2.cmml"><mi id="S3.SS1.p1.16.m16.6.6.2.2.2.2.2" xref="S3.SS1.p1.16.m16.6.6.2.2.2.2.2.cmml">a</mi><mrow id="S3.SS1.p1.16.m16.3.3.1" xref="S3.SS1.p1.16.m16.3.3.1.cmml"><mi id="S3.SS1.p1.16.m16.3.3.1.3" xref="S3.SS1.p1.16.m16.3.3.1.3.cmml">c</mi><mo id="S3.SS1.p1.16.m16.3.3.1.2" xref="S3.SS1.p1.16.m16.3.3.1.2.cmml">⁢</mo><mi id="S3.SS1.p1.16.m16.3.3.1.4" xref="S3.SS1.p1.16.m16.3.3.1.4.cmml">h</mi><mo id="S3.SS1.p1.16.m16.3.3.1.2a" xref="S3.SS1.p1.16.m16.3.3.1.2.cmml">⁢</mo><mrow id="S3.SS1.p1.16.m16.3.3.1.5.2" xref="S3.SS1.p1.16.m16.3.3.1.cmml"><mo id="S3.SS1.p1.16.m16.3.3.1.5.2.1" stretchy="false" xref="S3.SS1.p1.16.m16.3.3.1.cmml">(</mo><mi id="S3.SS1.p1.16.m16.3.3.1.1" xref="S3.SS1.p1.16.m16.3.3.1.1.cmml">n</mi><mo id="S3.SS1.p1.16.m16.3.3.1.5.2.2" stretchy="false" xref="S3.SS1.p1.16.m16.3.3.1.cmml">)</mo></mrow></mrow><mrow id="S3.SS1.p1.16.m16.4.4.1.3" xref="S3.SS1.p1.16.m16.6.6.2.2.2.cmml"><mo id="S3.SS1.p1.16.m16.4.4.1.3.1" stretchy="false" xref="S3.SS1.p1.16.m16.6.6.2.2.2.cmml">(</mo><mi id="S3.SS1.p1.16.m16.4.4.1.1" xref="S3.SS1.p1.16.m16.4.4.1.1.cmml">j</mi><mo id="S3.SS1.p1.16.m16.4.4.1.3.2" stretchy="false" xref="S3.SS1.p1.16.m16.6.6.2.2.2.cmml">)</mo></mrow></msubsup><mo id="S3.SS1.p1.16.m16.6.6.2.2.5" stretchy="false" xref="S3.SS1.p1.16.m16.6.6.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.16.m16.6b"><apply id="S3.SS1.p1.16.m16.6.6.cmml" xref="S3.SS1.p1.16.m16.6.6"><eq id="S3.SS1.p1.16.m16.6.6.3.cmml" xref="S3.SS1.p1.16.m16.6.6.3"></eq><apply id="S3.SS1.p1.16.m16.6.6.4.cmml" xref="S3.SS1.p1.16.m16.6.6.4"><csymbol cd="ambiguous" id="S3.SS1.p1.16.m16.6.6.4.1.cmml" xref="S3.SS1.p1.16.m16.6.6.4">superscript</csymbol><apply id="S3.SS1.p1.16.m16.6.6.4.2.cmml" xref="S3.SS1.p1.16.m16.6.6.4"><csymbol cd="ambiguous" id="S3.SS1.p1.16.m16.6.6.4.2.1.cmml" xref="S3.SS1.p1.16.m16.6.6.4">subscript</csymbol><ci id="S3.SS1.p1.16.m16.6.6.4.2.2.cmml" xref="S3.SS1.p1.16.m16.6.6.4.2.2">𝑠</ci><apply id="S3.SS1.p1.16.m16.1.1.1.cmml" xref="S3.SS1.p1.16.m16.1.1.1"><times id="S3.SS1.p1.16.m16.1.1.1.2.cmml" xref="S3.SS1.p1.16.m16.1.1.1.2"></times><ci id="S3.SS1.p1.16.m16.1.1.1.3.cmml" xref="S3.SS1.p1.16.m16.1.1.1.3">𝑐</ci><ci id="S3.SS1.p1.16.m16.1.1.1.4.cmml" xref="S3.SS1.p1.16.m16.1.1.1.4">ℎ</ci><ci id="S3.SS1.p1.16.m16.1.1.1.1.cmml" xref="S3.SS1.p1.16.m16.1.1.1.1">𝑛</ci></apply></apply><ci id="S3.SS1.p1.16.m16.2.2.1.1.cmml" xref="S3.SS1.p1.16.m16.2.2.1.1">𝑗</ci></apply><interval closure="open" id="S3.SS1.p1.16.m16.6.6.2.3.cmml" xref="S3.SS1.p1.16.m16.6.6.2.2"><apply id="S3.SS1.p1.16.m16.5.5.1.1.1.cmml" xref="S3.SS1.p1.16.m16.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.16.m16.5.5.1.1.1.1.cmml" xref="S3.SS1.p1.16.m16.5.5.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.16.m16.5.5.1.1.1.2.cmml" xref="S3.SS1.p1.16.m16.5.5.1.1.1.2">𝑠</ci><ci id="S3.SS1.p1.16.m16.5.5.1.1.1.3.cmml" xref="S3.SS1.p1.16.m16.5.5.1.1.1.3">𝑛</ci></apply><apply id="S3.SS1.p1.16.m16.6.6.2.2.2.cmml" xref="S3.SS1.p1.16.m16.6.6.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.16.m16.6.6.2.2.2.1.cmml" xref="S3.SS1.p1.16.m16.6.6.2.2.2">superscript</csymbol><apply id="S3.SS1.p1.16.m16.6.6.2.2.2.2.cmml" xref="S3.SS1.p1.16.m16.6.6.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.16.m16.6.6.2.2.2.2.1.cmml" xref="S3.SS1.p1.16.m16.6.6.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.16.m16.6.6.2.2.2.2.2.cmml" xref="S3.SS1.p1.16.m16.6.6.2.2.2.2.2">𝑎</ci><apply id="S3.SS1.p1.16.m16.3.3.1.cmml" xref="S3.SS1.p1.16.m16.3.3.1"><times id="S3.SS1.p1.16.m16.3.3.1.2.cmml" xref="S3.SS1.p1.16.m16.3.3.1.2"></times><ci id="S3.SS1.p1.16.m16.3.3.1.3.cmml" xref="S3.SS1.p1.16.m16.3.3.1.3">𝑐</ci><ci id="S3.SS1.p1.16.m16.3.3.1.4.cmml" xref="S3.SS1.p1.16.m16.3.3.1.4">ℎ</ci><ci id="S3.SS1.p1.16.m16.3.3.1.1.cmml" xref="S3.SS1.p1.16.m16.3.3.1.1">𝑛</ci></apply></apply><ci id="S3.SS1.p1.16.m16.4.4.1.1.cmml" xref="S3.SS1.p1.16.m16.4.4.1.1">𝑗</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.16.m16.6c">s_{ch(n)}^{(j)}=(s_{n},a_{ch(n)}^{(j)})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.16.m16.6d">italic_s start_POSTSUBSCRIPT italic_c italic_h ( italic_n ) end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT = ( italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_c italic_h ( italic_n ) end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT )</annotation></semantics></math> and update their cost functions accordingly.
Algorithm <a class="ltx_ref" href="#algorithm1" title="1 ‣ 3.1 Overview ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">1</span></a> describes the procedure in detail.</p>
</div>
<figure class="ltx_figure ltx_align_floatright" id="S3.SS1.fig1">
<figure class="ltx_float ltx_algorithm" id="algorithm1">
<div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="algorithm1.23">
<div class="ltx_listingline" id="algorithm1.8.8"> <span class="ltx_text" id="algorithm1.8.8.1" style="color:#000000;"><span class="ltx_text ltx_font_bold" id="algorithm1.8.8.1.1">Input:</span> </span><math alttext="x" class="ltx_Math" display="inline" id="algorithm1.1.1.m1.1"><semantics id="algorithm1.1.1.m1.1a"><mi id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><ci id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="algorithm1.1.1.m1.1d">italic_x</annotation></semantics></math>: input; <math alttext="\rho" class="ltx_Math" display="inline" id="algorithm1.2.2.m2.1"><semantics id="algorithm1.2.2.m2.1a"><mi id="algorithm1.2.2.m2.1.1" xref="algorithm1.2.2.m2.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.m2.1b"><ci id="algorithm1.2.2.m2.1.1.cmml" xref="algorithm1.2.2.m2.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.m2.1c">\rho</annotation><annotation encoding="application/x-llamapun" id="algorithm1.2.2.m2.1d">italic_ρ</annotation></semantics></math>: large language model; <math alttext="T" class="ltx_Math" display="inline" id="algorithm1.3.3.m3.1"><semantics id="algorithm1.3.3.m3.1a"><mi id="algorithm1.3.3.m3.1.1" xref="algorithm1.3.3.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.m3.1b"><ci id="algorithm1.3.3.m3.1.1.cmml" xref="algorithm1.3.3.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.m3.1c">T</annotation><annotation encoding="application/x-llamapun" id="algorithm1.3.3.m3.1d">italic_T</annotation></semantics></math>: the maximum exploring steps; <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="algorithm1.4.4.m4.1"><semantics id="algorithm1.4.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm1.4.4.m4.1.1" xref="algorithm1.4.4.m4.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m4.1b"><ci id="algorithm1.4.4.m4.1.1.cmml" xref="algorithm1.4.4.m4.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.m4.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.4.4.m4.1d">caligraphic_T</annotation></semantics></math>: the decision tree; <math alttext="\mathcal{F}(\mathcal{T})" class="ltx_Math" display="inline" id="algorithm1.5.5.m5.1"><semantics id="algorithm1.5.5.m5.1a"><mrow id="algorithm1.5.5.m5.1.2" xref="algorithm1.5.5.m5.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.5.5.m5.1.2.2" xref="algorithm1.5.5.m5.1.2.2.cmml">ℱ</mi><mo id="algorithm1.5.5.m5.1.2.1" xref="algorithm1.5.5.m5.1.2.1.cmml">⁢</mo><mrow id="algorithm1.5.5.m5.1.2.3.2" xref="algorithm1.5.5.m5.1.2.cmml"><mo id="algorithm1.5.5.m5.1.2.3.2.1" stretchy="false" xref="algorithm1.5.5.m5.1.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="algorithm1.5.5.m5.1.1" xref="algorithm1.5.5.m5.1.1.cmml">𝒯</mi><mo id="algorithm1.5.5.m5.1.2.3.2.2" stretchy="false" xref="algorithm1.5.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.m5.1b"><apply id="algorithm1.5.5.m5.1.2.cmml" xref="algorithm1.5.5.m5.1.2"><times id="algorithm1.5.5.m5.1.2.1.cmml" xref="algorithm1.5.5.m5.1.2.1"></times><ci id="algorithm1.5.5.m5.1.2.2.cmml" xref="algorithm1.5.5.m5.1.2.2">ℱ</ci><ci id="algorithm1.5.5.m5.1.1.cmml" xref="algorithm1.5.5.m5.1.1">𝒯</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.m5.1c">\mathcal{F}(\mathcal{T})</annotation><annotation encoding="application/x-llamapun" id="algorithm1.5.5.m5.1d">caligraphic_F ( caligraphic_T )</annotation></semantics></math>: the set of frontier nodes in <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="algorithm1.6.6.m6.1"><semantics id="algorithm1.6.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm1.6.6.m6.1.1" xref="algorithm1.6.6.m6.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.m6.1b"><ci id="algorithm1.6.6.m6.1.1.cmml" xref="algorithm1.6.6.m6.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.m6.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.6.6.m6.1d">caligraphic_T</annotation></semantics></math>; <math alttext="f(n)" class="ltx_Math" display="inline" id="algorithm1.7.7.m7.1"><semantics id="algorithm1.7.7.m7.1a"><mrow id="algorithm1.7.7.m7.1.2" xref="algorithm1.7.7.m7.1.2.cmml"><mi id="algorithm1.7.7.m7.1.2.2" xref="algorithm1.7.7.m7.1.2.2.cmml">f</mi><mo id="algorithm1.7.7.m7.1.2.1" xref="algorithm1.7.7.m7.1.2.1.cmml">⁢</mo><mrow id="algorithm1.7.7.m7.1.2.3.2" xref="algorithm1.7.7.m7.1.2.cmml"><mo id="algorithm1.7.7.m7.1.2.3.2.1" stretchy="false" xref="algorithm1.7.7.m7.1.2.cmml">(</mo><mi id="algorithm1.7.7.m7.1.1" xref="algorithm1.7.7.m7.1.1.cmml">n</mi><mo id="algorithm1.7.7.m7.1.2.3.2.2" stretchy="false" xref="algorithm1.7.7.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.7.7.m7.1b"><apply id="algorithm1.7.7.m7.1.2.cmml" xref="algorithm1.7.7.m7.1.2"><times id="algorithm1.7.7.m7.1.2.1.cmml" xref="algorithm1.7.7.m7.1.2.1"></times><ci id="algorithm1.7.7.m7.1.2.2.cmml" xref="algorithm1.7.7.m7.1.2.2">𝑓</ci><ci id="algorithm1.7.7.m7.1.1.cmml" xref="algorithm1.7.7.m7.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.7.m7.1c">f(n)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.7.7.m7.1d">italic_f ( italic_n )</annotation></semantics></math>: the cost function of node <math alttext="n" class="ltx_Math" display="inline" id="algorithm1.8.8.m8.1"><semantics id="algorithm1.8.8.m8.1a"><mi id="algorithm1.8.8.m8.1.1" xref="algorithm1.8.8.m8.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="algorithm1.8.8.m8.1b"><ci id="algorithm1.8.8.m8.1.1.cmml" xref="algorithm1.8.8.m8.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.8.m8.1c">n</annotation><annotation encoding="application/x-llamapun" id="algorithm1.8.8.m8.1d">italic_n</annotation></semantics></math>.
</div>
<div class="ltx_listingline" id="algorithm1.11.11"> Initialize <math alttext="\mathcal{T}=\{\mathcal{V},\mathcal{E}\}" class="ltx_Math" display="inline" id="algorithm1.9.9.m1.2"><semantics id="algorithm1.9.9.m1.2a"><mrow id="algorithm1.9.9.m1.2.3" xref="algorithm1.9.9.m1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.9.9.m1.2.3.2" xref="algorithm1.9.9.m1.2.3.2.cmml">𝒯</mi><mo id="algorithm1.9.9.m1.2.3.1" xref="algorithm1.9.9.m1.2.3.1.cmml">=</mo><mrow id="algorithm1.9.9.m1.2.3.3.2" xref="algorithm1.9.9.m1.2.3.3.1.cmml"><mo id="algorithm1.9.9.m1.2.3.3.2.1" stretchy="false" xref="algorithm1.9.9.m1.2.3.3.1.cmml">{</mo><mi class="ltx_font_mathcaligraphic" id="algorithm1.9.9.m1.1.1" xref="algorithm1.9.9.m1.1.1.cmml">𝒱</mi><mo id="algorithm1.9.9.m1.2.3.3.2.2" xref="algorithm1.9.9.m1.2.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="algorithm1.9.9.m1.2.2" xref="algorithm1.9.9.m1.2.2.cmml">ℰ</mi><mo id="algorithm1.9.9.m1.2.3.3.2.3" stretchy="false" xref="algorithm1.9.9.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.9.9.m1.2b"><apply id="algorithm1.9.9.m1.2.3.cmml" xref="algorithm1.9.9.m1.2.3"><eq id="algorithm1.9.9.m1.2.3.1.cmml" xref="algorithm1.9.9.m1.2.3.1"></eq><ci id="algorithm1.9.9.m1.2.3.2.cmml" xref="algorithm1.9.9.m1.2.3.2">𝒯</ci><set id="algorithm1.9.9.m1.2.3.3.1.cmml" xref="algorithm1.9.9.m1.2.3.3.2"><ci id="algorithm1.9.9.m1.1.1.cmml" xref="algorithm1.9.9.m1.1.1">𝒱</ci><ci id="algorithm1.9.9.m1.2.2.cmml" xref="algorithm1.9.9.m1.2.2">ℰ</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.9.m1.2c">\mathcal{T}=\{\mathcal{V},\mathcal{E}\}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.9.9.m1.2d">caligraphic_T = { caligraphic_V , caligraphic_E }</annotation></semantics></math>, <math alttext="\mathcal{V}\leftarrow x" class="ltx_Math" display="inline" id="algorithm1.10.10.m2.1"><semantics id="algorithm1.10.10.m2.1a"><mrow id="algorithm1.10.10.m2.1.1" xref="algorithm1.10.10.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.10.10.m2.1.1.2" xref="algorithm1.10.10.m2.1.1.2.cmml">𝒱</mi><mo id="algorithm1.10.10.m2.1.1.1" stretchy="false" xref="algorithm1.10.10.m2.1.1.1.cmml">←</mo><mi id="algorithm1.10.10.m2.1.1.3" xref="algorithm1.10.10.m2.1.1.3.cmml">x</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.10.10.m2.1b"><apply id="algorithm1.10.10.m2.1.1.cmml" xref="algorithm1.10.10.m2.1.1"><ci id="algorithm1.10.10.m2.1.1.1.cmml" xref="algorithm1.10.10.m2.1.1.1">←</ci><ci id="algorithm1.10.10.m2.1.1.2.cmml" xref="algorithm1.10.10.m2.1.1.2">𝒱</ci><ci id="algorithm1.10.10.m2.1.1.3.cmml" xref="algorithm1.10.10.m2.1.1.3">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.10.10.m2.1c">\mathcal{V}\leftarrow x</annotation><annotation encoding="application/x-llamapun" id="algorithm1.10.10.m2.1d">caligraphic_V ← italic_x</annotation></semantics></math>, <math alttext="\mathcal{E}\leftarrow\varnothing" class="ltx_Math" display="inline" id="algorithm1.11.11.m3.1"><semantics id="algorithm1.11.11.m3.1a"><mrow id="algorithm1.11.11.m3.1.1" xref="algorithm1.11.11.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.11.11.m3.1.1.2" xref="algorithm1.11.11.m3.1.1.2.cmml">ℰ</mi><mo id="algorithm1.11.11.m3.1.1.1" stretchy="false" xref="algorithm1.11.11.m3.1.1.1.cmml">←</mo><mi id="algorithm1.11.11.m3.1.1.3" mathvariant="normal" xref="algorithm1.11.11.m3.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.11.11.m3.1b"><apply id="algorithm1.11.11.m3.1.1.cmml" xref="algorithm1.11.11.m3.1.1"><ci id="algorithm1.11.11.m3.1.1.1.cmml" xref="algorithm1.11.11.m3.1.1.1">←</ci><ci id="algorithm1.11.11.m3.1.1.2.cmml" xref="algorithm1.11.11.m3.1.1.2">ℰ</ci><emptyset id="algorithm1.11.11.m3.1.1.3.cmml" xref="algorithm1.11.11.m3.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.11.11.m3.1c">\mathcal{E}\leftarrow\varnothing</annotation><annotation encoding="application/x-llamapun" id="algorithm1.11.11.m3.1d">caligraphic_E ← ∅</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.12.12"> <span class="ltx_text ltx_font_bold" id="algorithm1.12.12.2">for</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.12.12.1"><math alttext="t=1,2,\cdots,T" class="ltx_Math" display="inline" id="algorithm1.12.12.1.m1.4"><semantics id="algorithm1.12.12.1.m1.4a"><mrow id="algorithm1.12.12.1.m1.4.5" xref="algorithm1.12.12.1.m1.4.5.cmml"><mi id="algorithm1.12.12.1.m1.4.5.2" xref="algorithm1.12.12.1.m1.4.5.2.cmml">t</mi><mo id="algorithm1.12.12.1.m1.4.5.1" mathvariant="normal" xref="algorithm1.12.12.1.m1.4.5.1.cmml">=</mo><mrow id="algorithm1.12.12.1.m1.4.5.3.2" xref="algorithm1.12.12.1.m1.4.5.3.1.cmml"><mn id="algorithm1.12.12.1.m1.1.1" mathvariant="normal" xref="algorithm1.12.12.1.m1.1.1.cmml">1</mn><mo id="algorithm1.12.12.1.m1.4.5.3.2.1" mathvariant="normal" xref="algorithm1.12.12.1.m1.4.5.3.1.cmml">,</mo><mn id="algorithm1.12.12.1.m1.2.2" mathvariant="normal" xref="algorithm1.12.12.1.m1.2.2.cmml">2</mn><mo id="algorithm1.12.12.1.m1.4.5.3.2.2" mathvariant="normal" xref="algorithm1.12.12.1.m1.4.5.3.1.cmml">,</mo><mi id="algorithm1.12.12.1.m1.3.3" mathvariant="normal" xref="algorithm1.12.12.1.m1.3.3.cmml">⋯</mi><mo id="algorithm1.12.12.1.m1.4.5.3.2.3" mathvariant="normal" xref="algorithm1.12.12.1.m1.4.5.3.1.cmml">,</mo><mi id="algorithm1.12.12.1.m1.4.4" xref="algorithm1.12.12.1.m1.4.4.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.12.12.1.m1.4b"><apply id="algorithm1.12.12.1.m1.4.5.cmml" xref="algorithm1.12.12.1.m1.4.5"><eq id="algorithm1.12.12.1.m1.4.5.1.cmml" xref="algorithm1.12.12.1.m1.4.5.1"></eq><ci id="algorithm1.12.12.1.m1.4.5.2.cmml" xref="algorithm1.12.12.1.m1.4.5.2">𝑡</ci><list id="algorithm1.12.12.1.m1.4.5.3.1.cmml" xref="algorithm1.12.12.1.m1.4.5.3.2"><cn id="algorithm1.12.12.1.m1.1.1.cmml" type="integer" xref="algorithm1.12.12.1.m1.1.1">1</cn><cn id="algorithm1.12.12.1.m1.2.2.cmml" type="integer" xref="algorithm1.12.12.1.m1.2.2">2</cn><ci id="algorithm1.12.12.1.m1.3.3.cmml" xref="algorithm1.12.12.1.m1.3.3">normal-⋯</ci><ci id="algorithm1.12.12.1.m1.4.4.cmml" xref="algorithm1.12.12.1.m1.4.4">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.12.12.1.m1.4c">t=1,2,\cdots,T</annotation><annotation encoding="application/x-llamapun" id="algorithm1.12.12.1.m1.4d">italic_t = 1 , 2 , ⋯ , italic_T</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="algorithm1.12.12.3">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.13.13">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <math alttext="n_{next}\leftarrow\operatorname*{arg\,min}_{n\in\mathcal{F}(\mathcal{T})}f(n)" class="ltx_Math" display="inline" id="algorithm1.13.13.m1.2"><semantics id="algorithm1.13.13.m1.2a"><mrow id="algorithm1.13.13.m1.2.3" xref="algorithm1.13.13.m1.2.3.cmml"><msub id="algorithm1.13.13.m1.2.3.2" xref="algorithm1.13.13.m1.2.3.2.cmml"><mi id="algorithm1.13.13.m1.2.3.2.2" xref="algorithm1.13.13.m1.2.3.2.2.cmml">n</mi><mrow id="algorithm1.13.13.m1.2.3.2.3" xref="algorithm1.13.13.m1.2.3.2.3.cmml"><mi id="algorithm1.13.13.m1.2.3.2.3.2" xref="algorithm1.13.13.m1.2.3.2.3.2.cmml">n</mi><mo id="algorithm1.13.13.m1.2.3.2.3.1" xref="algorithm1.13.13.m1.2.3.2.3.1.cmml">⁢</mo><mi id="algorithm1.13.13.m1.2.3.2.3.3" xref="algorithm1.13.13.m1.2.3.2.3.3.cmml">e</mi><mo id="algorithm1.13.13.m1.2.3.2.3.1a" xref="algorithm1.13.13.m1.2.3.2.3.1.cmml">⁢</mo><mi id="algorithm1.13.13.m1.2.3.2.3.4" xref="algorithm1.13.13.m1.2.3.2.3.4.cmml">x</mi><mo id="algorithm1.13.13.m1.2.3.2.3.1b" xref="algorithm1.13.13.m1.2.3.2.3.1.cmml">⁢</mo><mi id="algorithm1.13.13.m1.2.3.2.3.5" xref="algorithm1.13.13.m1.2.3.2.3.5.cmml">t</mi></mrow></msub><mo id="algorithm1.13.13.m1.2.3.1" stretchy="false" xref="algorithm1.13.13.m1.2.3.1.cmml">←</mo><mrow id="algorithm1.13.13.m1.2.3.3" xref="algorithm1.13.13.m1.2.3.3.cmml"><mrow id="algorithm1.13.13.m1.2.3.3.2" xref="algorithm1.13.13.m1.2.3.3.2.cmml"><msub id="algorithm1.13.13.m1.2.3.3.2.1" xref="algorithm1.13.13.m1.2.3.3.2.1.cmml"><mrow id="algorithm1.13.13.m1.2.3.3.2.1.2" xref="algorithm1.13.13.m1.2.3.3.2.1.2.cmml"><mi id="algorithm1.13.13.m1.2.3.3.2.1.2.2" xref="algorithm1.13.13.m1.2.3.3.2.1.2.2.cmml">arg</mi><mo id="algorithm1.13.13.m1.2.3.3.2.1.2.1" lspace="0.170em" xref="algorithm1.13.13.m1.2.3.3.2.1.2.1.cmml">⁢</mo><mi id="algorithm1.13.13.m1.2.3.3.2.1.2.3" xref="algorithm1.13.13.m1.2.3.3.2.1.2.3.cmml">min</mi></mrow><mrow id="algorithm1.13.13.m1.1.1.1" xref="algorithm1.13.13.m1.1.1.1.cmml"><mi id="algorithm1.13.13.m1.1.1.1.3" xref="algorithm1.13.13.m1.1.1.1.3.cmml">n</mi><mo id="algorithm1.13.13.m1.1.1.1.2" xref="algorithm1.13.13.m1.1.1.1.2.cmml">∈</mo><mrow id="algorithm1.13.13.m1.1.1.1.4" xref="algorithm1.13.13.m1.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.13.13.m1.1.1.1.4.2" xref="algorithm1.13.13.m1.1.1.1.4.2.cmml">ℱ</mi><mo id="algorithm1.13.13.m1.1.1.1.4.1" xref="algorithm1.13.13.m1.1.1.1.4.1.cmml">⁢</mo><mrow id="algorithm1.13.13.m1.1.1.1.4.3.2" xref="algorithm1.13.13.m1.1.1.1.4.cmml"><mo id="algorithm1.13.13.m1.1.1.1.4.3.2.1" stretchy="false" xref="algorithm1.13.13.m1.1.1.1.4.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="algorithm1.13.13.m1.1.1.1.1" xref="algorithm1.13.13.m1.1.1.1.1.cmml">𝒯</mi><mo id="algorithm1.13.13.m1.1.1.1.4.3.2.2" stretchy="false" xref="algorithm1.13.13.m1.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mo id="algorithm1.13.13.m1.2.3.3.2a" xref="algorithm1.13.13.m1.2.3.3.2.cmml">⁡</mo><mi id="algorithm1.13.13.m1.2.3.3.2.2" xref="algorithm1.13.13.m1.2.3.3.2.2.cmml">f</mi></mrow><mo id="algorithm1.13.13.m1.2.3.3.1" xref="algorithm1.13.13.m1.2.3.3.1.cmml">⁢</mo><mrow id="algorithm1.13.13.m1.2.3.3.3.2" xref="algorithm1.13.13.m1.2.3.3.cmml"><mo id="algorithm1.13.13.m1.2.3.3.3.2.1" stretchy="false" xref="algorithm1.13.13.m1.2.3.3.cmml">(</mo><mi id="algorithm1.13.13.m1.2.2" xref="algorithm1.13.13.m1.2.2.cmml">n</mi><mo id="algorithm1.13.13.m1.2.3.3.3.2.2" stretchy="false" xref="algorithm1.13.13.m1.2.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.13.13.m1.2b"><apply id="algorithm1.13.13.m1.2.3.cmml" xref="algorithm1.13.13.m1.2.3"><ci id="algorithm1.13.13.m1.2.3.1.cmml" xref="algorithm1.13.13.m1.2.3.1">←</ci><apply id="algorithm1.13.13.m1.2.3.2.cmml" xref="algorithm1.13.13.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm1.13.13.m1.2.3.2.1.cmml" xref="algorithm1.13.13.m1.2.3.2">subscript</csymbol><ci id="algorithm1.13.13.m1.2.3.2.2.cmml" xref="algorithm1.13.13.m1.2.3.2.2">𝑛</ci><apply id="algorithm1.13.13.m1.2.3.2.3.cmml" xref="algorithm1.13.13.m1.2.3.2.3"><times id="algorithm1.13.13.m1.2.3.2.3.1.cmml" xref="algorithm1.13.13.m1.2.3.2.3.1"></times><ci id="algorithm1.13.13.m1.2.3.2.3.2.cmml" xref="algorithm1.13.13.m1.2.3.2.3.2">𝑛</ci><ci id="algorithm1.13.13.m1.2.3.2.3.3.cmml" xref="algorithm1.13.13.m1.2.3.2.3.3">𝑒</ci><ci id="algorithm1.13.13.m1.2.3.2.3.4.cmml" xref="algorithm1.13.13.m1.2.3.2.3.4">𝑥</ci><ci id="algorithm1.13.13.m1.2.3.2.3.5.cmml" xref="algorithm1.13.13.m1.2.3.2.3.5">𝑡</ci></apply></apply><apply id="algorithm1.13.13.m1.2.3.3.cmml" xref="algorithm1.13.13.m1.2.3.3"><times id="algorithm1.13.13.m1.2.3.3.1.cmml" xref="algorithm1.13.13.m1.2.3.3.1"></times><apply id="algorithm1.13.13.m1.2.3.3.2.cmml" xref="algorithm1.13.13.m1.2.3.3.2"><apply id="algorithm1.13.13.m1.2.3.3.2.1.cmml" xref="algorithm1.13.13.m1.2.3.3.2.1"><csymbol cd="ambiguous" id="algorithm1.13.13.m1.2.3.3.2.1.1.cmml" xref="algorithm1.13.13.m1.2.3.3.2.1">subscript</csymbol><apply id="algorithm1.13.13.m1.2.3.3.2.1.2.cmml" xref="algorithm1.13.13.m1.2.3.3.2.1.2"><times id="algorithm1.13.13.m1.2.3.3.2.1.2.1.cmml" xref="algorithm1.13.13.m1.2.3.3.2.1.2.1"></times><ci id="algorithm1.13.13.m1.2.3.3.2.1.2.2.cmml" xref="algorithm1.13.13.m1.2.3.3.2.1.2.2">arg</ci><ci id="algorithm1.13.13.m1.2.3.3.2.1.2.3.cmml" xref="algorithm1.13.13.m1.2.3.3.2.1.2.3">min</ci></apply><apply id="algorithm1.13.13.m1.1.1.1.cmml" xref="algorithm1.13.13.m1.1.1.1"><in id="algorithm1.13.13.m1.1.1.1.2.cmml" xref="algorithm1.13.13.m1.1.1.1.2"></in><ci id="algorithm1.13.13.m1.1.1.1.3.cmml" xref="algorithm1.13.13.m1.1.1.1.3">𝑛</ci><apply id="algorithm1.13.13.m1.1.1.1.4.cmml" xref="algorithm1.13.13.m1.1.1.1.4"><times id="algorithm1.13.13.m1.1.1.1.4.1.cmml" xref="algorithm1.13.13.m1.1.1.1.4.1"></times><ci id="algorithm1.13.13.m1.1.1.1.4.2.cmml" xref="algorithm1.13.13.m1.1.1.1.4.2">ℱ</ci><ci id="algorithm1.13.13.m1.1.1.1.1.cmml" xref="algorithm1.13.13.m1.1.1.1.1">𝒯</ci></apply></apply></apply><ci id="algorithm1.13.13.m1.2.3.3.2.2.cmml" xref="algorithm1.13.13.m1.2.3.3.2.2">𝑓</ci></apply><ci id="algorithm1.13.13.m1.2.2.cmml" xref="algorithm1.13.13.m1.2.2">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.13.13.m1.2c">n_{next}\leftarrow\operatorname*{arg\,min}_{n\in\mathcal{F}(\mathcal{T})}f(n)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.13.13.m1.2d">italic_n start_POSTSUBSCRIPT italic_n italic_e italic_x italic_t end_POSTSUBSCRIPT ← start_OPERATOR roman_arg roman_min end_OPERATOR start_POSTSUBSCRIPT italic_n ∈ caligraphic_F ( caligraphic_T ) end_POSTSUBSCRIPT italic_f ( italic_n )</annotation></semantics></math> <span class="ltx_text" id="algorithm1.13.13.1" style="color:#00CC99;">// <span class="ltx_text ltx_font_italic" id="algorithm1.13.13.1.1">Selection</span></span>
</div>
<div class="ltx_listingline" id="algorithm1.14.14">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    <math alttext="\{a^{(i)}\}_{i=1}^{k}\leftarrow\rho(n_{next})" class="ltx_Math" display="inline" id="algorithm1.14.14.m1.3"><semantics id="algorithm1.14.14.m1.3a"><mrow id="algorithm1.14.14.m1.3.3" xref="algorithm1.14.14.m1.3.3.cmml"><msubsup id="algorithm1.14.14.m1.2.2.1" xref="algorithm1.14.14.m1.2.2.1.cmml"><mrow id="algorithm1.14.14.m1.2.2.1.1.1.1" xref="algorithm1.14.14.m1.2.2.1.1.1.2.cmml"><mo id="algorithm1.14.14.m1.2.2.1.1.1.1.2" stretchy="false" xref="algorithm1.14.14.m1.2.2.1.1.1.2.cmml">{</mo><msup id="algorithm1.14.14.m1.2.2.1.1.1.1.1" xref="algorithm1.14.14.m1.2.2.1.1.1.1.1.cmml"><mi id="algorithm1.14.14.m1.2.2.1.1.1.1.1.2" xref="algorithm1.14.14.m1.2.2.1.1.1.1.1.2.cmml">a</mi><mrow id="algorithm1.14.14.m1.1.1.1.3" xref="algorithm1.14.14.m1.2.2.1.1.1.1.1.cmml"><mo id="algorithm1.14.14.m1.1.1.1.3.1" stretchy="false" xref="algorithm1.14.14.m1.2.2.1.1.1.1.1.cmml">(</mo><mi id="algorithm1.14.14.m1.1.1.1.1" xref="algorithm1.14.14.m1.1.1.1.1.cmml">i</mi><mo id="algorithm1.14.14.m1.1.1.1.3.2" stretchy="false" xref="algorithm1.14.14.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></msup><mo id="algorithm1.14.14.m1.2.2.1.1.1.1.3" stretchy="false" xref="algorithm1.14.14.m1.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="algorithm1.14.14.m1.2.2.1.1.3" xref="algorithm1.14.14.m1.2.2.1.1.3.cmml"><mi id="algorithm1.14.14.m1.2.2.1.1.3.2" xref="algorithm1.14.14.m1.2.2.1.1.3.2.cmml">i</mi><mo id="algorithm1.14.14.m1.2.2.1.1.3.1" xref="algorithm1.14.14.m1.2.2.1.1.3.1.cmml">=</mo><mn id="algorithm1.14.14.m1.2.2.1.1.3.3" xref="algorithm1.14.14.m1.2.2.1.1.3.3.cmml">1</mn></mrow><mi id="algorithm1.14.14.m1.2.2.1.3" xref="algorithm1.14.14.m1.2.2.1.3.cmml">k</mi></msubsup><mo id="algorithm1.14.14.m1.3.3.3" stretchy="false" xref="algorithm1.14.14.m1.3.3.3.cmml">←</mo><mrow id="algorithm1.14.14.m1.3.3.2" xref="algorithm1.14.14.m1.3.3.2.cmml"><mi id="algorithm1.14.14.m1.3.3.2.3" xref="algorithm1.14.14.m1.3.3.2.3.cmml">ρ</mi><mo id="algorithm1.14.14.m1.3.3.2.2" xref="algorithm1.14.14.m1.3.3.2.2.cmml">⁢</mo><mrow id="algorithm1.14.14.m1.3.3.2.1.1" xref="algorithm1.14.14.m1.3.3.2.1.1.1.cmml"><mo id="algorithm1.14.14.m1.3.3.2.1.1.2" stretchy="false" xref="algorithm1.14.14.m1.3.3.2.1.1.1.cmml">(</mo><msub id="algorithm1.14.14.m1.3.3.2.1.1.1" xref="algorithm1.14.14.m1.3.3.2.1.1.1.cmml"><mi id="algorithm1.14.14.m1.3.3.2.1.1.1.2" xref="algorithm1.14.14.m1.3.3.2.1.1.1.2.cmml">n</mi><mrow id="algorithm1.14.14.m1.3.3.2.1.1.1.3" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.cmml"><mi id="algorithm1.14.14.m1.3.3.2.1.1.1.3.2" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.2.cmml">n</mi><mo id="algorithm1.14.14.m1.3.3.2.1.1.1.3.1" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.14.14.m1.3.3.2.1.1.1.3.3" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.3.cmml">e</mi><mo id="algorithm1.14.14.m1.3.3.2.1.1.1.3.1a" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.14.14.m1.3.3.2.1.1.1.3.4" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.4.cmml">x</mi><mo id="algorithm1.14.14.m1.3.3.2.1.1.1.3.1b" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.14.14.m1.3.3.2.1.1.1.3.5" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.5.cmml">t</mi></mrow></msub><mo id="algorithm1.14.14.m1.3.3.2.1.1.3" stretchy="false" xref="algorithm1.14.14.m1.3.3.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.14.14.m1.3b"><apply id="algorithm1.14.14.m1.3.3.cmml" xref="algorithm1.14.14.m1.3.3"><ci id="algorithm1.14.14.m1.3.3.3.cmml" xref="algorithm1.14.14.m1.3.3.3">←</ci><apply id="algorithm1.14.14.m1.2.2.1.cmml" xref="algorithm1.14.14.m1.2.2.1"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.2.2.1.2.cmml" xref="algorithm1.14.14.m1.2.2.1">superscript</csymbol><apply id="algorithm1.14.14.m1.2.2.1.1.cmml" xref="algorithm1.14.14.m1.2.2.1"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.2.2.1.1.2.cmml" xref="algorithm1.14.14.m1.2.2.1">subscript</csymbol><set id="algorithm1.14.14.m1.2.2.1.1.1.2.cmml" xref="algorithm1.14.14.m1.2.2.1.1.1.1"><apply id="algorithm1.14.14.m1.2.2.1.1.1.1.1.cmml" xref="algorithm1.14.14.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.2.2.1.1.1.1.1.1.cmml" xref="algorithm1.14.14.m1.2.2.1.1.1.1.1">superscript</csymbol><ci id="algorithm1.14.14.m1.2.2.1.1.1.1.1.2.cmml" xref="algorithm1.14.14.m1.2.2.1.1.1.1.1.2">𝑎</ci><ci id="algorithm1.14.14.m1.1.1.1.1.cmml" xref="algorithm1.14.14.m1.1.1.1.1">𝑖</ci></apply></set><apply id="algorithm1.14.14.m1.2.2.1.1.3.cmml" xref="algorithm1.14.14.m1.2.2.1.1.3"><eq id="algorithm1.14.14.m1.2.2.1.1.3.1.cmml" xref="algorithm1.14.14.m1.2.2.1.1.3.1"></eq><ci id="algorithm1.14.14.m1.2.2.1.1.3.2.cmml" xref="algorithm1.14.14.m1.2.2.1.1.3.2">𝑖</ci><cn id="algorithm1.14.14.m1.2.2.1.1.3.3.cmml" type="integer" xref="algorithm1.14.14.m1.2.2.1.1.3.3">1</cn></apply></apply><ci id="algorithm1.14.14.m1.2.2.1.3.cmml" xref="algorithm1.14.14.m1.2.2.1.3">𝑘</ci></apply><apply id="algorithm1.14.14.m1.3.3.2.cmml" xref="algorithm1.14.14.m1.3.3.2"><times id="algorithm1.14.14.m1.3.3.2.2.cmml" xref="algorithm1.14.14.m1.3.3.2.2"></times><ci id="algorithm1.14.14.m1.3.3.2.3.cmml" xref="algorithm1.14.14.m1.3.3.2.3">𝜌</ci><apply id="algorithm1.14.14.m1.3.3.2.1.1.1.cmml" xref="algorithm1.14.14.m1.3.3.2.1.1"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.3.3.2.1.1.1.1.cmml" xref="algorithm1.14.14.m1.3.3.2.1.1">subscript</csymbol><ci id="algorithm1.14.14.m1.3.3.2.1.1.1.2.cmml" xref="algorithm1.14.14.m1.3.3.2.1.1.1.2">𝑛</ci><apply id="algorithm1.14.14.m1.3.3.2.1.1.1.3.cmml" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3"><times id="algorithm1.14.14.m1.3.3.2.1.1.1.3.1.cmml" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.1"></times><ci id="algorithm1.14.14.m1.3.3.2.1.1.1.3.2.cmml" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.2">𝑛</ci><ci id="algorithm1.14.14.m1.3.3.2.1.1.1.3.3.cmml" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.3">𝑒</ci><ci id="algorithm1.14.14.m1.3.3.2.1.1.1.3.4.cmml" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.4">𝑥</ci><ci id="algorithm1.14.14.m1.3.3.2.1.1.1.3.5.cmml" xref="algorithm1.14.14.m1.3.3.2.1.1.1.3.5">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.14.14.m1.3c">\{a^{(i)}\}_{i=1}^{k}\leftarrow\rho(n_{next})</annotation><annotation encoding="application/x-llamapun" id="algorithm1.14.14.m1.3d">{ italic_a start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ← italic_ρ ( italic_n start_POSTSUBSCRIPT italic_n italic_e italic_x italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> <span class="ltx_text" id="algorithm1.14.14.1" style="color:#00CC99;">// <span class="ltx_text ltx_font_italic" id="algorithm1.14.14.1.1">Expansion</span></span>
</div>
<div class="ltx_listingline" id="algorithm1.15.15">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    <span class="ltx_text ltx_font_bold" id="algorithm1.15.15.2">for</span> <em class="ltx_emph ltx_font_italic" id="algorithm1.15.15.1"><math alttext="i=1,2,\cdots,k" class="ltx_Math" display="inline" id="algorithm1.15.15.1.m1.4"><semantics id="algorithm1.15.15.1.m1.4a"><mrow id="algorithm1.15.15.1.m1.4.5" xref="algorithm1.15.15.1.m1.4.5.cmml"><mi id="algorithm1.15.15.1.m1.4.5.2" xref="algorithm1.15.15.1.m1.4.5.2.cmml">i</mi><mo id="algorithm1.15.15.1.m1.4.5.1" mathvariant="normal" xref="algorithm1.15.15.1.m1.4.5.1.cmml">=</mo><mrow id="algorithm1.15.15.1.m1.4.5.3.2" xref="algorithm1.15.15.1.m1.4.5.3.1.cmml"><mn id="algorithm1.15.15.1.m1.1.1" mathvariant="normal" xref="algorithm1.15.15.1.m1.1.1.cmml">1</mn><mo id="algorithm1.15.15.1.m1.4.5.3.2.1" mathvariant="normal" xref="algorithm1.15.15.1.m1.4.5.3.1.cmml">,</mo><mn id="algorithm1.15.15.1.m1.2.2" mathvariant="normal" xref="algorithm1.15.15.1.m1.2.2.cmml">2</mn><mo id="algorithm1.15.15.1.m1.4.5.3.2.2" mathvariant="normal" xref="algorithm1.15.15.1.m1.4.5.3.1.cmml">,</mo><mi id="algorithm1.15.15.1.m1.3.3" mathvariant="normal" xref="algorithm1.15.15.1.m1.3.3.cmml">⋯</mi><mo id="algorithm1.15.15.1.m1.4.5.3.2.3" mathvariant="normal" xref="algorithm1.15.15.1.m1.4.5.3.1.cmml">,</mo><mi id="algorithm1.15.15.1.m1.4.4" xref="algorithm1.15.15.1.m1.4.4.cmml">k</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.15.15.1.m1.4b"><apply id="algorithm1.15.15.1.m1.4.5.cmml" xref="algorithm1.15.15.1.m1.4.5"><eq id="algorithm1.15.15.1.m1.4.5.1.cmml" xref="algorithm1.15.15.1.m1.4.5.1"></eq><ci id="algorithm1.15.15.1.m1.4.5.2.cmml" xref="algorithm1.15.15.1.m1.4.5.2">𝑖</ci><list id="algorithm1.15.15.1.m1.4.5.3.1.cmml" xref="algorithm1.15.15.1.m1.4.5.3.2"><cn id="algorithm1.15.15.1.m1.1.1.cmml" type="integer" xref="algorithm1.15.15.1.m1.1.1">1</cn><cn id="algorithm1.15.15.1.m1.2.2.cmml" type="integer" xref="algorithm1.15.15.1.m1.2.2">2</cn><ci id="algorithm1.15.15.1.m1.3.3.cmml" xref="algorithm1.15.15.1.m1.3.3">normal-⋯</ci><ci id="algorithm1.15.15.1.m1.4.4.cmml" xref="algorithm1.15.15.1.m1.4.4">𝑘</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.15.15.1.m1.4c">i=1,2,\cdots,k</annotation><annotation encoding="application/x-llamapun" id="algorithm1.15.15.1.m1.4d">italic_i = 1 , 2 , ⋯ , italic_k</annotation></semantics></math></em> <span class="ltx_text ltx_font_bold" id="algorithm1.15.15.3">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.19.19">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     Add [<math alttext="n_{next}" class="ltx_Math" display="inline" id="algorithm1.16.16.m1.1"><semantics id="algorithm1.16.16.m1.1a"><msub id="algorithm1.16.16.m1.1.1" xref="algorithm1.16.16.m1.1.1.cmml"><mi id="algorithm1.16.16.m1.1.1.2" xref="algorithm1.16.16.m1.1.1.2.cmml">n</mi><mrow id="algorithm1.16.16.m1.1.1.3" xref="algorithm1.16.16.m1.1.1.3.cmml"><mi id="algorithm1.16.16.m1.1.1.3.2" xref="algorithm1.16.16.m1.1.1.3.2.cmml">n</mi><mo id="algorithm1.16.16.m1.1.1.3.1" xref="algorithm1.16.16.m1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.3.3" xref="algorithm1.16.16.m1.1.1.3.3.cmml">e</mi><mo id="algorithm1.16.16.m1.1.1.3.1a" xref="algorithm1.16.16.m1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.3.4" xref="algorithm1.16.16.m1.1.1.3.4.cmml">x</mi><mo id="algorithm1.16.16.m1.1.1.3.1b" xref="algorithm1.16.16.m1.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.16.16.m1.1.1.3.5" xref="algorithm1.16.16.m1.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="algorithm1.16.16.m1.1b"><apply id="algorithm1.16.16.m1.1.1.cmml" xref="algorithm1.16.16.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.16.16.m1.1.1.1.cmml" xref="algorithm1.16.16.m1.1.1">subscript</csymbol><ci id="algorithm1.16.16.m1.1.1.2.cmml" xref="algorithm1.16.16.m1.1.1.2">𝑛</ci><apply id="algorithm1.16.16.m1.1.1.3.cmml" xref="algorithm1.16.16.m1.1.1.3"><times id="algorithm1.16.16.m1.1.1.3.1.cmml" xref="algorithm1.16.16.m1.1.1.3.1"></times><ci id="algorithm1.16.16.m1.1.1.3.2.cmml" xref="algorithm1.16.16.m1.1.1.3.2">𝑛</ci><ci id="algorithm1.16.16.m1.1.1.3.3.cmml" xref="algorithm1.16.16.m1.1.1.3.3">𝑒</ci><ci id="algorithm1.16.16.m1.1.1.3.4.cmml" xref="algorithm1.16.16.m1.1.1.3.4">𝑥</ci><ci id="algorithm1.16.16.m1.1.1.3.5.cmml" xref="algorithm1.16.16.m1.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.16.16.m1.1c">n_{next}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.16.16.m1.1d">italic_n start_POSTSUBSCRIPT italic_n italic_e italic_x italic_t end_POSTSUBSCRIPT</annotation></semantics></math>,<math alttext="a^{(i)}" class="ltx_Math" display="inline" id="algorithm1.17.17.m2.1"><semantics id="algorithm1.17.17.m2.1a"><msup id="algorithm1.17.17.m2.1.2" xref="algorithm1.17.17.m2.1.2.cmml"><mi id="algorithm1.17.17.m2.1.2.2" xref="algorithm1.17.17.m2.1.2.2.cmml">a</mi><mrow id="algorithm1.17.17.m2.1.1.1.3" xref="algorithm1.17.17.m2.1.2.cmml"><mo id="algorithm1.17.17.m2.1.1.1.3.1" stretchy="false" xref="algorithm1.17.17.m2.1.2.cmml">(</mo><mi id="algorithm1.17.17.m2.1.1.1.1" xref="algorithm1.17.17.m2.1.1.1.1.cmml">i</mi><mo id="algorithm1.17.17.m2.1.1.1.3.2" stretchy="false" xref="algorithm1.17.17.m2.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="algorithm1.17.17.m2.1b"><apply id="algorithm1.17.17.m2.1.2.cmml" xref="algorithm1.17.17.m2.1.2"><csymbol cd="ambiguous" id="algorithm1.17.17.m2.1.2.1.cmml" xref="algorithm1.17.17.m2.1.2">superscript</csymbol><ci id="algorithm1.17.17.m2.1.2.2.cmml" xref="algorithm1.17.17.m2.1.2.2">𝑎</ci><ci id="algorithm1.17.17.m2.1.1.1.1.cmml" xref="algorithm1.17.17.m2.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.17.17.m2.1c">a^{(i)}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.17.17.m2.1d">italic_a start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT</annotation></semantics></math>] to <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="algorithm1.18.18.m3.1"><semantics id="algorithm1.18.18.m3.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm1.18.18.m3.1.1" xref="algorithm1.18.18.m3.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="algorithm1.18.18.m3.1b"><ci id="algorithm1.18.18.m3.1.1.cmml" xref="algorithm1.18.18.m3.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.18.18.m3.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.18.18.m3.1d">caligraphic_T</annotation></semantics></math> under <math alttext="n_{next}" class="ltx_Math" display="inline" id="algorithm1.19.19.m4.1"><semantics id="algorithm1.19.19.m4.1a"><msub id="algorithm1.19.19.m4.1.1" xref="algorithm1.19.19.m4.1.1.cmml"><mi id="algorithm1.19.19.m4.1.1.2" xref="algorithm1.19.19.m4.1.1.2.cmml">n</mi><mrow id="algorithm1.19.19.m4.1.1.3" xref="algorithm1.19.19.m4.1.1.3.cmml"><mi id="algorithm1.19.19.m4.1.1.3.2" xref="algorithm1.19.19.m4.1.1.3.2.cmml">n</mi><mo id="algorithm1.19.19.m4.1.1.3.1" xref="algorithm1.19.19.m4.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.19.19.m4.1.1.3.3" xref="algorithm1.19.19.m4.1.1.3.3.cmml">e</mi><mo id="algorithm1.19.19.m4.1.1.3.1a" xref="algorithm1.19.19.m4.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.19.19.m4.1.1.3.4" xref="algorithm1.19.19.m4.1.1.3.4.cmml">x</mi><mo id="algorithm1.19.19.m4.1.1.3.1b" xref="algorithm1.19.19.m4.1.1.3.1.cmml">⁢</mo><mi id="algorithm1.19.19.m4.1.1.3.5" xref="algorithm1.19.19.m4.1.1.3.5.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="algorithm1.19.19.m4.1b"><apply id="algorithm1.19.19.m4.1.1.cmml" xref="algorithm1.19.19.m4.1.1"><csymbol cd="ambiguous" id="algorithm1.19.19.m4.1.1.1.cmml" xref="algorithm1.19.19.m4.1.1">subscript</csymbol><ci id="algorithm1.19.19.m4.1.1.2.cmml" xref="algorithm1.19.19.m4.1.1.2">𝑛</ci><apply id="algorithm1.19.19.m4.1.1.3.cmml" xref="algorithm1.19.19.m4.1.1.3"><times id="algorithm1.19.19.m4.1.1.3.1.cmml" xref="algorithm1.19.19.m4.1.1.3.1"></times><ci id="algorithm1.19.19.m4.1.1.3.2.cmml" xref="algorithm1.19.19.m4.1.1.3.2">𝑛</ci><ci id="algorithm1.19.19.m4.1.1.3.3.cmml" xref="algorithm1.19.19.m4.1.1.3.3">𝑒</ci><ci id="algorithm1.19.19.m4.1.1.3.4.cmml" xref="algorithm1.19.19.m4.1.1.3.4">𝑥</ci><ci id="algorithm1.19.19.m4.1.1.3.5.cmml" xref="algorithm1.19.19.m4.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.19.19.m4.1c">n_{next}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.19.19.m4.1d">italic_n start_POSTSUBSCRIPT italic_n italic_e italic_x italic_t end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.22.22">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   Update <math alttext="f(n)" class="ltx_Math" display="inline" id="algorithm1.20.20.m1.1"><semantics id="algorithm1.20.20.m1.1a"><mrow id="algorithm1.20.20.m1.1.2" xref="algorithm1.20.20.m1.1.2.cmml"><mi id="algorithm1.20.20.m1.1.2.2" xref="algorithm1.20.20.m1.1.2.2.cmml">f</mi><mo id="algorithm1.20.20.m1.1.2.1" xref="algorithm1.20.20.m1.1.2.1.cmml">⁢</mo><mrow id="algorithm1.20.20.m1.1.2.3.2" xref="algorithm1.20.20.m1.1.2.cmml"><mo id="algorithm1.20.20.m1.1.2.3.2.1" stretchy="false" xref="algorithm1.20.20.m1.1.2.cmml">(</mo><mi id="algorithm1.20.20.m1.1.1" xref="algorithm1.20.20.m1.1.1.cmml">n</mi><mo id="algorithm1.20.20.m1.1.2.3.2.2" stretchy="false" xref="algorithm1.20.20.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.20.20.m1.1b"><apply id="algorithm1.20.20.m1.1.2.cmml" xref="algorithm1.20.20.m1.1.2"><times id="algorithm1.20.20.m1.1.2.1.cmml" xref="algorithm1.20.20.m1.1.2.1"></times><ci id="algorithm1.20.20.m1.1.2.2.cmml" xref="algorithm1.20.20.m1.1.2.2">𝑓</ci><ci id="algorithm1.20.20.m1.1.1.cmml" xref="algorithm1.20.20.m1.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.20.20.m1.1c">f(n)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.20.20.m1.1d">italic_f ( italic_n )</annotation></semantics></math> for <math alttext="n" class="ltx_Math" display="inline" id="algorithm1.21.21.m2.1"><semantics id="algorithm1.21.21.m2.1a"><mi id="algorithm1.21.21.m2.1.1" xref="algorithm1.21.21.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="algorithm1.21.21.m2.1b"><ci id="algorithm1.21.21.m2.1.1.cmml" xref="algorithm1.21.21.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.21.21.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="algorithm1.21.21.m2.1d">italic_n</annotation></semantics></math> in <math alttext="\mathcal{F}(\mathcal{T})" class="ltx_Math" display="inline" id="algorithm1.22.22.m3.1"><semantics id="algorithm1.22.22.m3.1a"><mrow id="algorithm1.22.22.m3.1.2" xref="algorithm1.22.22.m3.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.22.22.m3.1.2.2" xref="algorithm1.22.22.m3.1.2.2.cmml">ℱ</mi><mo id="algorithm1.22.22.m3.1.2.1" xref="algorithm1.22.22.m3.1.2.1.cmml">⁢</mo><mrow id="algorithm1.22.22.m3.1.2.3.2" xref="algorithm1.22.22.m3.1.2.cmml"><mo id="algorithm1.22.22.m3.1.2.3.2.1" stretchy="false" xref="algorithm1.22.22.m3.1.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="algorithm1.22.22.m3.1.1" xref="algorithm1.22.22.m3.1.1.cmml">𝒯</mi><mo id="algorithm1.22.22.m3.1.2.3.2.2" stretchy="false" xref="algorithm1.22.22.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.22.22.m3.1b"><apply id="algorithm1.22.22.m3.1.2.cmml" xref="algorithm1.22.22.m3.1.2"><times id="algorithm1.22.22.m3.1.2.1.cmml" xref="algorithm1.22.22.m3.1.2.1"></times><ci id="algorithm1.22.22.m3.1.2.2.cmml" xref="algorithm1.22.22.m3.1.2.2">ℱ</ci><ci id="algorithm1.22.22.m3.1.1.cmml" xref="algorithm1.22.22.m3.1.1">𝒯</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.22.22.m3.1c">\mathcal{F}(\mathcal{T})</annotation><annotation encoding="application/x-llamapun" id="algorithm1.22.22.m3.1d">caligraphic_F ( caligraphic_T )</annotation></semantics></math>. <span class="ltx_text" id="algorithm1.22.22.1" style="color:#00CC99;">// <span class="ltx_text ltx_font_italic" id="algorithm1.22.22.1.1">Update</span></span>
</div>
<div class="ltx_listingline" id="algorithm1.23.23">
<span class="ltx_text" id="algorithm1.23.23.1" style="color:#000000;"><span class="ltx_text ltx_font_bold" id="algorithm1.23.23.1.1">Output:</span> </span>The valid path to solve the problem <math alttext="\operatorname*{arg\,max}_{n\in\mathcal{F}(\mathcal{T})}f(n)" class="ltx_Math" display="inline" id="algorithm1.23.23.m1.2"><semantics id="algorithm1.23.23.m1.2a"><mrow id="algorithm1.23.23.m1.2.3" xref="algorithm1.23.23.m1.2.3.cmml"><mrow id="algorithm1.23.23.m1.2.3.2" xref="algorithm1.23.23.m1.2.3.2.cmml"><msub id="algorithm1.23.23.m1.2.3.2.1" xref="algorithm1.23.23.m1.2.3.2.1.cmml"><mrow id="algorithm1.23.23.m1.2.3.2.1.2" xref="algorithm1.23.23.m1.2.3.2.1.2.cmml"><mi id="algorithm1.23.23.m1.2.3.2.1.2.2" xref="algorithm1.23.23.m1.2.3.2.1.2.2.cmml">arg</mi><mo id="algorithm1.23.23.m1.2.3.2.1.2.1" lspace="0.170em" xref="algorithm1.23.23.m1.2.3.2.1.2.1.cmml">⁢</mo><mi id="algorithm1.23.23.m1.2.3.2.1.2.3" xref="algorithm1.23.23.m1.2.3.2.1.2.3.cmml">max</mi></mrow><mrow id="algorithm1.23.23.m1.1.1.1" xref="algorithm1.23.23.m1.1.1.1.cmml"><mi id="algorithm1.23.23.m1.1.1.1.3" xref="algorithm1.23.23.m1.1.1.1.3.cmml">n</mi><mo id="algorithm1.23.23.m1.1.1.1.2" xref="algorithm1.23.23.m1.1.1.1.2.cmml">∈</mo><mrow id="algorithm1.23.23.m1.1.1.1.4" xref="algorithm1.23.23.m1.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.23.23.m1.1.1.1.4.2" xref="algorithm1.23.23.m1.1.1.1.4.2.cmml">ℱ</mi><mo id="algorithm1.23.23.m1.1.1.1.4.1" xref="algorithm1.23.23.m1.1.1.1.4.1.cmml">⁢</mo><mrow id="algorithm1.23.23.m1.1.1.1.4.3.2" xref="algorithm1.23.23.m1.1.1.1.4.cmml"><mo id="algorithm1.23.23.m1.1.1.1.4.3.2.1" stretchy="false" xref="algorithm1.23.23.m1.1.1.1.4.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="algorithm1.23.23.m1.1.1.1.1" xref="algorithm1.23.23.m1.1.1.1.1.cmml">𝒯</mi><mo id="algorithm1.23.23.m1.1.1.1.4.3.2.2" stretchy="false" xref="algorithm1.23.23.m1.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mo id="algorithm1.23.23.m1.2.3.2a" lspace="0.167em" xref="algorithm1.23.23.m1.2.3.2.cmml">⁡</mo><mi id="algorithm1.23.23.m1.2.3.2.2" xref="algorithm1.23.23.m1.2.3.2.2.cmml">f</mi></mrow><mo id="algorithm1.23.23.m1.2.3.1" xref="algorithm1.23.23.m1.2.3.1.cmml">⁢</mo><mrow id="algorithm1.23.23.m1.2.3.3.2" xref="algorithm1.23.23.m1.2.3.cmml"><mo id="algorithm1.23.23.m1.2.3.3.2.1" stretchy="false" xref="algorithm1.23.23.m1.2.3.cmml">(</mo><mi id="algorithm1.23.23.m1.2.2" xref="algorithm1.23.23.m1.2.2.cmml">n</mi><mo id="algorithm1.23.23.m1.2.3.3.2.2" stretchy="false" xref="algorithm1.23.23.m1.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.23.23.m1.2b"><apply id="algorithm1.23.23.m1.2.3.cmml" xref="algorithm1.23.23.m1.2.3"><times id="algorithm1.23.23.m1.2.3.1.cmml" xref="algorithm1.23.23.m1.2.3.1"></times><apply id="algorithm1.23.23.m1.2.3.2.cmml" xref="algorithm1.23.23.m1.2.3.2"><apply id="algorithm1.23.23.m1.2.3.2.1.cmml" xref="algorithm1.23.23.m1.2.3.2.1"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.2.3.2.1.1.cmml" xref="algorithm1.23.23.m1.2.3.2.1">subscript</csymbol><apply id="algorithm1.23.23.m1.2.3.2.1.2.cmml" xref="algorithm1.23.23.m1.2.3.2.1.2"><times id="algorithm1.23.23.m1.2.3.2.1.2.1.cmml" xref="algorithm1.23.23.m1.2.3.2.1.2.1"></times><ci id="algorithm1.23.23.m1.2.3.2.1.2.2.cmml" xref="algorithm1.23.23.m1.2.3.2.1.2.2">arg</ci><ci id="algorithm1.23.23.m1.2.3.2.1.2.3.cmml" xref="algorithm1.23.23.m1.2.3.2.1.2.3">max</ci></apply><apply id="algorithm1.23.23.m1.1.1.1.cmml" xref="algorithm1.23.23.m1.1.1.1"><in id="algorithm1.23.23.m1.1.1.1.2.cmml" xref="algorithm1.23.23.m1.1.1.1.2"></in><ci id="algorithm1.23.23.m1.1.1.1.3.cmml" xref="algorithm1.23.23.m1.1.1.1.3">𝑛</ci><apply id="algorithm1.23.23.m1.1.1.1.4.cmml" xref="algorithm1.23.23.m1.1.1.1.4"><times id="algorithm1.23.23.m1.1.1.1.4.1.cmml" xref="algorithm1.23.23.m1.1.1.1.4.1"></times><ci id="algorithm1.23.23.m1.1.1.1.4.2.cmml" xref="algorithm1.23.23.m1.1.1.1.4.2">ℱ</ci><ci id="algorithm1.23.23.m1.1.1.1.1.cmml" xref="algorithm1.23.23.m1.1.1.1.1">𝒯</ci></apply></apply></apply><ci id="algorithm1.23.23.m1.2.3.2.2.cmml" xref="algorithm1.23.23.m1.2.3.2.2">𝑓</ci></apply><ci id="algorithm1.23.23.m1.2.2.cmml" xref="algorithm1.23.23.m1.2.2">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.23.23.m1.2c">\operatorname*{arg\,max}_{n\in\mathcal{F}(\mathcal{T})}f(n)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.23.23.m1.2d">start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT italic_n ∈ caligraphic_F ( caligraphic_T ) end_POSTSUBSCRIPT italic_f ( italic_n )</annotation></semantics></math>.
</div>
<div class="ltx_listingline" id="algorithm1.23.24">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="algorithm1.27.1.1">Algorithm 1</span> </span>ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="algorithm1.25.m1.1"><semantics id="algorithm1.25.m1.1b"><msup id="algorithm1.25.m1.1.1" xref="algorithm1.25.m1.1.1.cmml"><mi id="algorithm1.25.m1.1.1b" xref="algorithm1.25.m1.1.1.cmml"></mi><mo id="algorithm1.25.m1.1.1.1" xref="algorithm1.25.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="algorithm1.25.m1.1c"><apply id="algorithm1.25.m1.1.1.cmml" xref="algorithm1.25.m1.1.1"><times id="algorithm1.25.m1.1.1.1.cmml" xref="algorithm1.25.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.25.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.25.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>. </figcaption>
</figure>
</figure>
<div class="ltx_para ltx_noindent" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.10"><span class="ltx_text ltx_font_bold" id="S3.SS1.p2.10.1">Selection.</span>
Given a search tree <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">caligraphic_T</annotation></semantics></math>, we denote its nodes as <math alttext="\mathcal{V}(\mathcal{T})" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><mrow id="S3.SS1.p2.2.m2.1.2" xref="S3.SS1.p2.2.m2.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.2.m2.1.2.2" xref="S3.SS1.p2.2.m2.1.2.2.cmml">𝒱</mi><mo id="S3.SS1.p2.2.m2.1.2.1" xref="S3.SS1.p2.2.m2.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.p2.2.m2.1.2.3.2" xref="S3.SS1.p2.2.m2.1.2.cmml"><mo id="S3.SS1.p2.2.m2.1.2.3.2.1" stretchy="false" xref="S3.SS1.p2.2.m2.1.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">𝒯</mi><mo id="S3.SS1.p2.2.m2.1.2.3.2.2" stretchy="false" xref="S3.SS1.p2.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.2.cmml" xref="S3.SS1.p2.2.m2.1.2"><times id="S3.SS1.p2.2.m2.1.2.1.cmml" xref="S3.SS1.p2.2.m2.1.2.1"></times><ci id="S3.SS1.p2.2.m2.1.2.2.cmml" xref="S3.SS1.p2.2.m2.1.2.2">𝒱</ci><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝒯</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\mathcal{V}(\mathcal{T})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">caligraphic_V ( caligraphic_T )</annotation></semantics></math>.
The frontier <math alttext="\mathcal{F}(\mathcal{T})\subseteq\mathcal{V}(\mathcal{T})" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.2"><semantics id="S3.SS1.p2.3.m3.2a"><mrow id="S3.SS1.p2.3.m3.2.3" xref="S3.SS1.p2.3.m3.2.3.cmml"><mrow id="S3.SS1.p2.3.m3.2.3.2" xref="S3.SS1.p2.3.m3.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.3.m3.2.3.2.2" xref="S3.SS1.p2.3.m3.2.3.2.2.cmml">ℱ</mi><mo id="S3.SS1.p2.3.m3.2.3.2.1" xref="S3.SS1.p2.3.m3.2.3.2.1.cmml">⁢</mo><mrow id="S3.SS1.p2.3.m3.2.3.2.3.2" xref="S3.SS1.p2.3.m3.2.3.2.cmml"><mo id="S3.SS1.p2.3.m3.2.3.2.3.2.1" stretchy="false" xref="S3.SS1.p2.3.m3.2.3.2.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">𝒯</mi><mo id="S3.SS1.p2.3.m3.2.3.2.3.2.2" stretchy="false" xref="S3.SS1.p2.3.m3.2.3.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p2.3.m3.2.3.1" xref="S3.SS1.p2.3.m3.2.3.1.cmml">⊆</mo><mrow id="S3.SS1.p2.3.m3.2.3.3" xref="S3.SS1.p2.3.m3.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.3.m3.2.3.3.2" xref="S3.SS1.p2.3.m3.2.3.3.2.cmml">𝒱</mi><mo id="S3.SS1.p2.3.m3.2.3.3.1" xref="S3.SS1.p2.3.m3.2.3.3.1.cmml">⁢</mo><mrow id="S3.SS1.p2.3.m3.2.3.3.3.2" xref="S3.SS1.p2.3.m3.2.3.3.cmml"><mo id="S3.SS1.p2.3.m3.2.3.3.3.2.1" stretchy="false" xref="S3.SS1.p2.3.m3.2.3.3.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.3.m3.2.2" xref="S3.SS1.p2.3.m3.2.2.cmml">𝒯</mi><mo id="S3.SS1.p2.3.m3.2.3.3.3.2.2" stretchy="false" xref="S3.SS1.p2.3.m3.2.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.2b"><apply id="S3.SS1.p2.3.m3.2.3.cmml" xref="S3.SS1.p2.3.m3.2.3"><subset id="S3.SS1.p2.3.m3.2.3.1.cmml" xref="S3.SS1.p2.3.m3.2.3.1"></subset><apply id="S3.SS1.p2.3.m3.2.3.2.cmml" xref="S3.SS1.p2.3.m3.2.3.2"><times id="S3.SS1.p2.3.m3.2.3.2.1.cmml" xref="S3.SS1.p2.3.m3.2.3.2.1"></times><ci id="S3.SS1.p2.3.m3.2.3.2.2.cmml" xref="S3.SS1.p2.3.m3.2.3.2.2">ℱ</ci><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝒯</ci></apply><apply id="S3.SS1.p2.3.m3.2.3.3.cmml" xref="S3.SS1.p2.3.m3.2.3.3"><times id="S3.SS1.p2.3.m3.2.3.3.1.cmml" xref="S3.SS1.p2.3.m3.2.3.3.1"></times><ci id="S3.SS1.p2.3.m3.2.3.3.2.cmml" xref="S3.SS1.p2.3.m3.2.3.3.2">𝒱</ci><ci id="S3.SS1.p2.3.m3.2.2.cmml" xref="S3.SS1.p2.3.m3.2.2">𝒯</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.2c">\mathcal{F}(\mathcal{T})\subseteq\mathcal{V}(\mathcal{T})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.2d">caligraphic_F ( caligraphic_T ) ⊆ caligraphic_V ( caligraphic_T )</annotation></semantics></math> contains all the leaf nodes in <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">caligraphic_T</annotation></semantics></math> that have yet to be explored.
Given our objective to minimize the total cost of the final solution, the optimal next node to expand would be the most promising plan as part of the best solution. Assume we possess a cost function oracle <math alttext="f(n)" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.1"><semantics id="S3.SS1.p2.5.m5.1a"><mrow id="S3.SS1.p2.5.m5.1.2" xref="S3.SS1.p2.5.m5.1.2.cmml"><mi id="S3.SS1.p2.5.m5.1.2.2" xref="S3.SS1.p2.5.m5.1.2.2.cmml">f</mi><mo id="S3.SS1.p2.5.m5.1.2.1" xref="S3.SS1.p2.5.m5.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.p2.5.m5.1.2.3.2" xref="S3.SS1.p2.5.m5.1.2.cmml"><mo id="S3.SS1.p2.5.m5.1.2.3.2.1" stretchy="false" xref="S3.SS1.p2.5.m5.1.2.cmml">(</mo><mi id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">n</mi><mo id="S3.SS1.p2.5.m5.1.2.3.2.2" stretchy="false" xref="S3.SS1.p2.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.2.cmml" xref="S3.SS1.p2.5.m5.1.2"><times id="S3.SS1.p2.5.m5.1.2.1.cmml" xref="S3.SS1.p2.5.m5.1.2.1"></times><ci id="S3.SS1.p2.5.m5.1.2.2.cmml" xref="S3.SS1.p2.5.m5.1.2.2">𝑓</ci><ci id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">f(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.5.m5.1d">italic_f ( italic_n )</annotation></semantics></math>, which provides the cost
of the best plan incorporating <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p2.6.m6.1"><semantics id="S3.SS1.p2.6.m6.1a"><mi id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><ci id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.6.m6.1d">italic_n</annotation></semantics></math> to address the problem <math alttext="s_{0}" class="ltx_Math" display="inline" id="S3.SS1.p2.7.m7.1"><semantics id="S3.SS1.p2.7.m7.1a"><msub id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml"><mi id="S3.SS1.p2.7.m7.1.1.2" xref="S3.SS1.p2.7.m7.1.1.2.cmml">s</mi><mn id="S3.SS1.p2.7.m7.1.1.3" xref="S3.SS1.p2.7.m7.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.1b"><apply id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.1.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.p2.7.m7.1.1.2.cmml" xref="S3.SS1.p2.7.m7.1.1.2">𝑠</ci><cn id="S3.SS1.p2.7.m7.1.1.3.cmml" type="integer" xref="S3.SS1.p2.7.m7.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.1c">s_{0}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.7.m7.1d">italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math> under <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="S3.SS1.p2.8.m8.1"><semantics id="S3.SS1.p2.8.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.8.m8.1.1" xref="S3.SS1.p2.8.m8.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m8.1b"><ci id="S3.SS1.p2.8.m8.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m8.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.8.m8.1d">caligraphic_T</annotation></semantics></math>.
Then, we can select the next node with the lowest cost:
<math alttext="n_{next}=\operatorname*{arg\,min}_{n\in\mathcal{F}(\mathcal{T})}f(n)" class="ltx_Math" display="inline" id="S3.SS1.p2.9.m9.2"><semantics id="S3.SS1.p2.9.m9.2a"><mrow id="S3.SS1.p2.9.m9.2.3" xref="S3.SS1.p2.9.m9.2.3.cmml"><msub id="S3.SS1.p2.9.m9.2.3.2" xref="S3.SS1.p2.9.m9.2.3.2.cmml"><mi id="S3.SS1.p2.9.m9.2.3.2.2" xref="S3.SS1.p2.9.m9.2.3.2.2.cmml">n</mi><mrow id="S3.SS1.p2.9.m9.2.3.2.3" xref="S3.SS1.p2.9.m9.2.3.2.3.cmml"><mi id="S3.SS1.p2.9.m9.2.3.2.3.2" xref="S3.SS1.p2.9.m9.2.3.2.3.2.cmml">n</mi><mo id="S3.SS1.p2.9.m9.2.3.2.3.1" xref="S3.SS1.p2.9.m9.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.9.m9.2.3.2.3.3" xref="S3.SS1.p2.9.m9.2.3.2.3.3.cmml">e</mi><mo id="S3.SS1.p2.9.m9.2.3.2.3.1a" xref="S3.SS1.p2.9.m9.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.9.m9.2.3.2.3.4" xref="S3.SS1.p2.9.m9.2.3.2.3.4.cmml">x</mi><mo id="S3.SS1.p2.9.m9.2.3.2.3.1b" xref="S3.SS1.p2.9.m9.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.9.m9.2.3.2.3.5" xref="S3.SS1.p2.9.m9.2.3.2.3.5.cmml">t</mi></mrow></msub><mo id="S3.SS1.p2.9.m9.2.3.1" xref="S3.SS1.p2.9.m9.2.3.1.cmml">=</mo><mrow id="S3.SS1.p2.9.m9.2.3.3" xref="S3.SS1.p2.9.m9.2.3.3.cmml"><mrow id="S3.SS1.p2.9.m9.2.3.3.2" xref="S3.SS1.p2.9.m9.2.3.3.2.cmml"><msub id="S3.SS1.p2.9.m9.2.3.3.2.1" xref="S3.SS1.p2.9.m9.2.3.3.2.1.cmml"><mrow id="S3.SS1.p2.9.m9.2.3.3.2.1.2" xref="S3.SS1.p2.9.m9.2.3.3.2.1.2.cmml"><mi id="S3.SS1.p2.9.m9.2.3.3.2.1.2.2" xref="S3.SS1.p2.9.m9.2.3.3.2.1.2.2.cmml">arg</mi><mo id="S3.SS1.p2.9.m9.2.3.3.2.1.2.1" lspace="0.170em" xref="S3.SS1.p2.9.m9.2.3.3.2.1.2.1.cmml">⁢</mo><mi id="S3.SS1.p2.9.m9.2.3.3.2.1.2.3" xref="S3.SS1.p2.9.m9.2.3.3.2.1.2.3.cmml">min</mi></mrow><mrow id="S3.SS1.p2.9.m9.1.1.1" xref="S3.SS1.p2.9.m9.1.1.1.cmml"><mi id="S3.SS1.p2.9.m9.1.1.1.3" xref="S3.SS1.p2.9.m9.1.1.1.3.cmml">n</mi><mo id="S3.SS1.p2.9.m9.1.1.1.2" xref="S3.SS1.p2.9.m9.1.1.1.2.cmml">∈</mo><mrow id="S3.SS1.p2.9.m9.1.1.1.4" xref="S3.SS1.p2.9.m9.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.9.m9.1.1.1.4.2" xref="S3.SS1.p2.9.m9.1.1.1.4.2.cmml">ℱ</mi><mo id="S3.SS1.p2.9.m9.1.1.1.4.1" xref="S3.SS1.p2.9.m9.1.1.1.4.1.cmml">⁢</mo><mrow id="S3.SS1.p2.9.m9.1.1.1.4.3.2" xref="S3.SS1.p2.9.m9.1.1.1.4.cmml"><mo id="S3.SS1.p2.9.m9.1.1.1.4.3.2.1" stretchy="false" xref="S3.SS1.p2.9.m9.1.1.1.4.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.9.m9.1.1.1.1" xref="S3.SS1.p2.9.m9.1.1.1.1.cmml">𝒯</mi><mo id="S3.SS1.p2.9.m9.1.1.1.4.3.2.2" stretchy="false" xref="S3.SS1.p2.9.m9.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mo id="S3.SS1.p2.9.m9.2.3.3.2a" xref="S3.SS1.p2.9.m9.2.3.3.2.cmml">⁡</mo><mi id="S3.SS1.p2.9.m9.2.3.3.2.2" xref="S3.SS1.p2.9.m9.2.3.3.2.2.cmml">f</mi></mrow><mo id="S3.SS1.p2.9.m9.2.3.3.1" xref="S3.SS1.p2.9.m9.2.3.3.1.cmml">⁢</mo><mrow id="S3.SS1.p2.9.m9.2.3.3.3.2" xref="S3.SS1.p2.9.m9.2.3.3.cmml"><mo id="S3.SS1.p2.9.m9.2.3.3.3.2.1" stretchy="false" xref="S3.SS1.p2.9.m9.2.3.3.cmml">(</mo><mi id="S3.SS1.p2.9.m9.2.2" xref="S3.SS1.p2.9.m9.2.2.cmml">n</mi><mo id="S3.SS1.p2.9.m9.2.3.3.3.2.2" stretchy="false" xref="S3.SS1.p2.9.m9.2.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.9.m9.2b"><apply id="S3.SS1.p2.9.m9.2.3.cmml" xref="S3.SS1.p2.9.m9.2.3"><eq id="S3.SS1.p2.9.m9.2.3.1.cmml" xref="S3.SS1.p2.9.m9.2.3.1"></eq><apply id="S3.SS1.p2.9.m9.2.3.2.cmml" xref="S3.SS1.p2.9.m9.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m9.2.3.2.1.cmml" xref="S3.SS1.p2.9.m9.2.3.2">subscript</csymbol><ci id="S3.SS1.p2.9.m9.2.3.2.2.cmml" xref="S3.SS1.p2.9.m9.2.3.2.2">𝑛</ci><apply id="S3.SS1.p2.9.m9.2.3.2.3.cmml" xref="S3.SS1.p2.9.m9.2.3.2.3"><times id="S3.SS1.p2.9.m9.2.3.2.3.1.cmml" xref="S3.SS1.p2.9.m9.2.3.2.3.1"></times><ci id="S3.SS1.p2.9.m9.2.3.2.3.2.cmml" xref="S3.SS1.p2.9.m9.2.3.2.3.2">𝑛</ci><ci id="S3.SS1.p2.9.m9.2.3.2.3.3.cmml" xref="S3.SS1.p2.9.m9.2.3.2.3.3">𝑒</ci><ci id="S3.SS1.p2.9.m9.2.3.2.3.4.cmml" xref="S3.SS1.p2.9.m9.2.3.2.3.4">𝑥</ci><ci id="S3.SS1.p2.9.m9.2.3.2.3.5.cmml" xref="S3.SS1.p2.9.m9.2.3.2.3.5">𝑡</ci></apply></apply><apply id="S3.SS1.p2.9.m9.2.3.3.cmml" xref="S3.SS1.p2.9.m9.2.3.3"><times id="S3.SS1.p2.9.m9.2.3.3.1.cmml" xref="S3.SS1.p2.9.m9.2.3.3.1"></times><apply id="S3.SS1.p2.9.m9.2.3.3.2.cmml" xref="S3.SS1.p2.9.m9.2.3.3.2"><apply id="S3.SS1.p2.9.m9.2.3.3.2.1.cmml" xref="S3.SS1.p2.9.m9.2.3.3.2.1"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m9.2.3.3.2.1.1.cmml" xref="S3.SS1.p2.9.m9.2.3.3.2.1">subscript</csymbol><apply id="S3.SS1.p2.9.m9.2.3.3.2.1.2.cmml" xref="S3.SS1.p2.9.m9.2.3.3.2.1.2"><times id="S3.SS1.p2.9.m9.2.3.3.2.1.2.1.cmml" xref="S3.SS1.p2.9.m9.2.3.3.2.1.2.1"></times><ci id="S3.SS1.p2.9.m9.2.3.3.2.1.2.2.cmml" xref="S3.SS1.p2.9.m9.2.3.3.2.1.2.2">arg</ci><ci id="S3.SS1.p2.9.m9.2.3.3.2.1.2.3.cmml" xref="S3.SS1.p2.9.m9.2.3.3.2.1.2.3">min</ci></apply><apply id="S3.SS1.p2.9.m9.1.1.1.cmml" xref="S3.SS1.p2.9.m9.1.1.1"><in id="S3.SS1.p2.9.m9.1.1.1.2.cmml" xref="S3.SS1.p2.9.m9.1.1.1.2"></in><ci id="S3.SS1.p2.9.m9.1.1.1.3.cmml" xref="S3.SS1.p2.9.m9.1.1.1.3">𝑛</ci><apply id="S3.SS1.p2.9.m9.1.1.1.4.cmml" xref="S3.SS1.p2.9.m9.1.1.1.4"><times id="S3.SS1.p2.9.m9.1.1.1.4.1.cmml" xref="S3.SS1.p2.9.m9.1.1.1.4.1"></times><ci id="S3.SS1.p2.9.m9.1.1.1.4.2.cmml" xref="S3.SS1.p2.9.m9.1.1.1.4.2">ℱ</ci><ci id="S3.SS1.p2.9.m9.1.1.1.1.cmml" xref="S3.SS1.p2.9.m9.1.1.1.1">𝒯</ci></apply></apply></apply><ci id="S3.SS1.p2.9.m9.2.3.3.2.2.cmml" xref="S3.SS1.p2.9.m9.2.3.3.2.2">𝑓</ci></apply><ci id="S3.SS1.p2.9.m9.2.2.cmml" xref="S3.SS1.p2.9.m9.2.2">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.9.m9.2c">n_{next}=\operatorname*{arg\,min}_{n\in\mathcal{F}(\mathcal{T})}f(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.9.m9.2d">italic_n start_POSTSUBSCRIPT italic_n italic_e italic_x italic_t end_POSTSUBSCRIPT = start_OPERATOR roman_arg roman_min end_OPERATOR start_POSTSUBSCRIPT italic_n ∈ caligraphic_F ( caligraphic_T ) end_POSTSUBSCRIPT italic_f ( italic_n )</annotation></semantics></math>.
A proper design of the value function <math alttext="f(n)" class="ltx_Math" display="inline" id="S3.SS1.p2.10.m10.1"><semantics id="S3.SS1.p2.10.m10.1a"><mrow id="S3.SS1.p2.10.m10.1.2" xref="S3.SS1.p2.10.m10.1.2.cmml"><mi id="S3.SS1.p2.10.m10.1.2.2" xref="S3.SS1.p2.10.m10.1.2.2.cmml">f</mi><mo id="S3.SS1.p2.10.m10.1.2.1" xref="S3.SS1.p2.10.m10.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.p2.10.m10.1.2.3.2" xref="S3.SS1.p2.10.m10.1.2.cmml"><mo id="S3.SS1.p2.10.m10.1.2.3.2.1" stretchy="false" xref="S3.SS1.p2.10.m10.1.2.cmml">(</mo><mi id="S3.SS1.p2.10.m10.1.1" xref="S3.SS1.p2.10.m10.1.1.cmml">n</mi><mo id="S3.SS1.p2.10.m10.1.2.3.2.2" stretchy="false" xref="S3.SS1.p2.10.m10.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.10.m10.1b"><apply id="S3.SS1.p2.10.m10.1.2.cmml" xref="S3.SS1.p2.10.m10.1.2"><times id="S3.SS1.p2.10.m10.1.2.1.cmml" xref="S3.SS1.p2.10.m10.1.2.1"></times><ci id="S3.SS1.p2.10.m10.1.2.2.cmml" xref="S3.SS1.p2.10.m10.1.2.2">𝑓</ci><ci id="S3.SS1.p2.10.m10.1.1.cmml" xref="S3.SS1.p2.10.m10.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.10.m10.1c">f(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.10.m10.1d">italic_f ( italic_n )</annotation></semantics></math> not only augments search efficiency but also aids in identifying globally optimal solutions.
</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.9"><span class="ltx_text ltx_font_bold" id="S3.SS1.p3.9.1">Expansion.</span>
Once the node <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p3.1.m1.1"><semantics id="S3.SS1.p3.1.m1.1a"><mi id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.1.m1.1d">italic_n</annotation></semantics></math> with the minimum cost estimation <math alttext="f(n)" class="ltx_Math" display="inline" id="S3.SS1.p3.2.m2.1"><semantics id="S3.SS1.p3.2.m2.1a"><mrow id="S3.SS1.p3.2.m2.1.2" xref="S3.SS1.p3.2.m2.1.2.cmml"><mi id="S3.SS1.p3.2.m2.1.2.2" xref="S3.SS1.p3.2.m2.1.2.2.cmml">f</mi><mo id="S3.SS1.p3.2.m2.1.2.1" xref="S3.SS1.p3.2.m2.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.p3.2.m2.1.2.3.2" xref="S3.SS1.p3.2.m2.1.2.cmml"><mo id="S3.SS1.p3.2.m2.1.2.3.2.1" stretchy="false" xref="S3.SS1.p3.2.m2.1.2.cmml">(</mo><mi id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml">n</mi><mo id="S3.SS1.p3.2.m2.1.2.3.2.2" stretchy="false" xref="S3.SS1.p3.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><apply id="S3.SS1.p3.2.m2.1.2.cmml" xref="S3.SS1.p3.2.m2.1.2"><times id="S3.SS1.p3.2.m2.1.2.1.cmml" xref="S3.SS1.p3.2.m2.1.2.1"></times><ci id="S3.SS1.p3.2.m2.1.2.2.cmml" xref="S3.SS1.p3.2.m2.1.2.2">𝑓</ci><ci id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">f(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.2.m2.1d">italic_f ( italic_n )</annotation></semantics></math> has been selected, we expand the search tree with <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.p3.3.m3.1"><semantics id="S3.SS1.p3.3.m3.1a"><mi id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><ci id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.3.m3.1d">italic_k</annotation></semantics></math> potential actions for the next step. These actions are sampled from the potential action set generated by LLMs <math alttext="a_{ch(n)}^{(j)}\sim\rho(a_{ch(n)}|s_{n};\mathcal{I},\mathcal{D}),(j=1,\cdots,k)" class="ltx_Math" display="inline" id="S3.SS1.p3.4.m4.10"><semantics id="S3.SS1.p3.4.m4.10a"><mrow id="S3.SS1.p3.4.m4.10.10" xref="S3.SS1.p3.4.m4.10.10.cmml"><msubsup id="S3.SS1.p3.4.m4.10.10.4" xref="S3.SS1.p3.4.m4.10.10.4.cmml"><mi id="S3.SS1.p3.4.m4.10.10.4.2.2" xref="S3.SS1.p3.4.m4.10.10.4.2.2.cmml">a</mi><mrow id="S3.SS1.p3.4.m4.1.1.1" xref="S3.SS1.p3.4.m4.1.1.1.cmml"><mi id="S3.SS1.p3.4.m4.1.1.1.3" xref="S3.SS1.p3.4.m4.1.1.1.3.cmml">c</mi><mo id="S3.SS1.p3.4.m4.1.1.1.2" xref="S3.SS1.p3.4.m4.1.1.1.2.cmml">⁢</mo><mi id="S3.SS1.p3.4.m4.1.1.1.4" xref="S3.SS1.p3.4.m4.1.1.1.4.cmml">h</mi><mo id="S3.SS1.p3.4.m4.1.1.1.2a" xref="S3.SS1.p3.4.m4.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p3.4.m4.1.1.1.5.2" xref="S3.SS1.p3.4.m4.1.1.1.cmml"><mo id="S3.SS1.p3.4.m4.1.1.1.5.2.1" stretchy="false" xref="S3.SS1.p3.4.m4.1.1.1.cmml">(</mo><mi id="S3.SS1.p3.4.m4.1.1.1.1" xref="S3.SS1.p3.4.m4.1.1.1.1.cmml">n</mi><mo id="S3.SS1.p3.4.m4.1.1.1.5.2.2" stretchy="false" xref="S3.SS1.p3.4.m4.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.SS1.p3.4.m4.2.2.1.3" xref="S3.SS1.p3.4.m4.10.10.4.cmml"><mo id="S3.SS1.p3.4.m4.2.2.1.3.1" stretchy="false" xref="S3.SS1.p3.4.m4.10.10.4.cmml">(</mo><mi id="S3.SS1.p3.4.m4.2.2.1.1" xref="S3.SS1.p3.4.m4.2.2.1.1.cmml">j</mi><mo id="S3.SS1.p3.4.m4.2.2.1.3.2" stretchy="false" xref="S3.SS1.p3.4.m4.10.10.4.cmml">)</mo></mrow></msubsup><mo id="S3.SS1.p3.4.m4.10.10.3" xref="S3.SS1.p3.4.m4.10.10.3.cmml">∼</mo><mrow id="S3.SS1.p3.4.m4.10.10.2.2" xref="S3.SS1.p3.4.m4.10.10.2.3.cmml"><mrow id="S3.SS1.p3.4.m4.9.9.1.1.1" xref="S3.SS1.p3.4.m4.9.9.1.1.1.cmml"><mi id="S3.SS1.p3.4.m4.9.9.1.1.1.3" xref="S3.SS1.p3.4.m4.9.9.1.1.1.3.cmml">ρ</mi><mo id="S3.SS1.p3.4.m4.9.9.1.1.1.2" xref="S3.SS1.p3.4.m4.9.9.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.cmml"><mo id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.cmml"><msub id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.3" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.3.cmml"><mi id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.3.2" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.3.2.cmml">a</mi><mrow id="S3.SS1.p3.4.m4.3.3.1" xref="S3.SS1.p3.4.m4.3.3.1.cmml"><mi id="S3.SS1.p3.4.m4.3.3.1.3" xref="S3.SS1.p3.4.m4.3.3.1.3.cmml">c</mi><mo id="S3.SS1.p3.4.m4.3.3.1.2" xref="S3.SS1.p3.4.m4.3.3.1.2.cmml">⁢</mo><mi id="S3.SS1.p3.4.m4.3.3.1.4" xref="S3.SS1.p3.4.m4.3.3.1.4.cmml">h</mi><mo id="S3.SS1.p3.4.m4.3.3.1.2a" xref="S3.SS1.p3.4.m4.3.3.1.2.cmml">⁢</mo><mrow id="S3.SS1.p3.4.m4.3.3.1.5.2" xref="S3.SS1.p3.4.m4.3.3.1.cmml"><mo id="S3.SS1.p3.4.m4.3.3.1.5.2.1" stretchy="false" xref="S3.SS1.p3.4.m4.3.3.1.cmml">(</mo><mi id="S3.SS1.p3.4.m4.3.3.1.1" xref="S3.SS1.p3.4.m4.3.3.1.1.cmml">n</mi><mo id="S3.SS1.p3.4.m4.3.3.1.5.2.2" stretchy="false" xref="S3.SS1.p3.4.m4.3.3.1.cmml">)</mo></mrow></mrow></msub><mo fence="false" id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.2" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.2.cmml"><msub id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.2" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.2.cmml">s</mi><mi id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.3" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.2" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.2.cmml">;</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.4.m4.4.4" xref="S3.SS1.p3.4.m4.4.4.cmml">ℐ</mi><mo id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.3" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.4.m4.5.5" xref="S3.SS1.p3.4.m4.5.5.cmml">𝒟</mi></mrow></mrow><mo id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p3.4.m4.10.10.2.2.3" xref="S3.SS1.p3.4.m4.10.10.2.3.cmml">,</mo><mrow id="S3.SS1.p3.4.m4.10.10.2.2.2.1" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.cmml"><mo id="S3.SS1.p3.4.m4.10.10.2.2.2.1.2" stretchy="false" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.cmml">(</mo><mrow id="S3.SS1.p3.4.m4.10.10.2.2.2.1.1" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.cmml"><mi id="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.2" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.2.cmml">j</mi><mo id="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.1" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.1.cmml">=</mo><mrow id="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.3.2" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.3.1.cmml"><mn id="S3.SS1.p3.4.m4.6.6" xref="S3.SS1.p3.4.m4.6.6.cmml">1</mn><mo id="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.3.2.1" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.3.1.cmml">,</mo><mi id="S3.SS1.p3.4.m4.7.7" mathvariant="normal" xref="S3.SS1.p3.4.m4.7.7.cmml">⋯</mi><mo id="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.3.2.2" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.3.1.cmml">,</mo><mi id="S3.SS1.p3.4.m4.8.8" xref="S3.SS1.p3.4.m4.8.8.cmml">k</mi></mrow></mrow><mo id="S3.SS1.p3.4.m4.10.10.2.2.2.1.3" stretchy="false" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.4.m4.10b"><apply id="S3.SS1.p3.4.m4.10.10.cmml" xref="S3.SS1.p3.4.m4.10.10"><csymbol cd="latexml" id="S3.SS1.p3.4.m4.10.10.3.cmml" xref="S3.SS1.p3.4.m4.10.10.3">similar-to</csymbol><apply id="S3.SS1.p3.4.m4.10.10.4.cmml" xref="S3.SS1.p3.4.m4.10.10.4"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m4.10.10.4.1.cmml" xref="S3.SS1.p3.4.m4.10.10.4">superscript</csymbol><apply id="S3.SS1.p3.4.m4.10.10.4.2.cmml" xref="S3.SS1.p3.4.m4.10.10.4"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m4.10.10.4.2.1.cmml" xref="S3.SS1.p3.4.m4.10.10.4">subscript</csymbol><ci id="S3.SS1.p3.4.m4.10.10.4.2.2.cmml" xref="S3.SS1.p3.4.m4.10.10.4.2.2">𝑎</ci><apply id="S3.SS1.p3.4.m4.1.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1.1"><times id="S3.SS1.p3.4.m4.1.1.1.2.cmml" xref="S3.SS1.p3.4.m4.1.1.1.2"></times><ci id="S3.SS1.p3.4.m4.1.1.1.3.cmml" xref="S3.SS1.p3.4.m4.1.1.1.3">𝑐</ci><ci id="S3.SS1.p3.4.m4.1.1.1.4.cmml" xref="S3.SS1.p3.4.m4.1.1.1.4">ℎ</ci><ci id="S3.SS1.p3.4.m4.1.1.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1.1.1">𝑛</ci></apply></apply><ci id="S3.SS1.p3.4.m4.2.2.1.1.cmml" xref="S3.SS1.p3.4.m4.2.2.1.1">𝑗</ci></apply><list id="S3.SS1.p3.4.m4.10.10.2.3.cmml" xref="S3.SS1.p3.4.m4.10.10.2.2"><apply id="S3.SS1.p3.4.m4.9.9.1.1.1.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1"><times id="S3.SS1.p3.4.m4.9.9.1.1.1.2.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.2"></times><ci id="S3.SS1.p3.4.m4.9.9.1.1.1.3.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.3">𝜌</ci><apply id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.3.2">𝑎</ci><apply id="S3.SS1.p3.4.m4.3.3.1.cmml" xref="S3.SS1.p3.4.m4.3.3.1"><times id="S3.SS1.p3.4.m4.3.3.1.2.cmml" xref="S3.SS1.p3.4.m4.3.3.1.2"></times><ci id="S3.SS1.p3.4.m4.3.3.1.3.cmml" xref="S3.SS1.p3.4.m4.3.3.1.3">𝑐</ci><ci id="S3.SS1.p3.4.m4.3.3.1.4.cmml" xref="S3.SS1.p3.4.m4.3.3.1.4">ℎ</ci><ci id="S3.SS1.p3.4.m4.3.3.1.1.cmml" xref="S3.SS1.p3.4.m4.3.3.1.1">𝑛</ci></apply></apply><list id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1"><apply id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.2">𝑠</ci><ci id="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p3.4.m4.9.9.1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply><ci id="S3.SS1.p3.4.m4.4.4.cmml" xref="S3.SS1.p3.4.m4.4.4">ℐ</ci><ci id="S3.SS1.p3.4.m4.5.5.cmml" xref="S3.SS1.p3.4.m4.5.5">𝒟</ci></list></apply></apply><apply id="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.cmml" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1"><eq id="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.1.cmml" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.1"></eq><ci id="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.2.cmml" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.2">𝑗</ci><list id="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.3.1.cmml" xref="S3.SS1.p3.4.m4.10.10.2.2.2.1.1.3.2"><cn id="S3.SS1.p3.4.m4.6.6.cmml" type="integer" xref="S3.SS1.p3.4.m4.6.6">1</cn><ci id="S3.SS1.p3.4.m4.7.7.cmml" xref="S3.SS1.p3.4.m4.7.7">⋯</ci><ci id="S3.SS1.p3.4.m4.8.8.cmml" xref="S3.SS1.p3.4.m4.8.8">𝑘</ci></list></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.4.m4.10c">a_{ch(n)}^{(j)}\sim\rho(a_{ch(n)}|s_{n};\mathcal{I},\mathcal{D}),(j=1,\cdots,k)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.4.m4.10d">italic_a start_POSTSUBSCRIPT italic_c italic_h ( italic_n ) end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT ∼ italic_ρ ( italic_a start_POSTSUBSCRIPT italic_c italic_h ( italic_n ) end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ; caligraphic_I , caligraphic_D ) , ( italic_j = 1 , ⋯ , italic_k )</annotation></semantics></math>, given the API definitions <math alttext="\mathcal{I}" class="ltx_Math" display="inline" id="S3.SS1.p3.5.m5.1"><semantics id="S3.SS1.p3.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.5.m5.1.1" xref="S3.SS1.p3.5.m5.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.5.m5.1b"><ci id="S3.SS1.p3.5.m5.1.1.cmml" xref="S3.SS1.p3.5.m5.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.5.m5.1c">\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.5.m5.1d">caligraphic_I</annotation></semantics></math> and demonstration examples <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S3.SS1.p3.6.m6.1"><semantics id="S3.SS1.p3.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.6.m6.1.1" xref="S3.SS1.p3.6.m6.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.6.m6.1b"><ci id="S3.SS1.p3.6.m6.1.1.cmml" xref="S3.SS1.p3.6.m6.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.6.m6.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.6.m6.1d">caligraphic_D</annotation></semantics></math>.
For the generated actions or reasoning steps <math alttext="\{a^{(j)}_{ch(n)}\}_{j=1}^{k}" class="ltx_Math" display="inline" id="S3.SS1.p3.7.m7.3"><semantics id="S3.SS1.p3.7.m7.3a"><msubsup id="S3.SS1.p3.7.m7.3.3" xref="S3.SS1.p3.7.m7.3.3.cmml"><mrow id="S3.SS1.p3.7.m7.3.3.1.1.1" xref="S3.SS1.p3.7.m7.3.3.1.1.2.cmml"><mo id="S3.SS1.p3.7.m7.3.3.1.1.1.2" stretchy="false" xref="S3.SS1.p3.7.m7.3.3.1.1.2.cmml">{</mo><msubsup id="S3.SS1.p3.7.m7.3.3.1.1.1.1" xref="S3.SS1.p3.7.m7.3.3.1.1.1.1.cmml"><mi id="S3.SS1.p3.7.m7.3.3.1.1.1.1.2.2" xref="S3.SS1.p3.7.m7.3.3.1.1.1.1.2.2.cmml">a</mi><mrow id="S3.SS1.p3.7.m7.2.2.1" xref="S3.SS1.p3.7.m7.2.2.1.cmml"><mi id="S3.SS1.p3.7.m7.2.2.1.3" xref="S3.SS1.p3.7.m7.2.2.1.3.cmml">c</mi><mo id="S3.SS1.p3.7.m7.2.2.1.2" xref="S3.SS1.p3.7.m7.2.2.1.2.cmml">⁢</mo><mi id="S3.SS1.p3.7.m7.2.2.1.4" xref="S3.SS1.p3.7.m7.2.2.1.4.cmml">h</mi><mo id="S3.SS1.p3.7.m7.2.2.1.2a" xref="S3.SS1.p3.7.m7.2.2.1.2.cmml">⁢</mo><mrow id="S3.SS1.p3.7.m7.2.2.1.5.2" xref="S3.SS1.p3.7.m7.2.2.1.cmml"><mo id="S3.SS1.p3.7.m7.2.2.1.5.2.1" stretchy="false" xref="S3.SS1.p3.7.m7.2.2.1.cmml">(</mo><mi id="S3.SS1.p3.7.m7.2.2.1.1" xref="S3.SS1.p3.7.m7.2.2.1.1.cmml">n</mi><mo id="S3.SS1.p3.7.m7.2.2.1.5.2.2" stretchy="false" xref="S3.SS1.p3.7.m7.2.2.1.cmml">)</mo></mrow></mrow><mrow id="S3.SS1.p3.7.m7.1.1.1.3" xref="S3.SS1.p3.7.m7.3.3.1.1.1.1.cmml"><mo id="S3.SS1.p3.7.m7.1.1.1.3.1" stretchy="false" xref="S3.SS1.p3.7.m7.3.3.1.1.1.1.cmml">(</mo><mi id="S3.SS1.p3.7.m7.1.1.1.1" xref="S3.SS1.p3.7.m7.1.1.1.1.cmml">j</mi><mo id="S3.SS1.p3.7.m7.1.1.1.3.2" stretchy="false" xref="S3.SS1.p3.7.m7.3.3.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.SS1.p3.7.m7.3.3.1.1.1.3" stretchy="false" xref="S3.SS1.p3.7.m7.3.3.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS1.p3.7.m7.3.3.1.3" xref="S3.SS1.p3.7.m7.3.3.1.3.cmml"><mi id="S3.SS1.p3.7.m7.3.3.1.3.2" xref="S3.SS1.p3.7.m7.3.3.1.3.2.cmml">j</mi><mo id="S3.SS1.p3.7.m7.3.3.1.3.1" xref="S3.SS1.p3.7.m7.3.3.1.3.1.cmml">=</mo><mn id="S3.SS1.p3.7.m7.3.3.1.3.3" xref="S3.SS1.p3.7.m7.3.3.1.3.3.cmml">1</mn></mrow><mi id="S3.SS1.p3.7.m7.3.3.3" xref="S3.SS1.p3.7.m7.3.3.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.7.m7.3b"><apply id="S3.SS1.p3.7.m7.3.3.cmml" xref="S3.SS1.p3.7.m7.3.3"><csymbol cd="ambiguous" id="S3.SS1.p3.7.m7.3.3.2.cmml" xref="S3.SS1.p3.7.m7.3.3">superscript</csymbol><apply id="S3.SS1.p3.7.m7.3.3.1.cmml" xref="S3.SS1.p3.7.m7.3.3"><csymbol cd="ambiguous" id="S3.SS1.p3.7.m7.3.3.1.2.cmml" xref="S3.SS1.p3.7.m7.3.3">subscript</csymbol><set id="S3.SS1.p3.7.m7.3.3.1.1.2.cmml" xref="S3.SS1.p3.7.m7.3.3.1.1.1"><apply id="S3.SS1.p3.7.m7.3.3.1.1.1.1.cmml" xref="S3.SS1.p3.7.m7.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.7.m7.3.3.1.1.1.1.1.cmml" xref="S3.SS1.p3.7.m7.3.3.1.1.1.1">subscript</csymbol><apply id="S3.SS1.p3.7.m7.3.3.1.1.1.1.2.cmml" xref="S3.SS1.p3.7.m7.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.7.m7.3.3.1.1.1.1.2.1.cmml" xref="S3.SS1.p3.7.m7.3.3.1.1.1.1">superscript</csymbol><ci id="S3.SS1.p3.7.m7.3.3.1.1.1.1.2.2.cmml" xref="S3.SS1.p3.7.m7.3.3.1.1.1.1.2.2">𝑎</ci><ci id="S3.SS1.p3.7.m7.1.1.1.1.cmml" xref="S3.SS1.p3.7.m7.1.1.1.1">𝑗</ci></apply><apply id="S3.SS1.p3.7.m7.2.2.1.cmml" xref="S3.SS1.p3.7.m7.2.2.1"><times id="S3.SS1.p3.7.m7.2.2.1.2.cmml" xref="S3.SS1.p3.7.m7.2.2.1.2"></times><ci id="S3.SS1.p3.7.m7.2.2.1.3.cmml" xref="S3.SS1.p3.7.m7.2.2.1.3">𝑐</ci><ci id="S3.SS1.p3.7.m7.2.2.1.4.cmml" xref="S3.SS1.p3.7.m7.2.2.1.4">ℎ</ci><ci id="S3.SS1.p3.7.m7.2.2.1.1.cmml" xref="S3.SS1.p3.7.m7.2.2.1.1">𝑛</ci></apply></apply></set><apply id="S3.SS1.p3.7.m7.3.3.1.3.cmml" xref="S3.SS1.p3.7.m7.3.3.1.3"><eq id="S3.SS1.p3.7.m7.3.3.1.3.1.cmml" xref="S3.SS1.p3.7.m7.3.3.1.3.1"></eq><ci id="S3.SS1.p3.7.m7.3.3.1.3.2.cmml" xref="S3.SS1.p3.7.m7.3.3.1.3.2">𝑗</ci><cn id="S3.SS1.p3.7.m7.3.3.1.3.3.cmml" type="integer" xref="S3.SS1.p3.7.m7.3.3.1.3.3">1</cn></apply></apply><ci id="S3.SS1.p3.7.m7.3.3.3.cmml" xref="S3.SS1.p3.7.m7.3.3.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.7.m7.3c">\{a^{(j)}_{ch(n)}\}_{j=1}^{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.7.m7.3d">{ italic_a start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_c italic_h ( italic_n ) end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>, we establish their corresponding nodes under node <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p3.8.m8.1"><semantics id="S3.SS1.p3.8.m8.1a"><mi id="S3.SS1.p3.8.m8.1.1" xref="S3.SS1.p3.8.m8.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.8.m8.1b"><ci id="S3.SS1.p3.8.m8.1.1.cmml" xref="S3.SS1.p3.8.m8.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.8.m8.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.8.m8.1d">italic_n</annotation></semantics></math>.
Contrasting with the approach in MCTS <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite>, which requires multiple calls to <math alttext="\rho" class="ltx_Math" display="inline" id="S3.SS1.p3.9.m9.1"><semantics id="S3.SS1.p3.9.m9.1a"><mi id="S3.SS1.p3.9.m9.1.1" xref="S3.SS1.p3.9.m9.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.9.m9.1b"><ci id="S3.SS1.p3.9.m9.1.1.cmml" xref="S3.SS1.p3.9.m9.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.9.m9.1c">\rho</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.9.m9.1d">italic_ρ</annotation></semantics></math> until a terminal state during rollout, our expansion only requires a single call to generate the possible actions at the next step.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.p4">
<p class="ltx_p" id="S3.SS1.p4.5"><span class="ltx_text ltx_font_bold" id="S3.SS1.p4.5.1">Update.</span>
Denote the search tree <math alttext="\mathcal{T}" class="ltx_Math" display="inline" id="S3.SS1.p4.1.m1.1"><semantics id="S3.SS1.p4.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><ci id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">\mathcal{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.1.m1.1d">caligraphic_T</annotation></semantics></math> after expansion of node <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p4.2.m2.1"><semantics id="S3.SS1.p4.2.m2.1a"><mi id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b"><ci id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.2.m2.1d">italic_n</annotation></semantics></math> as <math alttext="\mathcal{T}^{\prime}" class="ltx_Math" display="inline" id="S3.SS1.p4.3.m3.1"><semantics id="S3.SS1.p4.3.m3.1a"><msup id="S3.SS1.p4.3.m3.1.1" xref="S3.SS1.p4.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.3.m3.1.1.2" xref="S3.SS1.p4.3.m3.1.1.2.cmml">𝒯</mi><mo id="S3.SS1.p4.3.m3.1.1.3" xref="S3.SS1.p4.3.m3.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.1b"><apply id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.1.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1">superscript</csymbol><ci id="S3.SS1.p4.3.m3.1.1.2.cmml" xref="S3.SS1.p4.3.m3.1.1.2">𝒯</ci><ci id="S3.SS1.p4.3.m3.1.1.3.cmml" xref="S3.SS1.p4.3.m3.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.1c">\mathcal{T}^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.3.m3.1d">caligraphic_T start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>.
Given that new nodes have been incorporated and the original tree structure has changed, we need to update the frontier nodes as <math alttext="\mathcal{F}(\mathcal{T}^{\prime})" class="ltx_Math" display="inline" id="S3.SS1.p4.4.m4.1"><semantics id="S3.SS1.p4.4.m4.1a"><mrow id="S3.SS1.p4.4.m4.1.1" xref="S3.SS1.p4.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.4.m4.1.1.3" xref="S3.SS1.p4.4.m4.1.1.3.cmml">ℱ</mi><mo id="S3.SS1.p4.4.m4.1.1.2" xref="S3.SS1.p4.4.m4.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p4.4.m4.1.1.1.1" xref="S3.SS1.p4.4.m4.1.1.1.1.1.cmml"><mo id="S3.SS1.p4.4.m4.1.1.1.1.2" stretchy="false" xref="S3.SS1.p4.4.m4.1.1.1.1.1.cmml">(</mo><msup id="S3.SS1.p4.4.m4.1.1.1.1.1" xref="S3.SS1.p4.4.m4.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.4.m4.1.1.1.1.1.2" xref="S3.SS1.p4.4.m4.1.1.1.1.1.2.cmml">𝒯</mi><mo id="S3.SS1.p4.4.m4.1.1.1.1.1.3" xref="S3.SS1.p4.4.m4.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S3.SS1.p4.4.m4.1.1.1.1.3" stretchy="false" xref="S3.SS1.p4.4.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.4.m4.1b"><apply id="S3.SS1.p4.4.m4.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1"><times id="S3.SS1.p4.4.m4.1.1.2.cmml" xref="S3.SS1.p4.4.m4.1.1.2"></times><ci id="S3.SS1.p4.4.m4.1.1.3.cmml" xref="S3.SS1.p4.4.m4.1.1.3">ℱ</ci><apply id="S3.SS1.p4.4.m4.1.1.1.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1.1.1">superscript</csymbol><ci id="S3.SS1.p4.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS1.p4.4.m4.1.1.1.1.1.2">𝒯</ci><ci id="S3.SS1.p4.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS1.p4.4.m4.1.1.1.1.1.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.4.m4.1c">\mathcal{F}(\mathcal{T}^{\prime})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.4.m4.1d">caligraphic_F ( caligraphic_T start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT )</annotation></semantics></math>.
With the new frontier nodes <math alttext="n\in\mathcal{F}(\mathcal{T}^{\prime})" class="ltx_Math" display="inline" id="S3.SS1.p4.5.m5.1"><semantics id="S3.SS1.p4.5.m5.1a"><mrow id="S3.SS1.p4.5.m5.1.1" xref="S3.SS1.p4.5.m5.1.1.cmml"><mi id="S3.SS1.p4.5.m5.1.1.3" xref="S3.SS1.p4.5.m5.1.1.3.cmml">n</mi><mo id="S3.SS1.p4.5.m5.1.1.2" xref="S3.SS1.p4.5.m5.1.1.2.cmml">∈</mo><mrow id="S3.SS1.p4.5.m5.1.1.1" xref="S3.SS1.p4.5.m5.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.5.m5.1.1.1.3" xref="S3.SS1.p4.5.m5.1.1.1.3.cmml">ℱ</mi><mo id="S3.SS1.p4.5.m5.1.1.1.2" xref="S3.SS1.p4.5.m5.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p4.5.m5.1.1.1.1.1" xref="S3.SS1.p4.5.m5.1.1.1.1.1.1.cmml"><mo id="S3.SS1.p4.5.m5.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p4.5.m5.1.1.1.1.1.1.cmml">(</mo><msup id="S3.SS1.p4.5.m5.1.1.1.1.1.1" xref="S3.SS1.p4.5.m5.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p4.5.m5.1.1.1.1.1.1.2" xref="S3.SS1.p4.5.m5.1.1.1.1.1.1.2.cmml">𝒯</mi><mo id="S3.SS1.p4.5.m5.1.1.1.1.1.1.3" xref="S3.SS1.p4.5.m5.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S3.SS1.p4.5.m5.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p4.5.m5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.5.m5.1b"><apply id="S3.SS1.p4.5.m5.1.1.cmml" xref="S3.SS1.p4.5.m5.1.1"><in id="S3.SS1.p4.5.m5.1.1.2.cmml" xref="S3.SS1.p4.5.m5.1.1.2"></in><ci id="S3.SS1.p4.5.m5.1.1.3.cmml" xref="S3.SS1.p4.5.m5.1.1.3">𝑛</ci><apply id="S3.SS1.p4.5.m5.1.1.1.cmml" xref="S3.SS1.p4.5.m5.1.1.1"><times id="S3.SS1.p4.5.m5.1.1.1.2.cmml" xref="S3.SS1.p4.5.m5.1.1.1.2"></times><ci id="S3.SS1.p4.5.m5.1.1.1.3.cmml" xref="S3.SS1.p4.5.m5.1.1.1.3">ℱ</ci><apply id="S3.SS1.p4.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS1.p4.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.5.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p4.5.m5.1.1.1.1.1">superscript</csymbol><ci id="S3.SS1.p4.5.m5.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p4.5.m5.1.1.1.1.1.1.2">𝒯</ci><ci id="S3.SS1.p4.5.m5.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p4.5.m5.1.1.1.1.1.1.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.5.m5.1c">n\in\mathcal{F}(\mathcal{T}^{\prime})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.5.m5.1d">italic_n ∈ caligraphic_F ( caligraphic_T start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT )</annotation></semantics></math>, we can compute their corresponding cost functions for the next selection-expansion-update iteration.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.p5">
<p class="ltx_p" id="S3.SS1.p5.9"><span class="ltx_text ltx_font_bold" id="S3.SS1.p5.9.1">Cost Function.</span>
We draw inspiration from A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S3.SS1.p5.1.m1.1"><semantics id="S3.SS1.p5.1.m1.1a"><msup id="S3.SS1.p5.1.m1.1.1" xref="S3.SS1.p5.1.m1.1.1.cmml"><mi id="S3.SS1.p5.1.m1.1.1a" xref="S3.SS1.p5.1.m1.1.1.cmml"></mi><mo id="S3.SS1.p5.1.m1.1.1.1" xref="S3.SS1.p5.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.1.m1.1b"><apply id="S3.SS1.p5.1.m1.1.1.cmml" xref="S3.SS1.p5.1.m1.1.1"><times id="S3.SS1.p5.1.m1.1.1.1.cmml" xref="S3.SS1.p5.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> algorithm to design and update the cost function <math alttext="f(n)" class="ltx_Math" display="inline" id="S3.SS1.p5.2.m2.1"><semantics id="S3.SS1.p5.2.m2.1a"><mrow id="S3.SS1.p5.2.m2.1.2" xref="S3.SS1.p5.2.m2.1.2.cmml"><mi id="S3.SS1.p5.2.m2.1.2.2" xref="S3.SS1.p5.2.m2.1.2.2.cmml">f</mi><mo id="S3.SS1.p5.2.m2.1.2.1" xref="S3.SS1.p5.2.m2.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.p5.2.m2.1.2.3.2" xref="S3.SS1.p5.2.m2.1.2.cmml"><mo id="S3.SS1.p5.2.m2.1.2.3.2.1" stretchy="false" xref="S3.SS1.p5.2.m2.1.2.cmml">(</mo><mi id="S3.SS1.p5.2.m2.1.1" xref="S3.SS1.p5.2.m2.1.1.cmml">n</mi><mo id="S3.SS1.p5.2.m2.1.2.3.2.2" stretchy="false" xref="S3.SS1.p5.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.2.m2.1b"><apply id="S3.SS1.p5.2.m2.1.2.cmml" xref="S3.SS1.p5.2.m2.1.2"><times id="S3.SS1.p5.2.m2.1.2.1.cmml" xref="S3.SS1.p5.2.m2.1.2.1"></times><ci id="S3.SS1.p5.2.m2.1.2.2.cmml" xref="S3.SS1.p5.2.m2.1.2.2">𝑓</ci><ci id="S3.SS1.p5.2.m2.1.1.cmml" xref="S3.SS1.p5.2.m2.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.2.m2.1c">f(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.2.m2.1d">italic_f ( italic_n )</annotation></semantics></math>.
Specifically, A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S3.SS1.p5.3.m3.1"><semantics id="S3.SS1.p5.3.m3.1a"><msup id="S3.SS1.p5.3.m3.1.1" xref="S3.SS1.p5.3.m3.1.1.cmml"><mi id="S3.SS1.p5.3.m3.1.1a" xref="S3.SS1.p5.3.m3.1.1.cmml"></mi><mo id="S3.SS1.p5.3.m3.1.1.1" xref="S3.SS1.p5.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.3.m3.1b"><apply id="S3.SS1.p5.3.m3.1.1.cmml" xref="S3.SS1.p5.3.m3.1.1"><times id="S3.SS1.p5.3.m3.1.1.1.cmml" xref="S3.SS1.p5.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> selects the path that minimizes <math alttext="f(n)=g(n)+h(n)" class="ltx_Math" display="inline" id="S3.SS1.p5.4.m4.3"><semantics id="S3.SS1.p5.4.m4.3a"><mrow id="S3.SS1.p5.4.m4.3.4" xref="S3.SS1.p5.4.m4.3.4.cmml"><mrow id="S3.SS1.p5.4.m4.3.4.2" xref="S3.SS1.p5.4.m4.3.4.2.cmml"><mi id="S3.SS1.p5.4.m4.3.4.2.2" xref="S3.SS1.p5.4.m4.3.4.2.2.cmml">f</mi><mo id="S3.SS1.p5.4.m4.3.4.2.1" xref="S3.SS1.p5.4.m4.3.4.2.1.cmml">⁢</mo><mrow id="S3.SS1.p5.4.m4.3.4.2.3.2" xref="S3.SS1.p5.4.m4.3.4.2.cmml"><mo id="S3.SS1.p5.4.m4.3.4.2.3.2.1" stretchy="false" xref="S3.SS1.p5.4.m4.3.4.2.cmml">(</mo><mi id="S3.SS1.p5.4.m4.1.1" xref="S3.SS1.p5.4.m4.1.1.cmml">n</mi><mo id="S3.SS1.p5.4.m4.3.4.2.3.2.2" stretchy="false" xref="S3.SS1.p5.4.m4.3.4.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p5.4.m4.3.4.1" xref="S3.SS1.p5.4.m4.3.4.1.cmml">=</mo><mrow id="S3.SS1.p5.4.m4.3.4.3" xref="S3.SS1.p5.4.m4.3.4.3.cmml"><mrow id="S3.SS1.p5.4.m4.3.4.3.2" xref="S3.SS1.p5.4.m4.3.4.3.2.cmml"><mi id="S3.SS1.p5.4.m4.3.4.3.2.2" xref="S3.SS1.p5.4.m4.3.4.3.2.2.cmml">g</mi><mo id="S3.SS1.p5.4.m4.3.4.3.2.1" xref="S3.SS1.p5.4.m4.3.4.3.2.1.cmml">⁢</mo><mrow id="S3.SS1.p5.4.m4.3.4.3.2.3.2" xref="S3.SS1.p5.4.m4.3.4.3.2.cmml"><mo id="S3.SS1.p5.4.m4.3.4.3.2.3.2.1" stretchy="false" xref="S3.SS1.p5.4.m4.3.4.3.2.cmml">(</mo><mi id="S3.SS1.p5.4.m4.2.2" xref="S3.SS1.p5.4.m4.2.2.cmml">n</mi><mo id="S3.SS1.p5.4.m4.3.4.3.2.3.2.2" stretchy="false" xref="S3.SS1.p5.4.m4.3.4.3.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p5.4.m4.3.4.3.1" xref="S3.SS1.p5.4.m4.3.4.3.1.cmml">+</mo><mrow id="S3.SS1.p5.4.m4.3.4.3.3" xref="S3.SS1.p5.4.m4.3.4.3.3.cmml"><mi id="S3.SS1.p5.4.m4.3.4.3.3.2" xref="S3.SS1.p5.4.m4.3.4.3.3.2.cmml">h</mi><mo id="S3.SS1.p5.4.m4.3.4.3.3.1" xref="S3.SS1.p5.4.m4.3.4.3.3.1.cmml">⁢</mo><mrow id="S3.SS1.p5.4.m4.3.4.3.3.3.2" xref="S3.SS1.p5.4.m4.3.4.3.3.cmml"><mo id="S3.SS1.p5.4.m4.3.4.3.3.3.2.1" stretchy="false" xref="S3.SS1.p5.4.m4.3.4.3.3.cmml">(</mo><mi id="S3.SS1.p5.4.m4.3.3" xref="S3.SS1.p5.4.m4.3.3.cmml">n</mi><mo id="S3.SS1.p5.4.m4.3.4.3.3.3.2.2" stretchy="false" xref="S3.SS1.p5.4.m4.3.4.3.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.4.m4.3b"><apply id="S3.SS1.p5.4.m4.3.4.cmml" xref="S3.SS1.p5.4.m4.3.4"><eq id="S3.SS1.p5.4.m4.3.4.1.cmml" xref="S3.SS1.p5.4.m4.3.4.1"></eq><apply id="S3.SS1.p5.4.m4.3.4.2.cmml" xref="S3.SS1.p5.4.m4.3.4.2"><times id="S3.SS1.p5.4.m4.3.4.2.1.cmml" xref="S3.SS1.p5.4.m4.3.4.2.1"></times><ci id="S3.SS1.p5.4.m4.3.4.2.2.cmml" xref="S3.SS1.p5.4.m4.3.4.2.2">𝑓</ci><ci id="S3.SS1.p5.4.m4.1.1.cmml" xref="S3.SS1.p5.4.m4.1.1">𝑛</ci></apply><apply id="S3.SS1.p5.4.m4.3.4.3.cmml" xref="S3.SS1.p5.4.m4.3.4.3"><plus id="S3.SS1.p5.4.m4.3.4.3.1.cmml" xref="S3.SS1.p5.4.m4.3.4.3.1"></plus><apply id="S3.SS1.p5.4.m4.3.4.3.2.cmml" xref="S3.SS1.p5.4.m4.3.4.3.2"><times id="S3.SS1.p5.4.m4.3.4.3.2.1.cmml" xref="S3.SS1.p5.4.m4.3.4.3.2.1"></times><ci id="S3.SS1.p5.4.m4.3.4.3.2.2.cmml" xref="S3.SS1.p5.4.m4.3.4.3.2.2">𝑔</ci><ci id="S3.SS1.p5.4.m4.2.2.cmml" xref="S3.SS1.p5.4.m4.2.2">𝑛</ci></apply><apply id="S3.SS1.p5.4.m4.3.4.3.3.cmml" xref="S3.SS1.p5.4.m4.3.4.3.3"><times id="S3.SS1.p5.4.m4.3.4.3.3.1.cmml" xref="S3.SS1.p5.4.m4.3.4.3.3.1"></times><ci id="S3.SS1.p5.4.m4.3.4.3.3.2.cmml" xref="S3.SS1.p5.4.m4.3.4.3.3.2">ℎ</ci><ci id="S3.SS1.p5.4.m4.3.3.cmml" xref="S3.SS1.p5.4.m4.3.3">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.4.m4.3c">f(n)=g(n)+h(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.4.m4.3d">italic_f ( italic_n ) = italic_g ( italic_n ) + italic_h ( italic_n )</annotation></semantics></math>,
where <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p5.5.m5.1"><semantics id="S3.SS1.p5.5.m5.1a"><mi id="S3.SS1.p5.5.m5.1.1" xref="S3.SS1.p5.5.m5.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.5.m5.1b"><ci id="S3.SS1.p5.5.m5.1.1.cmml" xref="S3.SS1.p5.5.m5.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.5.m5.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.5.m5.1d">italic_n</annotation></semantics></math> is the current node, <math alttext="g(n)" class="ltx_Math" display="inline" id="S3.SS1.p5.6.m6.1"><semantics id="S3.SS1.p5.6.m6.1a"><mrow id="S3.SS1.p5.6.m6.1.2" xref="S3.SS1.p5.6.m6.1.2.cmml"><mi id="S3.SS1.p5.6.m6.1.2.2" xref="S3.SS1.p5.6.m6.1.2.2.cmml">g</mi><mo id="S3.SS1.p5.6.m6.1.2.1" xref="S3.SS1.p5.6.m6.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.p5.6.m6.1.2.3.2" xref="S3.SS1.p5.6.m6.1.2.cmml"><mo id="S3.SS1.p5.6.m6.1.2.3.2.1" stretchy="false" xref="S3.SS1.p5.6.m6.1.2.cmml">(</mo><mi id="S3.SS1.p5.6.m6.1.1" xref="S3.SS1.p5.6.m6.1.1.cmml">n</mi><mo id="S3.SS1.p5.6.m6.1.2.3.2.2" stretchy="false" xref="S3.SS1.p5.6.m6.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.6.m6.1b"><apply id="S3.SS1.p5.6.m6.1.2.cmml" xref="S3.SS1.p5.6.m6.1.2"><times id="S3.SS1.p5.6.m6.1.2.1.cmml" xref="S3.SS1.p5.6.m6.1.2.1"></times><ci id="S3.SS1.p5.6.m6.1.2.2.cmml" xref="S3.SS1.p5.6.m6.1.2.2">𝑔</ci><ci id="S3.SS1.p5.6.m6.1.1.cmml" xref="S3.SS1.p5.6.m6.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.6.m6.1c">g(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.6.m6.1d">italic_g ( italic_n )</annotation></semantics></math> represents the cost of the path from the start node to <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p5.7.m7.1"><semantics id="S3.SS1.p5.7.m7.1a"><mi id="S3.SS1.p5.7.m7.1.1" xref="S3.SS1.p5.7.m7.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.7.m7.1b"><ci id="S3.SS1.p5.7.m7.1.1.cmml" xref="S3.SS1.p5.7.m7.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.7.m7.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.7.m7.1d">italic_n</annotation></semantics></math>, and <math alttext="h(n)" class="ltx_Math" display="inline" id="S3.SS1.p5.8.m8.1"><semantics id="S3.SS1.p5.8.m8.1a"><mrow id="S3.SS1.p5.8.m8.1.2" xref="S3.SS1.p5.8.m8.1.2.cmml"><mi id="S3.SS1.p5.8.m8.1.2.2" xref="S3.SS1.p5.8.m8.1.2.2.cmml">h</mi><mo id="S3.SS1.p5.8.m8.1.2.1" xref="S3.SS1.p5.8.m8.1.2.1.cmml">⁢</mo><mrow id="S3.SS1.p5.8.m8.1.2.3.2" xref="S3.SS1.p5.8.m8.1.2.cmml"><mo id="S3.SS1.p5.8.m8.1.2.3.2.1" stretchy="false" xref="S3.SS1.p5.8.m8.1.2.cmml">(</mo><mi id="S3.SS1.p5.8.m8.1.1" xref="S3.SS1.p5.8.m8.1.1.cmml">n</mi><mo id="S3.SS1.p5.8.m8.1.2.3.2.2" stretchy="false" xref="S3.SS1.p5.8.m8.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.8.m8.1b"><apply id="S3.SS1.p5.8.m8.1.2.cmml" xref="S3.SS1.p5.8.m8.1.2"><times id="S3.SS1.p5.8.m8.1.2.1.cmml" xref="S3.SS1.p5.8.m8.1.2.1"></times><ci id="S3.SS1.p5.8.m8.1.2.2.cmml" xref="S3.SS1.p5.8.m8.1.2.2">ℎ</ci><ci id="S3.SS1.p5.8.m8.1.1.cmml" xref="S3.SS1.p5.8.m8.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.8.m8.1c">h(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.8.m8.1d">italic_h ( italic_n )</annotation></semantics></math> is a heuristic function estimating the cost of the cheapest path from <math alttext="n" class="ltx_Math" display="inline" id="S3.SS1.p5.9.m9.1"><semantics id="S3.SS1.p5.9.m9.1a"><mi id="S3.SS1.p5.9.m9.1.1" xref="S3.SS1.p5.9.m9.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.9.m9.1b"><ci id="S3.SS1.p5.9.m9.1.1.cmml" xref="S3.SS1.p5.9.m9.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.9.m9.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p5.9.m9.1d">italic_n</annotation></semantics></math> to the goal.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Design of Cumulative Cost <math alttext="g(n)" class="ltx_Math" display="inline" id="S3.SS2.1.m1.1"><semantics id="S3.SS2.1.m1.1b"><mrow id="S3.SS2.1.m1.1.2" xref="S3.SS2.1.m1.1.2.cmml"><mi id="S3.SS2.1.m1.1.2.2" xref="S3.SS2.1.m1.1.2.2.cmml">g</mi><mo id="S3.SS2.1.m1.1.2.1" xref="S3.SS2.1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.1.m1.1.2.3.2" xref="S3.SS2.1.m1.1.2.cmml"><mo id="S3.SS2.1.m1.1.2.3.2.1" stretchy="false" xref="S3.SS2.1.m1.1.2.cmml">(</mo><mi id="S3.SS2.1.m1.1.1" xref="S3.SS2.1.m1.1.1.cmml">n</mi><mo id="S3.SS2.1.m1.1.2.3.2.2" stretchy="false" xref="S3.SS2.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.1.m1.1c"><apply id="S3.SS2.1.m1.1.2.cmml" xref="S3.SS2.1.m1.1.2"><times id="S3.SS2.1.m1.1.2.1.cmml" xref="S3.SS2.1.m1.1.2.1"></times><ci id="S3.SS2.1.m1.1.2.2.cmml" xref="S3.SS2.1.m1.1.2.2">𝑔</ci><ci id="S3.SS2.1.m1.1.1.cmml" xref="S3.SS2.1.m1.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.1.m1.1d">g(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.1.m1.1e">italic_g ( italic_n )</annotation></semantics></math>
</h3>
<div class="ltx_para ltx_noindent" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.9">During the planning process, we assess the cumulative cost of actions in the current plan and guide the planning based on the assessment.
For each node <math alttext="n" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">italic_n</annotation></semantics></math> in the searching tree, we design a single-step value function <math alttext="g_{t}(n)" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><mrow id="S3.SS2.p1.2.m2.1.2" xref="S3.SS2.p1.2.m2.1.2.cmml"><msub id="S3.SS2.p1.2.m2.1.2.2" xref="S3.SS2.p1.2.m2.1.2.2.cmml"><mi id="S3.SS2.p1.2.m2.1.2.2.2" xref="S3.SS2.p1.2.m2.1.2.2.2.cmml">g</mi><mi id="S3.SS2.p1.2.m2.1.2.2.3" xref="S3.SS2.p1.2.m2.1.2.2.3.cmml">t</mi></msub><mo id="S3.SS2.p1.2.m2.1.2.1" xref="S3.SS2.p1.2.m2.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p1.2.m2.1.2.3.2" xref="S3.SS2.p1.2.m2.1.2.cmml"><mo id="S3.SS2.p1.2.m2.1.2.3.2.1" stretchy="false" xref="S3.SS2.p1.2.m2.1.2.cmml">(</mo><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">n</mi><mo id="S3.SS2.p1.2.m2.1.2.3.2.2" stretchy="false" xref="S3.SS2.p1.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.2.cmml" xref="S3.SS2.p1.2.m2.1.2"><times id="S3.SS2.p1.2.m2.1.2.1.cmml" xref="S3.SS2.p1.2.m2.1.2.1"></times><apply id="S3.SS2.p1.2.m2.1.2.2.cmml" xref="S3.SS2.p1.2.m2.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.2.2.1.cmml" xref="S3.SS2.p1.2.m2.1.2.2">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.2.2.2.cmml" xref="S3.SS2.p1.2.m2.1.2.2.2">𝑔</ci><ci id="S3.SS2.p1.2.m2.1.2.2.3.cmml" xref="S3.SS2.p1.2.m2.1.2.2.3">𝑡</ci></apply><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">g_{t}(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">italic_g start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math> ranging from 0 to 1 and formulate the cost as its complement <math alttext="1-g_{t}(n)" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1"><semantics id="S3.SS2.p1.3.m3.1a"><mrow id="S3.SS2.p1.3.m3.1.2" xref="S3.SS2.p1.3.m3.1.2.cmml"><mn id="S3.SS2.p1.3.m3.1.2.2" xref="S3.SS2.p1.3.m3.1.2.2.cmml">1</mn><mo id="S3.SS2.p1.3.m3.1.2.1" xref="S3.SS2.p1.3.m3.1.2.1.cmml">−</mo><mrow id="S3.SS2.p1.3.m3.1.2.3" xref="S3.SS2.p1.3.m3.1.2.3.cmml"><msub id="S3.SS2.p1.3.m3.1.2.3.2" xref="S3.SS2.p1.3.m3.1.2.3.2.cmml"><mi id="S3.SS2.p1.3.m3.1.2.3.2.2" xref="S3.SS2.p1.3.m3.1.2.3.2.2.cmml">g</mi><mi id="S3.SS2.p1.3.m3.1.2.3.2.3" xref="S3.SS2.p1.3.m3.1.2.3.2.3.cmml">t</mi></msub><mo id="S3.SS2.p1.3.m3.1.2.3.1" xref="S3.SS2.p1.3.m3.1.2.3.1.cmml">⁢</mo><mrow id="S3.SS2.p1.3.m3.1.2.3.3.2" xref="S3.SS2.p1.3.m3.1.2.3.cmml"><mo id="S3.SS2.p1.3.m3.1.2.3.3.2.1" stretchy="false" xref="S3.SS2.p1.3.m3.1.2.3.cmml">(</mo><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">n</mi><mo id="S3.SS2.p1.3.m3.1.2.3.3.2.2" stretchy="false" xref="S3.SS2.p1.3.m3.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><apply id="S3.SS2.p1.3.m3.1.2.cmml" xref="S3.SS2.p1.3.m3.1.2"><minus id="S3.SS2.p1.3.m3.1.2.1.cmml" xref="S3.SS2.p1.3.m3.1.2.1"></minus><cn id="S3.SS2.p1.3.m3.1.2.2.cmml" type="integer" xref="S3.SS2.p1.3.m3.1.2.2">1</cn><apply id="S3.SS2.p1.3.m3.1.2.3.cmml" xref="S3.SS2.p1.3.m3.1.2.3"><times id="S3.SS2.p1.3.m3.1.2.3.1.cmml" xref="S3.SS2.p1.3.m3.1.2.3.1"></times><apply id="S3.SS2.p1.3.m3.1.2.3.2.cmml" xref="S3.SS2.p1.3.m3.1.2.3.2"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.2.3.2.1.cmml" xref="S3.SS2.p1.3.m3.1.2.3.2">subscript</csymbol><ci id="S3.SS2.p1.3.m3.1.2.3.2.2.cmml" xref="S3.SS2.p1.3.m3.1.2.3.2.2">𝑔</ci><ci id="S3.SS2.p1.3.m3.1.2.3.2.3.cmml" xref="S3.SS2.p1.3.m3.1.2.3.2.3">𝑡</ci></apply><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">1-g_{t}(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.1d">1 - italic_g start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math>.
Thus, the cumulative cost of <math alttext="n" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m4.1"><semantics id="S3.SS2.p1.4.m4.1a"><mi id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><ci id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.4.m4.1d">italic_n</annotation></semantics></math> can be computed by summing up all the single-step costs of its ancestor nodes <math alttext="an(n)" class="ltx_Math" display="inline" id="S3.SS2.p1.5.m5.1"><semantics id="S3.SS2.p1.5.m5.1a"><mrow id="S3.SS2.p1.5.m5.1.2" xref="S3.SS2.p1.5.m5.1.2.cmml"><mi id="S3.SS2.p1.5.m5.1.2.2" xref="S3.SS2.p1.5.m5.1.2.2.cmml">a</mi><mo id="S3.SS2.p1.5.m5.1.2.1" xref="S3.SS2.p1.5.m5.1.2.1.cmml">⁢</mo><mi id="S3.SS2.p1.5.m5.1.2.3" xref="S3.SS2.p1.5.m5.1.2.3.cmml">n</mi><mo id="S3.SS2.p1.5.m5.1.2.1a" xref="S3.SS2.p1.5.m5.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p1.5.m5.1.2.4.2" xref="S3.SS2.p1.5.m5.1.2.cmml"><mo id="S3.SS2.p1.5.m5.1.2.4.2.1" stretchy="false" xref="S3.SS2.p1.5.m5.1.2.cmml">(</mo><mi id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml">n</mi><mo id="S3.SS2.p1.5.m5.1.2.4.2.2" stretchy="false" xref="S3.SS2.p1.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><apply id="S3.SS2.p1.5.m5.1.2.cmml" xref="S3.SS2.p1.5.m5.1.2"><times id="S3.SS2.p1.5.m5.1.2.1.cmml" xref="S3.SS2.p1.5.m5.1.2.1"></times><ci id="S3.SS2.p1.5.m5.1.2.2.cmml" xref="S3.SS2.p1.5.m5.1.2.2">𝑎</ci><ci id="S3.SS2.p1.5.m5.1.2.3.cmml" xref="S3.SS2.p1.5.m5.1.2.3">𝑛</ci><ci id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">an(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.5.m5.1d">italic_a italic_n ( italic_n )</annotation></semantics></math>: <math alttext="g(n)=\sum_{i\in an(n)}1-g_{t}(i)" class="ltx_Math" display="inline" id="S3.SS2.p1.6.m6.3"><semantics id="S3.SS2.p1.6.m6.3a"><mrow id="S3.SS2.p1.6.m6.3.4" xref="S3.SS2.p1.6.m6.3.4.cmml"><mrow id="S3.SS2.p1.6.m6.3.4.2" xref="S3.SS2.p1.6.m6.3.4.2.cmml"><mi id="S3.SS2.p1.6.m6.3.4.2.2" xref="S3.SS2.p1.6.m6.3.4.2.2.cmml">g</mi><mo id="S3.SS2.p1.6.m6.3.4.2.1" xref="S3.SS2.p1.6.m6.3.4.2.1.cmml">⁢</mo><mrow id="S3.SS2.p1.6.m6.3.4.2.3.2" xref="S3.SS2.p1.6.m6.3.4.2.cmml"><mo id="S3.SS2.p1.6.m6.3.4.2.3.2.1" stretchy="false" xref="S3.SS2.p1.6.m6.3.4.2.cmml">(</mo><mi id="S3.SS2.p1.6.m6.2.2" xref="S3.SS2.p1.6.m6.2.2.cmml">n</mi><mo id="S3.SS2.p1.6.m6.3.4.2.3.2.2" stretchy="false" xref="S3.SS2.p1.6.m6.3.4.2.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p1.6.m6.3.4.1" rspace="0.111em" xref="S3.SS2.p1.6.m6.3.4.1.cmml">=</mo><mrow id="S3.SS2.p1.6.m6.3.4.3" xref="S3.SS2.p1.6.m6.3.4.3.cmml"><mrow id="S3.SS2.p1.6.m6.3.4.3.2" xref="S3.SS2.p1.6.m6.3.4.3.2.cmml"><msub id="S3.SS2.p1.6.m6.3.4.3.2.1" xref="S3.SS2.p1.6.m6.3.4.3.2.1.cmml"><mo id="S3.SS2.p1.6.m6.3.4.3.2.1.2" xref="S3.SS2.p1.6.m6.3.4.3.2.1.2.cmml">∑</mo><mrow id="S3.SS2.p1.6.m6.1.1.1" xref="S3.SS2.p1.6.m6.1.1.1.cmml"><mi id="S3.SS2.p1.6.m6.1.1.1.3" xref="S3.SS2.p1.6.m6.1.1.1.3.cmml">i</mi><mo id="S3.SS2.p1.6.m6.1.1.1.2" xref="S3.SS2.p1.6.m6.1.1.1.2.cmml">∈</mo><mrow id="S3.SS2.p1.6.m6.1.1.1.4" xref="S3.SS2.p1.6.m6.1.1.1.4.cmml"><mi id="S3.SS2.p1.6.m6.1.1.1.4.2" xref="S3.SS2.p1.6.m6.1.1.1.4.2.cmml">a</mi><mo id="S3.SS2.p1.6.m6.1.1.1.4.1" xref="S3.SS2.p1.6.m6.1.1.1.4.1.cmml">⁢</mo><mi id="S3.SS2.p1.6.m6.1.1.1.4.3" xref="S3.SS2.p1.6.m6.1.1.1.4.3.cmml">n</mi><mo id="S3.SS2.p1.6.m6.1.1.1.4.1a" xref="S3.SS2.p1.6.m6.1.1.1.4.1.cmml">⁢</mo><mrow id="S3.SS2.p1.6.m6.1.1.1.4.4.2" xref="S3.SS2.p1.6.m6.1.1.1.4.cmml"><mo id="S3.SS2.p1.6.m6.1.1.1.4.4.2.1" stretchy="false" xref="S3.SS2.p1.6.m6.1.1.1.4.cmml">(</mo><mi id="S3.SS2.p1.6.m6.1.1.1.1" xref="S3.SS2.p1.6.m6.1.1.1.1.cmml">n</mi><mo id="S3.SS2.p1.6.m6.1.1.1.4.4.2.2" stretchy="false" xref="S3.SS2.p1.6.m6.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mn id="S3.SS2.p1.6.m6.3.4.3.2.2" xref="S3.SS2.p1.6.m6.3.4.3.2.2.cmml">1</mn></mrow><mo id="S3.SS2.p1.6.m6.3.4.3.1" xref="S3.SS2.p1.6.m6.3.4.3.1.cmml">−</mo><mrow id="S3.SS2.p1.6.m6.3.4.3.3" xref="S3.SS2.p1.6.m6.3.4.3.3.cmml"><msub id="S3.SS2.p1.6.m6.3.4.3.3.2" xref="S3.SS2.p1.6.m6.3.4.3.3.2.cmml"><mi id="S3.SS2.p1.6.m6.3.4.3.3.2.2" xref="S3.SS2.p1.6.m6.3.4.3.3.2.2.cmml">g</mi><mi id="S3.SS2.p1.6.m6.3.4.3.3.2.3" xref="S3.SS2.p1.6.m6.3.4.3.3.2.3.cmml">t</mi></msub><mo id="S3.SS2.p1.6.m6.3.4.3.3.1" xref="S3.SS2.p1.6.m6.3.4.3.3.1.cmml">⁢</mo><mrow id="S3.SS2.p1.6.m6.3.4.3.3.3.2" xref="S3.SS2.p1.6.m6.3.4.3.3.cmml"><mo id="S3.SS2.p1.6.m6.3.4.3.3.3.2.1" stretchy="false" xref="S3.SS2.p1.6.m6.3.4.3.3.cmml">(</mo><mi id="S3.SS2.p1.6.m6.3.3" xref="S3.SS2.p1.6.m6.3.3.cmml">i</mi><mo id="S3.SS2.p1.6.m6.3.4.3.3.3.2.2" stretchy="false" xref="S3.SS2.p1.6.m6.3.4.3.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.3b"><apply id="S3.SS2.p1.6.m6.3.4.cmml" xref="S3.SS2.p1.6.m6.3.4"><eq id="S3.SS2.p1.6.m6.3.4.1.cmml" xref="S3.SS2.p1.6.m6.3.4.1"></eq><apply id="S3.SS2.p1.6.m6.3.4.2.cmml" xref="S3.SS2.p1.6.m6.3.4.2"><times id="S3.SS2.p1.6.m6.3.4.2.1.cmml" xref="S3.SS2.p1.6.m6.3.4.2.1"></times><ci id="S3.SS2.p1.6.m6.3.4.2.2.cmml" xref="S3.SS2.p1.6.m6.3.4.2.2">𝑔</ci><ci id="S3.SS2.p1.6.m6.2.2.cmml" xref="S3.SS2.p1.6.m6.2.2">𝑛</ci></apply><apply id="S3.SS2.p1.6.m6.3.4.3.cmml" xref="S3.SS2.p1.6.m6.3.4.3"><minus id="S3.SS2.p1.6.m6.3.4.3.1.cmml" xref="S3.SS2.p1.6.m6.3.4.3.1"></minus><apply id="S3.SS2.p1.6.m6.3.4.3.2.cmml" xref="S3.SS2.p1.6.m6.3.4.3.2"><apply id="S3.SS2.p1.6.m6.3.4.3.2.1.cmml" xref="S3.SS2.p1.6.m6.3.4.3.2.1"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m6.3.4.3.2.1.1.cmml" xref="S3.SS2.p1.6.m6.3.4.3.2.1">subscript</csymbol><sum id="S3.SS2.p1.6.m6.3.4.3.2.1.2.cmml" xref="S3.SS2.p1.6.m6.3.4.3.2.1.2"></sum><apply id="S3.SS2.p1.6.m6.1.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1.1"><in id="S3.SS2.p1.6.m6.1.1.1.2.cmml" xref="S3.SS2.p1.6.m6.1.1.1.2"></in><ci id="S3.SS2.p1.6.m6.1.1.1.3.cmml" xref="S3.SS2.p1.6.m6.1.1.1.3">𝑖</ci><apply id="S3.SS2.p1.6.m6.1.1.1.4.cmml" xref="S3.SS2.p1.6.m6.1.1.1.4"><times id="S3.SS2.p1.6.m6.1.1.1.4.1.cmml" xref="S3.SS2.p1.6.m6.1.1.1.4.1"></times><ci id="S3.SS2.p1.6.m6.1.1.1.4.2.cmml" xref="S3.SS2.p1.6.m6.1.1.1.4.2">𝑎</ci><ci id="S3.SS2.p1.6.m6.1.1.1.4.3.cmml" xref="S3.SS2.p1.6.m6.1.1.1.4.3">𝑛</ci><ci id="S3.SS2.p1.6.m6.1.1.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1.1.1">𝑛</ci></apply></apply></apply><cn id="S3.SS2.p1.6.m6.3.4.3.2.2.cmml" type="integer" xref="S3.SS2.p1.6.m6.3.4.3.2.2">1</cn></apply><apply id="S3.SS2.p1.6.m6.3.4.3.3.cmml" xref="S3.SS2.p1.6.m6.3.4.3.3"><times id="S3.SS2.p1.6.m6.3.4.3.3.1.cmml" xref="S3.SS2.p1.6.m6.3.4.3.3.1"></times><apply id="S3.SS2.p1.6.m6.3.4.3.3.2.cmml" xref="S3.SS2.p1.6.m6.3.4.3.3.2"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m6.3.4.3.3.2.1.cmml" xref="S3.SS2.p1.6.m6.3.4.3.3.2">subscript</csymbol><ci id="S3.SS2.p1.6.m6.3.4.3.3.2.2.cmml" xref="S3.SS2.p1.6.m6.3.4.3.3.2.2">𝑔</ci><ci id="S3.SS2.p1.6.m6.3.4.3.3.2.3.cmml" xref="S3.SS2.p1.6.m6.3.4.3.3.2.3">𝑡</ci></apply><ci id="S3.SS2.p1.6.m6.3.3.cmml" xref="S3.SS2.p1.6.m6.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m6.3c">g(n)=\sum_{i\in an(n)}1-g_{t}(i)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.6.m6.3d">italic_g ( italic_n ) = ∑ start_POSTSUBSCRIPT italic_i ∈ italic_a italic_n ( italic_n ) end_POSTSUBSCRIPT 1 - italic_g start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_i )</annotation></semantics></math>.
More specifically, we combine two different value functions, the task-specific heuristic function from reference data (long-term memory) <math alttext="g_{t,1}(n)" class="ltx_Math" display="inline" id="S3.SS2.p1.7.m7.3"><semantics id="S3.SS2.p1.7.m7.3a"><mrow id="S3.SS2.p1.7.m7.3.4" xref="S3.SS2.p1.7.m7.3.4.cmml"><msub id="S3.SS2.p1.7.m7.3.4.2" xref="S3.SS2.p1.7.m7.3.4.2.cmml"><mi id="S3.SS2.p1.7.m7.3.4.2.2" xref="S3.SS2.p1.7.m7.3.4.2.2.cmml">g</mi><mrow id="S3.SS2.p1.7.m7.2.2.2.4" xref="S3.SS2.p1.7.m7.2.2.2.3.cmml"><mi id="S3.SS2.p1.7.m7.1.1.1.1" xref="S3.SS2.p1.7.m7.1.1.1.1.cmml">t</mi><mo id="S3.SS2.p1.7.m7.2.2.2.4.1" xref="S3.SS2.p1.7.m7.2.2.2.3.cmml">,</mo><mn id="S3.SS2.p1.7.m7.2.2.2.2" xref="S3.SS2.p1.7.m7.2.2.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS2.p1.7.m7.3.4.1" xref="S3.SS2.p1.7.m7.3.4.1.cmml">⁢</mo><mrow id="S3.SS2.p1.7.m7.3.4.3.2" xref="S3.SS2.p1.7.m7.3.4.cmml"><mo id="S3.SS2.p1.7.m7.3.4.3.2.1" stretchy="false" xref="S3.SS2.p1.7.m7.3.4.cmml">(</mo><mi id="S3.SS2.p1.7.m7.3.3" xref="S3.SS2.p1.7.m7.3.3.cmml">n</mi><mo id="S3.SS2.p1.7.m7.3.4.3.2.2" stretchy="false" xref="S3.SS2.p1.7.m7.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m7.3b"><apply id="S3.SS2.p1.7.m7.3.4.cmml" xref="S3.SS2.p1.7.m7.3.4"><times id="S3.SS2.p1.7.m7.3.4.1.cmml" xref="S3.SS2.p1.7.m7.3.4.1"></times><apply id="S3.SS2.p1.7.m7.3.4.2.cmml" xref="S3.SS2.p1.7.m7.3.4.2"><csymbol cd="ambiguous" id="S3.SS2.p1.7.m7.3.4.2.1.cmml" xref="S3.SS2.p1.7.m7.3.4.2">subscript</csymbol><ci id="S3.SS2.p1.7.m7.3.4.2.2.cmml" xref="S3.SS2.p1.7.m7.3.4.2.2">𝑔</ci><list id="S3.SS2.p1.7.m7.2.2.2.3.cmml" xref="S3.SS2.p1.7.m7.2.2.2.4"><ci id="S3.SS2.p1.7.m7.1.1.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1.1.1">𝑡</ci><cn id="S3.SS2.p1.7.m7.2.2.2.2.cmml" type="integer" xref="S3.SS2.p1.7.m7.2.2.2.2">1</cn></list></apply><ci id="S3.SS2.p1.7.m7.3.3.cmml" xref="S3.SS2.p1.7.m7.3.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m7.3c">g_{t,1}(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.7.m7.3d">italic_g start_POSTSUBSCRIPT italic_t , 1 end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math> and the self-consistency frequency by LLM <math alttext="g_{t,2}(n)" class="ltx_Math" display="inline" id="S3.SS2.p1.8.m8.3"><semantics id="S3.SS2.p1.8.m8.3a"><mrow id="S3.SS2.p1.8.m8.3.4" xref="S3.SS2.p1.8.m8.3.4.cmml"><msub id="S3.SS2.p1.8.m8.3.4.2" xref="S3.SS2.p1.8.m8.3.4.2.cmml"><mi id="S3.SS2.p1.8.m8.3.4.2.2" xref="S3.SS2.p1.8.m8.3.4.2.2.cmml">g</mi><mrow id="S3.SS2.p1.8.m8.2.2.2.4" xref="S3.SS2.p1.8.m8.2.2.2.3.cmml"><mi id="S3.SS2.p1.8.m8.1.1.1.1" xref="S3.SS2.p1.8.m8.1.1.1.1.cmml">t</mi><mo id="S3.SS2.p1.8.m8.2.2.2.4.1" xref="S3.SS2.p1.8.m8.2.2.2.3.cmml">,</mo><mn id="S3.SS2.p1.8.m8.2.2.2.2" xref="S3.SS2.p1.8.m8.2.2.2.2.cmml">2</mn></mrow></msub><mo id="S3.SS2.p1.8.m8.3.4.1" xref="S3.SS2.p1.8.m8.3.4.1.cmml">⁢</mo><mrow id="S3.SS2.p1.8.m8.3.4.3.2" xref="S3.SS2.p1.8.m8.3.4.cmml"><mo id="S3.SS2.p1.8.m8.3.4.3.2.1" stretchy="false" xref="S3.SS2.p1.8.m8.3.4.cmml">(</mo><mi id="S3.SS2.p1.8.m8.3.3" xref="S3.SS2.p1.8.m8.3.3.cmml">n</mi><mo id="S3.SS2.p1.8.m8.3.4.3.2.2" stretchy="false" xref="S3.SS2.p1.8.m8.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m8.3b"><apply id="S3.SS2.p1.8.m8.3.4.cmml" xref="S3.SS2.p1.8.m8.3.4"><times id="S3.SS2.p1.8.m8.3.4.1.cmml" xref="S3.SS2.p1.8.m8.3.4.1"></times><apply id="S3.SS2.p1.8.m8.3.4.2.cmml" xref="S3.SS2.p1.8.m8.3.4.2"><csymbol cd="ambiguous" id="S3.SS2.p1.8.m8.3.4.2.1.cmml" xref="S3.SS2.p1.8.m8.3.4.2">subscript</csymbol><ci id="S3.SS2.p1.8.m8.3.4.2.2.cmml" xref="S3.SS2.p1.8.m8.3.4.2.2">𝑔</ci><list id="S3.SS2.p1.8.m8.2.2.2.3.cmml" xref="S3.SS2.p1.8.m8.2.2.2.4"><ci id="S3.SS2.p1.8.m8.1.1.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1.1.1">𝑡</ci><cn id="S3.SS2.p1.8.m8.2.2.2.2.cmml" type="integer" xref="S3.SS2.p1.8.m8.2.2.2.2">2</cn></list></apply><ci id="S3.SS2.p1.8.m8.3.3.cmml" xref="S3.SS2.p1.8.m8.3.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m8.3c">g_{t,2}(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.8.m8.3d">italic_g start_POSTSUBSCRIPT italic_t , 2 end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math>, to compute cumulative cost <math alttext="g(n)" class="ltx_Math" display="inline" id="S3.SS2.p1.9.m9.1"><semantics id="S3.SS2.p1.9.m9.1a"><mrow id="S3.SS2.p1.9.m9.1.2" xref="S3.SS2.p1.9.m9.1.2.cmml"><mi id="S3.SS2.p1.9.m9.1.2.2" xref="S3.SS2.p1.9.m9.1.2.2.cmml">g</mi><mo id="S3.SS2.p1.9.m9.1.2.1" xref="S3.SS2.p1.9.m9.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p1.9.m9.1.2.3.2" xref="S3.SS2.p1.9.m9.1.2.cmml"><mo id="S3.SS2.p1.9.m9.1.2.3.2.1" stretchy="false" xref="S3.SS2.p1.9.m9.1.2.cmml">(</mo><mi id="S3.SS2.p1.9.m9.1.1" xref="S3.SS2.p1.9.m9.1.1.cmml">n</mi><mo id="S3.SS2.p1.9.m9.1.2.3.2.2" stretchy="false" xref="S3.SS2.p1.9.m9.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m9.1b"><apply id="S3.SS2.p1.9.m9.1.2.cmml" xref="S3.SS2.p1.9.m9.1.2"><times id="S3.SS2.p1.9.m9.1.2.1.cmml" xref="S3.SS2.p1.9.m9.1.2.1"></times><ci id="S3.SS2.p1.9.m9.1.2.2.cmml" xref="S3.SS2.p1.9.m9.1.2.2">𝑔</ci><ci id="S3.SS2.p1.9.m9.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m9.1c">g(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.9.m9.1d">italic_g ( italic_n )</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E1">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E1X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle g(n)=\sum_{i\in\{an(n),n\}}(1-g_{t,1}(i))^{\alpha}\cdot(1-g_{t,2%
}(i))^{1-\alpha}," class="ltx_Math" display="inline" id="S3.E1X.2.1.1.m1.11"><semantics id="S3.E1X.2.1.1.m1.11a"><mrow id="S3.E1X.2.1.1.m1.11.11.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.cmml"><mrow id="S3.E1X.2.1.1.m1.11.11.1.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.cmml"><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.4" xref="S3.E1X.2.1.1.m1.11.11.1.1.4.cmml"><mi id="S3.E1X.2.1.1.m1.11.11.1.1.4.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.4.2.cmml">g</mi><mo id="S3.E1X.2.1.1.m1.11.11.1.1.4.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.4.1.cmml">⁢</mo><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.4.3.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.4.cmml"><mo id="S3.E1X.2.1.1.m1.11.11.1.1.4.3.2.1" stretchy="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.4.cmml">(</mo><mi id="S3.E1X.2.1.1.m1.8.8" xref="S3.E1X.2.1.1.m1.8.8.cmml">n</mi><mo id="S3.E1X.2.1.1.m1.11.11.1.1.4.3.2.2" stretchy="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.4.cmml">)</mo></mrow></mrow><mo id="S3.E1X.2.1.1.m1.11.11.1.1.3" xref="S3.E1X.2.1.1.m1.11.11.1.1.3.cmml">=</mo><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.cmml"><mstyle displaystyle="true" id="S3.E1X.2.1.1.m1.11.11.1.1.2.3" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.3.cmml"><munder id="S3.E1X.2.1.1.m1.11.11.1.1.2.3a" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.3.cmml"><mo id="S3.E1X.2.1.1.m1.11.11.1.1.2.3.2" movablelimits="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.3.2.cmml">∑</mo><mrow id="S3.E1X.2.1.1.m1.3.3.3" xref="S3.E1X.2.1.1.m1.3.3.3.cmml"><mi id="S3.E1X.2.1.1.m1.3.3.3.5" xref="S3.E1X.2.1.1.m1.3.3.3.5.cmml">i</mi><mo id="S3.E1X.2.1.1.m1.3.3.3.4" xref="S3.E1X.2.1.1.m1.3.3.3.4.cmml">∈</mo><mrow id="S3.E1X.2.1.1.m1.3.3.3.3.1" xref="S3.E1X.2.1.1.m1.3.3.3.3.2.cmml"><mo id="S3.E1X.2.1.1.m1.3.3.3.3.1.2" stretchy="false" xref="S3.E1X.2.1.1.m1.3.3.3.3.2.cmml">{</mo><mrow id="S3.E1X.2.1.1.m1.3.3.3.3.1.1" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.cmml"><mi id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.2" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.2.cmml">a</mi><mo id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.1" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.1.cmml">⁢</mo><mi id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.3" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.3.cmml">n</mi><mo id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.1a" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.1.cmml">⁢</mo><mrow id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.4.2" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.cmml"><mo id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.4.2.1" stretchy="false" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.cmml">(</mo><mi id="S3.E1X.2.1.1.m1.1.1.1.1" xref="S3.E1X.2.1.1.m1.1.1.1.1.cmml">n</mi><mo id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.4.2.2" stretchy="false" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1X.2.1.1.m1.3.3.3.3.1.3" xref="S3.E1X.2.1.1.m1.3.3.3.3.2.cmml">,</mo><mi id="S3.E1X.2.1.1.m1.2.2.2.2" xref="S3.E1X.2.1.1.m1.2.2.2.2.cmml">n</mi><mo id="S3.E1X.2.1.1.m1.3.3.3.3.1.4" stretchy="false" xref="S3.E1X.2.1.1.m1.3.3.3.3.2.cmml">}</mo></mrow></mrow></munder></mstyle><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.2.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.cmml"><msup id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.cmml"><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.cmml"><mn id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.cmml"><msub id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.2.2.cmml">g</mi><mrow id="S3.E1X.2.1.1.m1.5.5.2.4" xref="S3.E1X.2.1.1.m1.5.5.2.3.cmml"><mi id="S3.E1X.2.1.1.m1.4.4.1.1" xref="S3.E1X.2.1.1.m1.4.4.1.1.cmml">t</mi><mo id="S3.E1X.2.1.1.m1.5.5.2.4.1" xref="S3.E1X.2.1.1.m1.5.5.2.3.cmml">,</mo><mn id="S3.E1X.2.1.1.m1.5.5.2.2" xref="S3.E1X.2.1.1.m1.5.5.2.2.cmml">1</mn></mrow></msub><mo id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.cmml"><mo id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.3.2.1" stretchy="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.cmml">(</mo><mi id="S3.E1X.2.1.1.m1.9.9" xref="S3.E1X.2.1.1.m1.9.9.cmml">i</mi><mo id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.3.2.2" stretchy="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mi id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.3" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.3.cmml">α</mi></msup><mo id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.3" rspace="0.222em" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.3.cmml">⋅</mo><msup id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.cmml"><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.cmml"><mo id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.2" stretchy="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.cmml"><mn id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.2.cmml">1</mn><mo id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.1.cmml">−</mo><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.cmml"><msub id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.2.cmml"><mi id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.2.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.2.2.cmml">g</mi><mrow id="S3.E1X.2.1.1.m1.7.7.2.4" xref="S3.E1X.2.1.1.m1.7.7.2.3.cmml"><mi id="S3.E1X.2.1.1.m1.6.6.1.1" xref="S3.E1X.2.1.1.m1.6.6.1.1.cmml">t</mi><mo id="S3.E1X.2.1.1.m1.7.7.2.4.1" xref="S3.E1X.2.1.1.m1.7.7.2.3.cmml">,</mo><mn id="S3.E1X.2.1.1.m1.7.7.2.2" xref="S3.E1X.2.1.1.m1.7.7.2.2.cmml">2</mn></mrow></msub><mo id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.1.cmml">⁢</mo><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.3.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.cmml"><mo id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.3.2.1" stretchy="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.cmml">(</mo><mi id="S3.E1X.2.1.1.m1.10.10" xref="S3.E1X.2.1.1.m1.10.10.cmml">i</mi><mo id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.3.2.2" stretchy="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.3" stretchy="false" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.cmml">)</mo></mrow><mrow id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.cmml"><mn id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.2.cmml">1</mn><mo id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.1" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.1.cmml">−</mo><mi id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.3" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.3.cmml">α</mi></mrow></msup></mrow></mrow></mrow><mo id="S3.E1X.2.1.1.m1.11.11.1.2" xref="S3.E1X.2.1.1.m1.11.11.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1X.2.1.1.m1.11b"><apply id="S3.E1X.2.1.1.m1.11.11.1.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1"><eq id="S3.E1X.2.1.1.m1.11.11.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.3"></eq><apply id="S3.E1X.2.1.1.m1.11.11.1.1.4.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.4"><times id="S3.E1X.2.1.1.m1.11.11.1.1.4.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.4.1"></times><ci id="S3.E1X.2.1.1.m1.11.11.1.1.4.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.4.2">𝑔</ci><ci id="S3.E1X.2.1.1.m1.8.8.cmml" xref="S3.E1X.2.1.1.m1.8.8">𝑛</ci></apply><apply id="S3.E1X.2.1.1.m1.11.11.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2"><apply id="S3.E1X.2.1.1.m1.11.11.1.1.2.3.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.3"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.11.11.1.1.2.3.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.3">subscript</csymbol><sum id="S3.E1X.2.1.1.m1.11.11.1.1.2.3.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.3.2"></sum><apply id="S3.E1X.2.1.1.m1.3.3.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.3"><in id="S3.E1X.2.1.1.m1.3.3.3.4.cmml" xref="S3.E1X.2.1.1.m1.3.3.3.4"></in><ci id="S3.E1X.2.1.1.m1.3.3.3.5.cmml" xref="S3.E1X.2.1.1.m1.3.3.3.5">𝑖</ci><set id="S3.E1X.2.1.1.m1.3.3.3.3.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.3.3.1"><apply id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1"><times id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.1"></times><ci id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.2">𝑎</ci><ci id="S3.E1X.2.1.1.m1.3.3.3.3.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.3.3.3.3.1.1.3">𝑛</ci><ci id="S3.E1X.2.1.1.m1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.1.1.1.1">𝑛</ci></apply><ci id="S3.E1X.2.1.1.m1.2.2.2.2.cmml" xref="S3.E1X.2.1.1.m1.2.2.2.2">𝑛</ci></set></apply></apply><apply id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2"><ci id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.3.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.3">⋅</ci><apply id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1">superscript</csymbol><apply id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1"><minus id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.1"></minus><cn id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.2">1</cn><apply id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3"><times id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.1"></times><apply id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.1.1.1.3.2.2">𝑔</ci><list id="S3.E1X.2.1.1.m1.5.5.2.3.cmml" xref="S3.E1X.2.1.1.m1.5.5.2.4"><ci id="S3.E1X.2.1.1.m1.4.4.1.1.cmml" xref="S3.E1X.2.1.1.m1.4.4.1.1">𝑡</ci><cn id="S3.E1X.2.1.1.m1.5.5.2.2.cmml" type="integer" xref="S3.E1X.2.1.1.m1.5.5.2.2">1</cn></list></apply><ci id="S3.E1X.2.1.1.m1.9.9.cmml" xref="S3.E1X.2.1.1.m1.9.9">𝑖</ci></apply></apply><ci id="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.1.1.1.3">𝛼</ci></apply><apply id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2">superscript</csymbol><apply id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1"><minus id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.1"></minus><cn id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.2.cmml" type="integer" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.2">1</cn><apply id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3"><times id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.1"></times><apply id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.2.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.2">subscript</csymbol><ci id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.2.2.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.1.1.1.3.2.2">𝑔</ci><list id="S3.E1X.2.1.1.m1.7.7.2.3.cmml" xref="S3.E1X.2.1.1.m1.7.7.2.4"><ci id="S3.E1X.2.1.1.m1.6.6.1.1.cmml" xref="S3.E1X.2.1.1.m1.6.6.1.1">𝑡</ci><cn id="S3.E1X.2.1.1.m1.7.7.2.2.cmml" type="integer" xref="S3.E1X.2.1.1.m1.7.7.2.2">2</cn></list></apply><ci id="S3.E1X.2.1.1.m1.10.10.cmml" xref="S3.E1X.2.1.1.m1.10.10">𝑖</ci></apply></apply><apply id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3"><minus id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.1.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.1"></minus><cn id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.2.cmml" type="integer" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.2">1</cn><ci id="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.3.cmml" xref="S3.E1X.2.1.1.m1.11.11.1.1.2.2.2.3.3">𝛼</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1X.2.1.1.m1.11c">\displaystyle g(n)=\sum_{i\in\{an(n),n\}}(1-g_{t,1}(i))^{\alpha}\cdot(1-g_{t,2%
}(i))^{1-\alpha},</annotation><annotation encoding="application/x-llamapun" id="S3.E1X.2.1.1.m1.11d">italic_g ( italic_n ) = ∑ start_POSTSUBSCRIPT italic_i ∈ { italic_a italic_n ( italic_n ) , italic_n } end_POSTSUBSCRIPT ( 1 - italic_g start_POSTSUBSCRIPT italic_t , 1 end_POSTSUBSCRIPT ( italic_i ) ) start_POSTSUPERSCRIPT italic_α end_POSTSUPERSCRIPT ⋅ ( 1 - italic_g start_POSTSUBSCRIPT italic_t , 2 end_POSTSUBSCRIPT ( italic_i ) ) start_POSTSUPERSCRIPT 1 - italic_α end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(1)</span></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.10">where <math alttext="\alpha" class="ltx_Math" display="inline" id="S3.SS2.p1.10.m1.1"><semantics id="S3.SS2.p1.10.m1.1a"><mi id="S3.SS2.p1.10.m1.1.1" xref="S3.SS2.p1.10.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m1.1b"><ci id="S3.SS2.p1.10.m1.1.1.cmml" xref="S3.SS2.p1.10.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.10.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.10.m1.1d">italic_α</annotation></semantics></math> is a weight parameter for the geometric mean.
</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.8"><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.1">Task-Specific Heuristic Function <math alttext="g_{t,1}(n)" class="ltx_Math" display="inline" id="S3.SS2.p2.1.1.m1.3"><semantics id="S3.SS2.p2.1.1.m1.3a"><mrow id="S3.SS2.p2.1.1.m1.3.4" xref="S3.SS2.p2.1.1.m1.3.4.cmml"><msub id="S3.SS2.p2.1.1.m1.3.4.2" xref="S3.SS2.p2.1.1.m1.3.4.2.cmml"><mi id="S3.SS2.p2.1.1.m1.3.4.2.2" xref="S3.SS2.p2.1.1.m1.3.4.2.2.cmml">g</mi><mrow id="S3.SS2.p2.1.1.m1.2.2.2.4" xref="S3.SS2.p2.1.1.m1.2.2.2.3.cmml"><mi id="S3.SS2.p2.1.1.m1.1.1.1.1" xref="S3.SS2.p2.1.1.m1.1.1.1.1.cmml">t</mi><mo id="S3.SS2.p2.1.1.m1.2.2.2.4.1" mathvariant="normal" xref="S3.SS2.p2.1.1.m1.2.2.2.3.cmml">,</mo><mn id="S3.SS2.p2.1.1.m1.2.2.2.2" mathvariant="normal" xref="S3.SS2.p2.1.1.m1.2.2.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS2.p2.1.1.m1.3.4.1" mathvariant="bold" xref="S3.SS2.p2.1.1.m1.3.4.1.cmml">⁢</mo><mrow id="S3.SS2.p2.1.1.m1.3.4.3.2" xref="S3.SS2.p2.1.1.m1.3.4.cmml"><mo id="S3.SS2.p2.1.1.m1.3.4.3.2.1" mathvariant="normal" stretchy="false" xref="S3.SS2.p2.1.1.m1.3.4.cmml">(</mo><mi id="S3.SS2.p2.1.1.m1.3.3" xref="S3.SS2.p2.1.1.m1.3.3.cmml">n</mi><mo id="S3.SS2.p2.1.1.m1.3.4.3.2.2" mathvariant="normal" stretchy="false" xref="S3.SS2.p2.1.1.m1.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.1.m1.3b"><apply id="S3.SS2.p2.1.1.m1.3.4.cmml" xref="S3.SS2.p2.1.1.m1.3.4"><times id="S3.SS2.p2.1.1.m1.3.4.1.cmml" xref="S3.SS2.p2.1.1.m1.3.4.1"></times><apply id="S3.SS2.p2.1.1.m1.3.4.2.cmml" xref="S3.SS2.p2.1.1.m1.3.4.2"><csymbol cd="ambiguous" id="S3.SS2.p2.1.1.m1.3.4.2.1.cmml" xref="S3.SS2.p2.1.1.m1.3.4.2">subscript</csymbol><ci id="S3.SS2.p2.1.1.m1.3.4.2.2.cmml" xref="S3.SS2.p2.1.1.m1.3.4.2.2">𝑔</ci><list id="S3.SS2.p2.1.1.m1.2.2.2.3.cmml" xref="S3.SS2.p2.1.1.m1.2.2.2.4"><ci id="S3.SS2.p2.1.1.m1.1.1.1.1.cmml" xref="S3.SS2.p2.1.1.m1.1.1.1.1">𝑡</ci><cn id="S3.SS2.p2.1.1.m1.2.2.2.2.cmml" type="integer" xref="S3.SS2.p2.1.1.m1.2.2.2.2">1</cn></list></apply><ci id="S3.SS2.p2.1.1.m1.3.3.cmml" xref="S3.SS2.p2.1.1.m1.3.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.1.m1.3c">g_{t,1}(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.1.m1.3d">italic_g start_POSTSUBSCRIPT italic_t , 1 end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math>.</span>
We can also maintain a long-term memory with successful experiences and compute a heuristic score accordingly.
The long-term memory starts from a seed set of demonstration examples provided in a specific dataset and is iteratively extended with successful plans during evaluation.
Each example within the long-term memory is represented as a plan <math alttext="m_{j}=(s_{j,0},a_{j,1},a_{j,2},\cdots,a_{j,T_{j}})\in\mathcal{M}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m1.13"><semantics id="S3.SS2.p2.2.m1.13a"><mrow id="S3.SS2.p2.2.m1.13.13" xref="S3.SS2.p2.2.m1.13.13.cmml"><msub id="S3.SS2.p2.2.m1.13.13.6" xref="S3.SS2.p2.2.m1.13.13.6.cmml"><mi id="S3.SS2.p2.2.m1.13.13.6.2" xref="S3.SS2.p2.2.m1.13.13.6.2.cmml">m</mi><mi id="S3.SS2.p2.2.m1.13.13.6.3" xref="S3.SS2.p2.2.m1.13.13.6.3.cmml">j</mi></msub><mo id="S3.SS2.p2.2.m1.13.13.7" xref="S3.SS2.p2.2.m1.13.13.7.cmml">=</mo><mrow id="S3.SS2.p2.2.m1.13.13.4.4" xref="S3.SS2.p2.2.m1.13.13.4.5.cmml"><mo id="S3.SS2.p2.2.m1.13.13.4.4.5" stretchy="false" xref="S3.SS2.p2.2.m1.13.13.4.5.cmml">(</mo><msub id="S3.SS2.p2.2.m1.10.10.1.1.1" xref="S3.SS2.p2.2.m1.10.10.1.1.1.cmml"><mi id="S3.SS2.p2.2.m1.10.10.1.1.1.2" xref="S3.SS2.p2.2.m1.10.10.1.1.1.2.cmml">s</mi><mrow id="S3.SS2.p2.2.m1.2.2.2.4" xref="S3.SS2.p2.2.m1.2.2.2.3.cmml"><mi id="S3.SS2.p2.2.m1.1.1.1.1" xref="S3.SS2.p2.2.m1.1.1.1.1.cmml">j</mi><mo id="S3.SS2.p2.2.m1.2.2.2.4.1" xref="S3.SS2.p2.2.m1.2.2.2.3.cmml">,</mo><mn id="S3.SS2.p2.2.m1.2.2.2.2" xref="S3.SS2.p2.2.m1.2.2.2.2.cmml">0</mn></mrow></msub><mo id="S3.SS2.p2.2.m1.13.13.4.4.6" xref="S3.SS2.p2.2.m1.13.13.4.5.cmml">,</mo><msub id="S3.SS2.p2.2.m1.11.11.2.2.2" xref="S3.SS2.p2.2.m1.11.11.2.2.2.cmml"><mi id="S3.SS2.p2.2.m1.11.11.2.2.2.2" xref="S3.SS2.p2.2.m1.11.11.2.2.2.2.cmml">a</mi><mrow id="S3.SS2.p2.2.m1.4.4.2.4" xref="S3.SS2.p2.2.m1.4.4.2.3.cmml"><mi id="S3.SS2.p2.2.m1.3.3.1.1" xref="S3.SS2.p2.2.m1.3.3.1.1.cmml">j</mi><mo id="S3.SS2.p2.2.m1.4.4.2.4.1" xref="S3.SS2.p2.2.m1.4.4.2.3.cmml">,</mo><mn id="S3.SS2.p2.2.m1.4.4.2.2" xref="S3.SS2.p2.2.m1.4.4.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS2.p2.2.m1.13.13.4.4.7" xref="S3.SS2.p2.2.m1.13.13.4.5.cmml">,</mo><msub id="S3.SS2.p2.2.m1.12.12.3.3.3" xref="S3.SS2.p2.2.m1.12.12.3.3.3.cmml"><mi id="S3.SS2.p2.2.m1.12.12.3.3.3.2" xref="S3.SS2.p2.2.m1.12.12.3.3.3.2.cmml">a</mi><mrow id="S3.SS2.p2.2.m1.6.6.2.4" xref="S3.SS2.p2.2.m1.6.6.2.3.cmml"><mi id="S3.SS2.p2.2.m1.5.5.1.1" xref="S3.SS2.p2.2.m1.5.5.1.1.cmml">j</mi><mo id="S3.SS2.p2.2.m1.6.6.2.4.1" xref="S3.SS2.p2.2.m1.6.6.2.3.cmml">,</mo><mn id="S3.SS2.p2.2.m1.6.6.2.2" xref="S3.SS2.p2.2.m1.6.6.2.2.cmml">2</mn></mrow></msub><mo id="S3.SS2.p2.2.m1.13.13.4.4.8" xref="S3.SS2.p2.2.m1.13.13.4.5.cmml">,</mo><mi id="S3.SS2.p2.2.m1.9.9" mathvariant="normal" xref="S3.SS2.p2.2.m1.9.9.cmml">⋯</mi><mo id="S3.SS2.p2.2.m1.13.13.4.4.9" xref="S3.SS2.p2.2.m1.13.13.4.5.cmml">,</mo><msub id="S3.SS2.p2.2.m1.13.13.4.4.4" xref="S3.SS2.p2.2.m1.13.13.4.4.4.cmml"><mi id="S3.SS2.p2.2.m1.13.13.4.4.4.2" xref="S3.SS2.p2.2.m1.13.13.4.4.4.2.cmml">a</mi><mrow id="S3.SS2.p2.2.m1.8.8.2.2" xref="S3.SS2.p2.2.m1.8.8.2.3.cmml"><mi id="S3.SS2.p2.2.m1.7.7.1.1" xref="S3.SS2.p2.2.m1.7.7.1.1.cmml">j</mi><mo id="S3.SS2.p2.2.m1.8.8.2.2.2" xref="S3.SS2.p2.2.m1.8.8.2.3.cmml">,</mo><msub id="S3.SS2.p2.2.m1.8.8.2.2.1" xref="S3.SS2.p2.2.m1.8.8.2.2.1.cmml"><mi id="S3.SS2.p2.2.m1.8.8.2.2.1.2" xref="S3.SS2.p2.2.m1.8.8.2.2.1.2.cmml">T</mi><mi id="S3.SS2.p2.2.m1.8.8.2.2.1.3" xref="S3.SS2.p2.2.m1.8.8.2.2.1.3.cmml">j</mi></msub></mrow></msub><mo id="S3.SS2.p2.2.m1.13.13.4.4.10" stretchy="false" xref="S3.SS2.p2.2.m1.13.13.4.5.cmml">)</mo></mrow><mo id="S3.SS2.p2.2.m1.13.13.8" xref="S3.SS2.p2.2.m1.13.13.8.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.2.m1.13.13.9" xref="S3.SS2.p2.2.m1.13.13.9.cmml">ℳ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m1.13b"><apply id="S3.SS2.p2.2.m1.13.13.cmml" xref="S3.SS2.p2.2.m1.13.13"><and id="S3.SS2.p2.2.m1.13.13a.cmml" xref="S3.SS2.p2.2.m1.13.13"></and><apply id="S3.SS2.p2.2.m1.13.13b.cmml" xref="S3.SS2.p2.2.m1.13.13"><eq id="S3.SS2.p2.2.m1.13.13.7.cmml" xref="S3.SS2.p2.2.m1.13.13.7"></eq><apply id="S3.SS2.p2.2.m1.13.13.6.cmml" xref="S3.SS2.p2.2.m1.13.13.6"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m1.13.13.6.1.cmml" xref="S3.SS2.p2.2.m1.13.13.6">subscript</csymbol><ci id="S3.SS2.p2.2.m1.13.13.6.2.cmml" xref="S3.SS2.p2.2.m1.13.13.6.2">𝑚</ci><ci id="S3.SS2.p2.2.m1.13.13.6.3.cmml" xref="S3.SS2.p2.2.m1.13.13.6.3">𝑗</ci></apply><vector id="S3.SS2.p2.2.m1.13.13.4.5.cmml" xref="S3.SS2.p2.2.m1.13.13.4.4"><apply id="S3.SS2.p2.2.m1.10.10.1.1.1.cmml" xref="S3.SS2.p2.2.m1.10.10.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m1.10.10.1.1.1.1.cmml" xref="S3.SS2.p2.2.m1.10.10.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m1.10.10.1.1.1.2.cmml" xref="S3.SS2.p2.2.m1.10.10.1.1.1.2">𝑠</ci><list id="S3.SS2.p2.2.m1.2.2.2.3.cmml" xref="S3.SS2.p2.2.m1.2.2.2.4"><ci id="S3.SS2.p2.2.m1.1.1.1.1.cmml" xref="S3.SS2.p2.2.m1.1.1.1.1">𝑗</ci><cn id="S3.SS2.p2.2.m1.2.2.2.2.cmml" type="integer" xref="S3.SS2.p2.2.m1.2.2.2.2">0</cn></list></apply><apply id="S3.SS2.p2.2.m1.11.11.2.2.2.cmml" xref="S3.SS2.p2.2.m1.11.11.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m1.11.11.2.2.2.1.cmml" xref="S3.SS2.p2.2.m1.11.11.2.2.2">subscript</csymbol><ci id="S3.SS2.p2.2.m1.11.11.2.2.2.2.cmml" xref="S3.SS2.p2.2.m1.11.11.2.2.2.2">𝑎</ci><list id="S3.SS2.p2.2.m1.4.4.2.3.cmml" xref="S3.SS2.p2.2.m1.4.4.2.4"><ci id="S3.SS2.p2.2.m1.3.3.1.1.cmml" xref="S3.SS2.p2.2.m1.3.3.1.1">𝑗</ci><cn id="S3.SS2.p2.2.m1.4.4.2.2.cmml" type="integer" xref="S3.SS2.p2.2.m1.4.4.2.2">1</cn></list></apply><apply id="S3.SS2.p2.2.m1.12.12.3.3.3.cmml" xref="S3.SS2.p2.2.m1.12.12.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m1.12.12.3.3.3.1.cmml" xref="S3.SS2.p2.2.m1.12.12.3.3.3">subscript</csymbol><ci id="S3.SS2.p2.2.m1.12.12.3.3.3.2.cmml" xref="S3.SS2.p2.2.m1.12.12.3.3.3.2">𝑎</ci><list id="S3.SS2.p2.2.m1.6.6.2.3.cmml" xref="S3.SS2.p2.2.m1.6.6.2.4"><ci id="S3.SS2.p2.2.m1.5.5.1.1.cmml" xref="S3.SS2.p2.2.m1.5.5.1.1">𝑗</ci><cn id="S3.SS2.p2.2.m1.6.6.2.2.cmml" type="integer" xref="S3.SS2.p2.2.m1.6.6.2.2">2</cn></list></apply><ci id="S3.SS2.p2.2.m1.9.9.cmml" xref="S3.SS2.p2.2.m1.9.9">⋯</ci><apply id="S3.SS2.p2.2.m1.13.13.4.4.4.cmml" xref="S3.SS2.p2.2.m1.13.13.4.4.4"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m1.13.13.4.4.4.1.cmml" xref="S3.SS2.p2.2.m1.13.13.4.4.4">subscript</csymbol><ci id="S3.SS2.p2.2.m1.13.13.4.4.4.2.cmml" xref="S3.SS2.p2.2.m1.13.13.4.4.4.2">𝑎</ci><list id="S3.SS2.p2.2.m1.8.8.2.3.cmml" xref="S3.SS2.p2.2.m1.8.8.2.2"><ci id="S3.SS2.p2.2.m1.7.7.1.1.cmml" xref="S3.SS2.p2.2.m1.7.7.1.1">𝑗</ci><apply id="S3.SS2.p2.2.m1.8.8.2.2.1.cmml" xref="S3.SS2.p2.2.m1.8.8.2.2.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m1.8.8.2.2.1.1.cmml" xref="S3.SS2.p2.2.m1.8.8.2.2.1">subscript</csymbol><ci id="S3.SS2.p2.2.m1.8.8.2.2.1.2.cmml" xref="S3.SS2.p2.2.m1.8.8.2.2.1.2">𝑇</ci><ci id="S3.SS2.p2.2.m1.8.8.2.2.1.3.cmml" xref="S3.SS2.p2.2.m1.8.8.2.2.1.3">𝑗</ci></apply></list></apply></vector></apply><apply id="S3.SS2.p2.2.m1.13.13c.cmml" xref="S3.SS2.p2.2.m1.13.13"><in id="S3.SS2.p2.2.m1.13.13.8.cmml" xref="S3.SS2.p2.2.m1.13.13.8"></in><share href="#S3.SS2.p2.2.m1.13.13.4.cmml" id="S3.SS2.p2.2.m1.13.13d.cmml" xref="S3.SS2.p2.2.m1.13.13"></share><ci id="S3.SS2.p2.2.m1.13.13.9.cmml" xref="S3.SS2.p2.2.m1.13.13.9">ℳ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m1.13c">m_{j}=(s_{j,0},a_{j,1},a_{j,2},\cdots,a_{j,T_{j}})\in\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m1.13d">italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT = ( italic_s start_POSTSUBSCRIPT italic_j , 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_j , 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_j , 2 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_j , italic_T start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ∈ caligraphic_M</annotation></semantics></math>. The number of actions <math alttext="T_{j}" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m2.1"><semantics id="S3.SS2.p2.3.m2.1a"><msub id="S3.SS2.p2.3.m2.1.1" xref="S3.SS2.p2.3.m2.1.1.cmml"><mi id="S3.SS2.p2.3.m2.1.1.2" xref="S3.SS2.p2.3.m2.1.1.2.cmml">T</mi><mi id="S3.SS2.p2.3.m2.1.1.3" xref="S3.SS2.p2.3.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m2.1b"><apply id="S3.SS2.p2.3.m2.1.1.cmml" xref="S3.SS2.p2.3.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m2.1.1.1.cmml" xref="S3.SS2.p2.3.m2.1.1">subscript</csymbol><ci id="S3.SS2.p2.3.m2.1.1.2.cmml" xref="S3.SS2.p2.3.m2.1.1.2">𝑇</ci><ci id="S3.SS2.p2.3.m2.1.1.3.cmml" xref="S3.SS2.p2.3.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m2.1c">T_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m2.1d">italic_T start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> in the plan varies case-by-case.
To leverage the successful experiences for evaluating the current plan, we compute the longest common sub-sequence (LCS) score between the current generated plan <math alttext="s_{n}" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m3.1"><semantics id="S3.SS2.p2.4.m3.1a"><msub id="S3.SS2.p2.4.m3.1.1" xref="S3.SS2.p2.4.m3.1.1.cmml"><mi id="S3.SS2.p2.4.m3.1.1.2" xref="S3.SS2.p2.4.m3.1.1.2.cmml">s</mi><mi id="S3.SS2.p2.4.m3.1.1.3" xref="S3.SS2.p2.4.m3.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m3.1b"><apply id="S3.SS2.p2.4.m3.1.1.cmml" xref="S3.SS2.p2.4.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m3.1.1.1.cmml" xref="S3.SS2.p2.4.m3.1.1">subscript</csymbol><ci id="S3.SS2.p2.4.m3.1.1.2.cmml" xref="S3.SS2.p2.4.m3.1.1.2">𝑠</ci><ci id="S3.SS2.p2.4.m3.1.1.3.cmml" xref="S3.SS2.p2.4.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m3.1c">s_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m3.1d">italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> and each plan <math alttext="m_{j}" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m4.1"><semantics id="S3.SS2.p2.5.m4.1a"><msub id="S3.SS2.p2.5.m4.1.1" xref="S3.SS2.p2.5.m4.1.1.cmml"><mi id="S3.SS2.p2.5.m4.1.1.2" xref="S3.SS2.p2.5.m4.1.1.2.cmml">m</mi><mi id="S3.SS2.p2.5.m4.1.1.3" xref="S3.SS2.p2.5.m4.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m4.1b"><apply id="S3.SS2.p2.5.m4.1.1.cmml" xref="S3.SS2.p2.5.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m4.1.1.1.cmml" xref="S3.SS2.p2.5.m4.1.1">subscript</csymbol><ci id="S3.SS2.p2.5.m4.1.1.2.cmml" xref="S3.SS2.p2.5.m4.1.1.2">𝑚</ci><ci id="S3.SS2.p2.5.m4.1.1.3.cmml" xref="S3.SS2.p2.5.m4.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m4.1c">m_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m4.1d">italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> in the long-term memory <math alttext="\operatorname{LCS\_score}(s_{n},m_{j})=\frac{\operatorname{LCS}(s_{n},m_{j})}{%
\min(L(s_{n}),L(m_{j}))}" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m5.9"><semantics id="S3.SS2.p2.6.m5.9a"><mrow id="S3.SS2.p2.6.m5.9.9" xref="S3.SS2.p2.6.m5.9.9.cmml"><mrow id="S3.SS2.p2.6.m5.9.9.2.2" xref="S3.SS2.p2.6.m5.9.9.2.3.cmml"><mrow id="S3.SS2.p2.6.m5.7.7" xref="S3.SS2.p2.6.m5.7.7.cmml"><mi id="S3.SS2.p2.6.m5.7.7.2" xref="S3.SS2.p2.6.m5.7.7.2.cmml">LCS</mi><mo id="S3.SS2.p2.6.m5.7.7.1" xref="S3.SS2.p2.6.m5.7.7.1.cmml">⁢</mo><mi id="S3.SS2.p2.6.m5.7.7.3" mathvariant="normal" xref="S3.SS2.p2.6.m5.7.7.3.cmml">_</mi><mo id="S3.SS2.p2.6.m5.7.7.1a" xref="S3.SS2.p2.6.m5.7.7.1.cmml">⁢</mo><mi id="S3.SS2.p2.6.m5.7.7.4" xref="S3.SS2.p2.6.m5.7.7.4.cmml">score</mi></mrow><mo id="S3.SS2.p2.6.m5.9.9.2.2a" xref="S3.SS2.p2.6.m5.9.9.2.3.cmml">⁡</mo><mrow id="S3.SS2.p2.6.m5.9.9.2.2.2" xref="S3.SS2.p2.6.m5.9.9.2.3.cmml"><mo id="S3.SS2.p2.6.m5.9.9.2.2.2.3" stretchy="false" xref="S3.SS2.p2.6.m5.9.9.2.3.cmml">(</mo><msub id="S3.SS2.p2.6.m5.8.8.1.1.1.1" xref="S3.SS2.p2.6.m5.8.8.1.1.1.1.cmml"><mi id="S3.SS2.p2.6.m5.8.8.1.1.1.1.2" xref="S3.SS2.p2.6.m5.8.8.1.1.1.1.2.cmml">s</mi><mi id="S3.SS2.p2.6.m5.8.8.1.1.1.1.3" xref="S3.SS2.p2.6.m5.8.8.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.SS2.p2.6.m5.9.9.2.2.2.4" xref="S3.SS2.p2.6.m5.9.9.2.3.cmml">,</mo><msub id="S3.SS2.p2.6.m5.9.9.2.2.2.2" xref="S3.SS2.p2.6.m5.9.9.2.2.2.2.cmml"><mi id="S3.SS2.p2.6.m5.9.9.2.2.2.2.2" xref="S3.SS2.p2.6.m5.9.9.2.2.2.2.2.cmml">m</mi><mi id="S3.SS2.p2.6.m5.9.9.2.2.2.2.3" xref="S3.SS2.p2.6.m5.9.9.2.2.2.2.3.cmml">j</mi></msub><mo id="S3.SS2.p2.6.m5.9.9.2.2.2.5" stretchy="false" xref="S3.SS2.p2.6.m5.9.9.2.3.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p2.6.m5.9.9.3" xref="S3.SS2.p2.6.m5.9.9.3.cmml">=</mo><mfrac id="S3.SS2.p2.6.m5.6.6" xref="S3.SS2.p2.6.m5.6.6.cmml"><mrow id="S3.SS2.p2.6.m5.3.3.3.3" xref="S3.SS2.p2.6.m5.3.3.3.4.cmml"><mi id="S3.SS2.p2.6.m5.1.1.1.1" xref="S3.SS2.p2.6.m5.1.1.1.1.cmml">LCS</mi><mo id="S3.SS2.p2.6.m5.3.3.3.3a" xref="S3.SS2.p2.6.m5.3.3.3.4.cmml">⁡</mo><mrow id="S3.SS2.p2.6.m5.3.3.3.3.2" xref="S3.SS2.p2.6.m5.3.3.3.4.cmml"><mo id="S3.SS2.p2.6.m5.3.3.3.3.2.3" stretchy="false" xref="S3.SS2.p2.6.m5.3.3.3.4.cmml">(</mo><msub id="S3.SS2.p2.6.m5.2.2.2.2.1.1" xref="S3.SS2.p2.6.m5.2.2.2.2.1.1.cmml"><mi id="S3.SS2.p2.6.m5.2.2.2.2.1.1.2" xref="S3.SS2.p2.6.m5.2.2.2.2.1.1.2.cmml">s</mi><mi id="S3.SS2.p2.6.m5.2.2.2.2.1.1.3" xref="S3.SS2.p2.6.m5.2.2.2.2.1.1.3.cmml">n</mi></msub><mo id="S3.SS2.p2.6.m5.3.3.3.3.2.4" xref="S3.SS2.p2.6.m5.3.3.3.4.cmml">,</mo><msub id="S3.SS2.p2.6.m5.3.3.3.3.2.2" xref="S3.SS2.p2.6.m5.3.3.3.3.2.2.cmml"><mi id="S3.SS2.p2.6.m5.3.3.3.3.2.2.2" xref="S3.SS2.p2.6.m5.3.3.3.3.2.2.2.cmml">m</mi><mi id="S3.SS2.p2.6.m5.3.3.3.3.2.2.3" xref="S3.SS2.p2.6.m5.3.3.3.3.2.2.3.cmml">j</mi></msub><mo id="S3.SS2.p2.6.m5.3.3.3.3.2.5" stretchy="false" xref="S3.SS2.p2.6.m5.3.3.3.4.cmml">)</mo></mrow></mrow><mrow id="S3.SS2.p2.6.m5.6.6.6.3" xref="S3.SS2.p2.6.m5.6.6.6.4.cmml"><mi id="S3.SS2.p2.6.m5.4.4.4.1" xref="S3.SS2.p2.6.m5.4.4.4.1.cmml">min</mi><mo id="S3.SS2.p2.6.m5.6.6.6.3a" xref="S3.SS2.p2.6.m5.6.6.6.4.cmml">⁡</mo><mrow id="S3.SS2.p2.6.m5.6.6.6.3.2" xref="S3.SS2.p2.6.m5.6.6.6.4.cmml"><mo id="S3.SS2.p2.6.m5.6.6.6.3.2.3" stretchy="false" xref="S3.SS2.p2.6.m5.6.6.6.4.cmml">(</mo><mrow id="S3.SS2.p2.6.m5.5.5.5.2.1.1" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.cmml"><mi id="S3.SS2.p2.6.m5.5.5.5.2.1.1.3" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.3.cmml">L</mi><mo id="S3.SS2.p2.6.m5.5.5.5.2.1.1.2" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.cmml"><mo id="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.2" stretchy="false" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.cmml">(</mo><msub id="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.cmml"><mi id="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.2" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.2.cmml">s</mi><mi id="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.3" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.3" stretchy="false" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p2.6.m5.6.6.6.3.2.4" xref="S3.SS2.p2.6.m5.6.6.6.4.cmml">,</mo><mrow id="S3.SS2.p2.6.m5.6.6.6.3.2.2" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.cmml"><mi id="S3.SS2.p2.6.m5.6.6.6.3.2.2.3" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.3.cmml">L</mi><mo id="S3.SS2.p2.6.m5.6.6.6.3.2.2.2" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.2.cmml">⁢</mo><mrow id="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.cmml"><mo id="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.2" stretchy="false" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.cmml">(</mo><msub id="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.cmml"><mi id="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.2" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.2.cmml">m</mi><mi id="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.3" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.3.cmml">j</mi></msub><mo id="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.3" stretchy="false" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p2.6.m5.6.6.6.3.2.5" stretchy="false" xref="S3.SS2.p2.6.m5.6.6.6.4.cmml">)</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m5.9b"><apply id="S3.SS2.p2.6.m5.9.9.cmml" xref="S3.SS2.p2.6.m5.9.9"><eq id="S3.SS2.p2.6.m5.9.9.3.cmml" xref="S3.SS2.p2.6.m5.9.9.3"></eq><apply id="S3.SS2.p2.6.m5.9.9.2.3.cmml" xref="S3.SS2.p2.6.m5.9.9.2.2"><apply id="S3.SS2.p2.6.m5.7.7.cmml" xref="S3.SS2.p2.6.m5.7.7"><times id="S3.SS2.p2.6.m5.7.7.1.cmml" xref="S3.SS2.p2.6.m5.7.7.1"></times><ci id="S3.SS2.p2.6.m5.7.7.2.cmml" xref="S3.SS2.p2.6.m5.7.7.2">LCS</ci><ci id="S3.SS2.p2.6.m5.7.7.3.cmml" xref="S3.SS2.p2.6.m5.7.7.3">_</ci><ci id="S3.SS2.p2.6.m5.7.7.4.cmml" xref="S3.SS2.p2.6.m5.7.7.4">score</ci></apply><apply id="S3.SS2.p2.6.m5.8.8.1.1.1.1.cmml" xref="S3.SS2.p2.6.m5.8.8.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m5.8.8.1.1.1.1.1.cmml" xref="S3.SS2.p2.6.m5.8.8.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.6.m5.8.8.1.1.1.1.2.cmml" xref="S3.SS2.p2.6.m5.8.8.1.1.1.1.2">𝑠</ci><ci id="S3.SS2.p2.6.m5.8.8.1.1.1.1.3.cmml" xref="S3.SS2.p2.6.m5.8.8.1.1.1.1.3">𝑛</ci></apply><apply id="S3.SS2.p2.6.m5.9.9.2.2.2.2.cmml" xref="S3.SS2.p2.6.m5.9.9.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m5.9.9.2.2.2.2.1.cmml" xref="S3.SS2.p2.6.m5.9.9.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p2.6.m5.9.9.2.2.2.2.2.cmml" xref="S3.SS2.p2.6.m5.9.9.2.2.2.2.2">𝑚</ci><ci id="S3.SS2.p2.6.m5.9.9.2.2.2.2.3.cmml" xref="S3.SS2.p2.6.m5.9.9.2.2.2.2.3">𝑗</ci></apply></apply><apply id="S3.SS2.p2.6.m5.6.6.cmml" xref="S3.SS2.p2.6.m5.6.6"><divide id="S3.SS2.p2.6.m5.6.6.7.cmml" xref="S3.SS2.p2.6.m5.6.6"></divide><apply id="S3.SS2.p2.6.m5.3.3.3.4.cmml" xref="S3.SS2.p2.6.m5.3.3.3.3"><ci id="S3.SS2.p2.6.m5.1.1.1.1.cmml" xref="S3.SS2.p2.6.m5.1.1.1.1">LCS</ci><apply id="S3.SS2.p2.6.m5.2.2.2.2.1.1.cmml" xref="S3.SS2.p2.6.m5.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m5.2.2.2.2.1.1.1.cmml" xref="S3.SS2.p2.6.m5.2.2.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p2.6.m5.2.2.2.2.1.1.2.cmml" xref="S3.SS2.p2.6.m5.2.2.2.2.1.1.2">𝑠</ci><ci id="S3.SS2.p2.6.m5.2.2.2.2.1.1.3.cmml" xref="S3.SS2.p2.6.m5.2.2.2.2.1.1.3">𝑛</ci></apply><apply id="S3.SS2.p2.6.m5.3.3.3.3.2.2.cmml" xref="S3.SS2.p2.6.m5.3.3.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m5.3.3.3.3.2.2.1.cmml" xref="S3.SS2.p2.6.m5.3.3.3.3.2.2">subscript</csymbol><ci id="S3.SS2.p2.6.m5.3.3.3.3.2.2.2.cmml" xref="S3.SS2.p2.6.m5.3.3.3.3.2.2.2">𝑚</ci><ci id="S3.SS2.p2.6.m5.3.3.3.3.2.2.3.cmml" xref="S3.SS2.p2.6.m5.3.3.3.3.2.2.3">𝑗</ci></apply></apply><apply id="S3.SS2.p2.6.m5.6.6.6.4.cmml" xref="S3.SS2.p2.6.m5.6.6.6.3"><min id="S3.SS2.p2.6.m5.4.4.4.1.cmml" xref="S3.SS2.p2.6.m5.4.4.4.1"></min><apply id="S3.SS2.p2.6.m5.5.5.5.2.1.1.cmml" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1"><times id="S3.SS2.p2.6.m5.5.5.5.2.1.1.2.cmml" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.2"></times><ci id="S3.SS2.p2.6.m5.5.5.5.2.1.1.3.cmml" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.3">𝐿</ci><apply id="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.cmml" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.2.cmml" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.2">𝑠</ci><ci id="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.3.cmml" xref="S3.SS2.p2.6.m5.5.5.5.2.1.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.SS2.p2.6.m5.6.6.6.3.2.2.cmml" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2"><times id="S3.SS2.p2.6.m5.6.6.6.3.2.2.2.cmml" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.2"></times><ci id="S3.SS2.p2.6.m5.6.6.6.3.2.2.3.cmml" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.3">𝐿</ci><apply id="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.cmml" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.1.cmml" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.2.cmml" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.2">𝑚</ci><ci id="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.3.cmml" xref="S3.SS2.p2.6.m5.6.6.6.3.2.2.1.1.1.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m5.9c">\operatorname{LCS\_score}(s_{n},m_{j})=\frac{\operatorname{LCS}(s_{n},m_{j})}{%
\min(L(s_{n}),L(m_{j}))}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m5.9d">start_OPFUNCTION roman_LCS _ roman_score end_OPFUNCTION ( italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) = divide start_ARG roman_LCS ( italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) end_ARG start_ARG roman_min ( italic_L ( italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) , italic_L ( italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ) end_ARG</annotation></semantics></math>, where <math alttext="L(\cdot)" class="ltx_Math" display="inline" id="S3.SS2.p2.7.m6.1"><semantics id="S3.SS2.p2.7.m6.1a"><mrow id="S3.SS2.p2.7.m6.1.2" xref="S3.SS2.p2.7.m6.1.2.cmml"><mi id="S3.SS2.p2.7.m6.1.2.2" xref="S3.SS2.p2.7.m6.1.2.2.cmml">L</mi><mo id="S3.SS2.p2.7.m6.1.2.1" xref="S3.SS2.p2.7.m6.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p2.7.m6.1.2.3.2" xref="S3.SS2.p2.7.m6.1.2.cmml"><mo id="S3.SS2.p2.7.m6.1.2.3.2.1" stretchy="false" xref="S3.SS2.p2.7.m6.1.2.cmml">(</mo><mo id="S3.SS2.p2.7.m6.1.1" lspace="0em" rspace="0em" xref="S3.SS2.p2.7.m6.1.1.cmml">⋅</mo><mo id="S3.SS2.p2.7.m6.1.2.3.2.2" stretchy="false" xref="S3.SS2.p2.7.m6.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m6.1b"><apply id="S3.SS2.p2.7.m6.1.2.cmml" xref="S3.SS2.p2.7.m6.1.2"><times id="S3.SS2.p2.7.m6.1.2.1.cmml" xref="S3.SS2.p2.7.m6.1.2.1"></times><ci id="S3.SS2.p2.7.m6.1.2.2.cmml" xref="S3.SS2.p2.7.m6.1.2.2">𝐿</ci><ci id="S3.SS2.p2.7.m6.1.1.cmml" xref="S3.SS2.p2.7.m6.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m6.1c">L(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.7.m6.1d">italic_L ( ⋅ )</annotation></semantics></math> indicates the length of the plan.
Following this, we compute the cumulative functions as the highest LCS score <math alttext="g_{t,1}(n)=\max_{m_{j}\in\mathcal{M}}\operatorname{LCS\_score}(s_{n},m_{j})" class="ltx_Math" display="inline" id="S3.SS2.p2.8.m7.6"><semantics id="S3.SS2.p2.8.m7.6a"><mrow id="S3.SS2.p2.8.m7.6.6" xref="S3.SS2.p2.8.m7.6.6.cmml"><mrow id="S3.SS2.p2.8.m7.6.6.4" xref="S3.SS2.p2.8.m7.6.6.4.cmml"><msub id="S3.SS2.p2.8.m7.6.6.4.2" xref="S3.SS2.p2.8.m7.6.6.4.2.cmml"><mi id="S3.SS2.p2.8.m7.6.6.4.2.2" xref="S3.SS2.p2.8.m7.6.6.4.2.2.cmml">g</mi><mrow id="S3.SS2.p2.8.m7.2.2.2.4" xref="S3.SS2.p2.8.m7.2.2.2.3.cmml"><mi id="S3.SS2.p2.8.m7.1.1.1.1" xref="S3.SS2.p2.8.m7.1.1.1.1.cmml">t</mi><mo id="S3.SS2.p2.8.m7.2.2.2.4.1" xref="S3.SS2.p2.8.m7.2.2.2.3.cmml">,</mo><mn id="S3.SS2.p2.8.m7.2.2.2.2" xref="S3.SS2.p2.8.m7.2.2.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS2.p2.8.m7.6.6.4.1" xref="S3.SS2.p2.8.m7.6.6.4.1.cmml">⁢</mo><mrow id="S3.SS2.p2.8.m7.6.6.4.3.2" xref="S3.SS2.p2.8.m7.6.6.4.cmml"><mo id="S3.SS2.p2.8.m7.6.6.4.3.2.1" stretchy="false" xref="S3.SS2.p2.8.m7.6.6.4.cmml">(</mo><mi id="S3.SS2.p2.8.m7.3.3" xref="S3.SS2.p2.8.m7.3.3.cmml">n</mi><mo id="S3.SS2.p2.8.m7.6.6.4.3.2.2" stretchy="false" xref="S3.SS2.p2.8.m7.6.6.4.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p2.8.m7.6.6.3" xref="S3.SS2.p2.8.m7.6.6.3.cmml">=</mo><mrow id="S3.SS2.p2.8.m7.6.6.2" xref="S3.SS2.p2.8.m7.6.6.2.cmml"><msub id="S3.SS2.p2.8.m7.6.6.2.3" xref="S3.SS2.p2.8.m7.6.6.2.3.cmml"><mi id="S3.SS2.p2.8.m7.6.6.2.3.2" xref="S3.SS2.p2.8.m7.6.6.2.3.2.cmml">max</mi><mrow id="S3.SS2.p2.8.m7.6.6.2.3.3" xref="S3.SS2.p2.8.m7.6.6.2.3.3.cmml"><msub id="S3.SS2.p2.8.m7.6.6.2.3.3.2" xref="S3.SS2.p2.8.m7.6.6.2.3.3.2.cmml"><mi id="S3.SS2.p2.8.m7.6.6.2.3.3.2.2" xref="S3.SS2.p2.8.m7.6.6.2.3.3.2.2.cmml">m</mi><mi id="S3.SS2.p2.8.m7.6.6.2.3.3.2.3" xref="S3.SS2.p2.8.m7.6.6.2.3.3.2.3.cmml">j</mi></msub><mo id="S3.SS2.p2.8.m7.6.6.2.3.3.1" xref="S3.SS2.p2.8.m7.6.6.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.8.m7.6.6.2.3.3.3" xref="S3.SS2.p2.8.m7.6.6.2.3.3.3.cmml">ℳ</mi></mrow></msub><mo id="S3.SS2.p2.8.m7.6.6.2a" lspace="0.167em" xref="S3.SS2.p2.8.m7.6.6.2.cmml">⁡</mo><mrow id="S3.SS2.p2.8.m7.6.6.2.2.2" xref="S3.SS2.p2.8.m7.6.6.2.2.3.cmml"><mrow id="S3.SS2.p2.8.m7.4.4" xref="S3.SS2.p2.8.m7.4.4.cmml"><mi id="S3.SS2.p2.8.m7.4.4.2" xref="S3.SS2.p2.8.m7.4.4.2.cmml">LCS</mi><mo id="S3.SS2.p2.8.m7.4.4.1" xref="S3.SS2.p2.8.m7.4.4.1.cmml">⁢</mo><mi id="S3.SS2.p2.8.m7.4.4.3" mathvariant="normal" xref="S3.SS2.p2.8.m7.4.4.3.cmml">_</mi><mo id="S3.SS2.p2.8.m7.4.4.1a" xref="S3.SS2.p2.8.m7.4.4.1.cmml">⁢</mo><mi id="S3.SS2.p2.8.m7.4.4.4" xref="S3.SS2.p2.8.m7.4.4.4.cmml">score</mi></mrow><mo id="S3.SS2.p2.8.m7.6.6.2.2.2a" xref="S3.SS2.p2.8.m7.6.6.2.2.3.cmml">⁡</mo><mrow id="S3.SS2.p2.8.m7.6.6.2.2.2.2" xref="S3.SS2.p2.8.m7.6.6.2.2.3.cmml"><mo id="S3.SS2.p2.8.m7.6.6.2.2.2.2.3" stretchy="false" xref="S3.SS2.p2.8.m7.6.6.2.2.3.cmml">(</mo><msub id="S3.SS2.p2.8.m7.5.5.1.1.1.1.1" xref="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.cmml"><mi id="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.2" xref="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.2.cmml">s</mi><mi id="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.3" xref="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.SS2.p2.8.m7.6.6.2.2.2.2.4" xref="S3.SS2.p2.8.m7.6.6.2.2.3.cmml">,</mo><msub id="S3.SS2.p2.8.m7.6.6.2.2.2.2.2" xref="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.cmml"><mi id="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.2" xref="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.2.cmml">m</mi><mi id="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.3" xref="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.3.cmml">j</mi></msub><mo id="S3.SS2.p2.8.m7.6.6.2.2.2.2.5" stretchy="false" xref="S3.SS2.p2.8.m7.6.6.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m7.6b"><apply id="S3.SS2.p2.8.m7.6.6.cmml" xref="S3.SS2.p2.8.m7.6.6"><eq id="S3.SS2.p2.8.m7.6.6.3.cmml" xref="S3.SS2.p2.8.m7.6.6.3"></eq><apply id="S3.SS2.p2.8.m7.6.6.4.cmml" xref="S3.SS2.p2.8.m7.6.6.4"><times id="S3.SS2.p2.8.m7.6.6.4.1.cmml" xref="S3.SS2.p2.8.m7.6.6.4.1"></times><apply id="S3.SS2.p2.8.m7.6.6.4.2.cmml" xref="S3.SS2.p2.8.m7.6.6.4.2"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m7.6.6.4.2.1.cmml" xref="S3.SS2.p2.8.m7.6.6.4.2">subscript</csymbol><ci id="S3.SS2.p2.8.m7.6.6.4.2.2.cmml" xref="S3.SS2.p2.8.m7.6.6.4.2.2">𝑔</ci><list id="S3.SS2.p2.8.m7.2.2.2.3.cmml" xref="S3.SS2.p2.8.m7.2.2.2.4"><ci id="S3.SS2.p2.8.m7.1.1.1.1.cmml" xref="S3.SS2.p2.8.m7.1.1.1.1">𝑡</ci><cn id="S3.SS2.p2.8.m7.2.2.2.2.cmml" type="integer" xref="S3.SS2.p2.8.m7.2.2.2.2">1</cn></list></apply><ci id="S3.SS2.p2.8.m7.3.3.cmml" xref="S3.SS2.p2.8.m7.3.3">𝑛</ci></apply><apply id="S3.SS2.p2.8.m7.6.6.2.cmml" xref="S3.SS2.p2.8.m7.6.6.2"><apply id="S3.SS2.p2.8.m7.6.6.2.3.cmml" xref="S3.SS2.p2.8.m7.6.6.2.3"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m7.6.6.2.3.1.cmml" xref="S3.SS2.p2.8.m7.6.6.2.3">subscript</csymbol><max id="S3.SS2.p2.8.m7.6.6.2.3.2.cmml" xref="S3.SS2.p2.8.m7.6.6.2.3.2"></max><apply id="S3.SS2.p2.8.m7.6.6.2.3.3.cmml" xref="S3.SS2.p2.8.m7.6.6.2.3.3"><in id="S3.SS2.p2.8.m7.6.6.2.3.3.1.cmml" xref="S3.SS2.p2.8.m7.6.6.2.3.3.1"></in><apply id="S3.SS2.p2.8.m7.6.6.2.3.3.2.cmml" xref="S3.SS2.p2.8.m7.6.6.2.3.3.2"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m7.6.6.2.3.3.2.1.cmml" xref="S3.SS2.p2.8.m7.6.6.2.3.3.2">subscript</csymbol><ci id="S3.SS2.p2.8.m7.6.6.2.3.3.2.2.cmml" xref="S3.SS2.p2.8.m7.6.6.2.3.3.2.2">𝑚</ci><ci id="S3.SS2.p2.8.m7.6.6.2.3.3.2.3.cmml" xref="S3.SS2.p2.8.m7.6.6.2.3.3.2.3">𝑗</ci></apply><ci id="S3.SS2.p2.8.m7.6.6.2.3.3.3.cmml" xref="S3.SS2.p2.8.m7.6.6.2.3.3.3">ℳ</ci></apply></apply><apply id="S3.SS2.p2.8.m7.6.6.2.2.3.cmml" xref="S3.SS2.p2.8.m7.6.6.2.2.2"><apply id="S3.SS2.p2.8.m7.4.4.cmml" xref="S3.SS2.p2.8.m7.4.4"><times id="S3.SS2.p2.8.m7.4.4.1.cmml" xref="S3.SS2.p2.8.m7.4.4.1"></times><ci id="S3.SS2.p2.8.m7.4.4.2.cmml" xref="S3.SS2.p2.8.m7.4.4.2">LCS</ci><ci id="S3.SS2.p2.8.m7.4.4.3.cmml" xref="S3.SS2.p2.8.m7.4.4.3">_</ci><ci id="S3.SS2.p2.8.m7.4.4.4.cmml" xref="S3.SS2.p2.8.m7.4.4.4">score</ci></apply><apply id="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.cmml" xref="S3.SS2.p2.8.m7.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.8.m7.5.5.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.2.cmml" xref="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.2">𝑠</ci><ci id="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.3.cmml" xref="S3.SS2.p2.8.m7.5.5.1.1.1.1.1.3">𝑛</ci></apply><apply id="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.cmml" xref="S3.SS2.p2.8.m7.6.6.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.1.cmml" xref="S3.SS2.p2.8.m7.6.6.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.2.cmml" xref="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.2">𝑚</ci><ci id="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.3.cmml" xref="S3.SS2.p2.8.m7.6.6.2.2.2.2.2.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m7.6c">g_{t,1}(n)=\max_{m_{j}\in\mathcal{M}}\operatorname{LCS\_score}(s_{n},m_{j})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.8.m7.6d">italic_g start_POSTSUBSCRIPT italic_t , 1 end_POSTSUBSCRIPT ( italic_n ) = roman_max start_POSTSUBSCRIPT italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ caligraphic_M end_POSTSUBSCRIPT start_OPFUNCTION roman_LCS _ roman_score end_OPFUNCTION ( italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math>, measuring the proportion of success in the plan relative to the experiences accumulated in the long-term memory.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.5"><span class="ltx_text ltx_font_bold" id="S3.SS2.p3.1.1">Self-consistency Frequency <math alttext="g_{t,2}(n)" class="ltx_Math" display="inline" id="S3.SS2.p3.1.1.m1.3"><semantics id="S3.SS2.p3.1.1.m1.3a"><mrow id="S3.SS2.p3.1.1.m1.3.4" xref="S3.SS2.p3.1.1.m1.3.4.cmml"><msub id="S3.SS2.p3.1.1.m1.3.4.2" xref="S3.SS2.p3.1.1.m1.3.4.2.cmml"><mi id="S3.SS2.p3.1.1.m1.3.4.2.2" xref="S3.SS2.p3.1.1.m1.3.4.2.2.cmml">g</mi><mrow id="S3.SS2.p3.1.1.m1.2.2.2.4" xref="S3.SS2.p3.1.1.m1.2.2.2.3.cmml"><mi id="S3.SS2.p3.1.1.m1.1.1.1.1" xref="S3.SS2.p3.1.1.m1.1.1.1.1.cmml">t</mi><mo id="S3.SS2.p3.1.1.m1.2.2.2.4.1" mathvariant="normal" xref="S3.SS2.p3.1.1.m1.2.2.2.3.cmml">,</mo><mn id="S3.SS2.p3.1.1.m1.2.2.2.2" mathvariant="normal" xref="S3.SS2.p3.1.1.m1.2.2.2.2.cmml">2</mn></mrow></msub><mo id="S3.SS2.p3.1.1.m1.3.4.1" mathvariant="bold" xref="S3.SS2.p3.1.1.m1.3.4.1.cmml">⁢</mo><mrow id="S3.SS2.p3.1.1.m1.3.4.3.2" xref="S3.SS2.p3.1.1.m1.3.4.cmml"><mo id="S3.SS2.p3.1.1.m1.3.4.3.2.1" mathvariant="normal" stretchy="false" xref="S3.SS2.p3.1.1.m1.3.4.cmml">(</mo><mi id="S3.SS2.p3.1.1.m1.3.3" xref="S3.SS2.p3.1.1.m1.3.3.cmml">n</mi><mo id="S3.SS2.p3.1.1.m1.3.4.3.2.2" mathvariant="normal" stretchy="false" xref="S3.SS2.p3.1.1.m1.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.1.m1.3b"><apply id="S3.SS2.p3.1.1.m1.3.4.cmml" xref="S3.SS2.p3.1.1.m1.3.4"><times id="S3.SS2.p3.1.1.m1.3.4.1.cmml" xref="S3.SS2.p3.1.1.m1.3.4.1"></times><apply id="S3.SS2.p3.1.1.m1.3.4.2.cmml" xref="S3.SS2.p3.1.1.m1.3.4.2"><csymbol cd="ambiguous" id="S3.SS2.p3.1.1.m1.3.4.2.1.cmml" xref="S3.SS2.p3.1.1.m1.3.4.2">subscript</csymbol><ci id="S3.SS2.p3.1.1.m1.3.4.2.2.cmml" xref="S3.SS2.p3.1.1.m1.3.4.2.2">𝑔</ci><list id="S3.SS2.p3.1.1.m1.2.2.2.3.cmml" xref="S3.SS2.p3.1.1.m1.2.2.2.4"><ci id="S3.SS2.p3.1.1.m1.1.1.1.1.cmml" xref="S3.SS2.p3.1.1.m1.1.1.1.1">𝑡</ci><cn id="S3.SS2.p3.1.1.m1.2.2.2.2.cmml" type="integer" xref="S3.SS2.p3.1.1.m1.2.2.2.2">2</cn></list></apply><ci id="S3.SS2.p3.1.1.m1.3.3.cmml" xref="S3.SS2.p3.1.1.m1.3.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.1.m1.3c">g_{t,2}(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.1.m1.3d">italic_g start_POSTSUBSCRIPT italic_t , 2 end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math>.</span> Self-consistency <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="#bib.bib44" title="">2022b</a>)</cite> is an ensemble approach that samples <math alttext="k" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m1.1"><semantics id="S3.SS2.p3.2.m1.1a"><mi id="S3.SS2.p3.2.m1.1.1" xref="S3.SS2.p3.2.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m1.1b"><ci id="S3.SS2.p3.2.m1.1.1.cmml" xref="S3.SS2.p3.2.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m1.1d">italic_k</annotation></semantics></math> i.i.d. actions at the next step <math alttext="\{a_{t+1}^{(j)}\}_{j=1}^{k}\sim p(a_{t+1}|x,a_{0},a_{1},\cdots,a_{t})" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m2.5"><semantics id="S3.SS2.p3.3.m2.5a"><mrow id="S3.SS2.p3.3.m2.5.5" xref="S3.SS2.p3.3.m2.5.5.cmml"><msubsup id="S3.SS2.p3.3.m2.4.4.1" xref="S3.SS2.p3.3.m2.4.4.1.cmml"><mrow id="S3.SS2.p3.3.m2.4.4.1.1.1.1" xref="S3.SS2.p3.3.m2.4.4.1.1.1.2.cmml"><mo id="S3.SS2.p3.3.m2.4.4.1.1.1.1.2" stretchy="false" xref="S3.SS2.p3.3.m2.4.4.1.1.1.2.cmml">{</mo><msubsup id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.cmml"><mi id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.2" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.2.cmml">a</mi><mrow id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.cmml"><mi id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.2" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.1" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.1.cmml">+</mo><mn id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.3" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.3.cmml">1</mn></mrow><mrow id="S3.SS2.p3.3.m2.1.1.1.3" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.cmml"><mo id="S3.SS2.p3.3.m2.1.1.1.3.1" stretchy="false" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.cmml">(</mo><mi id="S3.SS2.p3.3.m2.1.1.1.1" xref="S3.SS2.p3.3.m2.1.1.1.1.cmml">j</mi><mo id="S3.SS2.p3.3.m2.1.1.1.3.2" stretchy="false" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.SS2.p3.3.m2.4.4.1.1.1.1.3" stretchy="false" xref="S3.SS2.p3.3.m2.4.4.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p3.3.m2.4.4.1.1.3" xref="S3.SS2.p3.3.m2.4.4.1.1.3.cmml"><mi id="S3.SS2.p3.3.m2.4.4.1.1.3.2" xref="S3.SS2.p3.3.m2.4.4.1.1.3.2.cmml">j</mi><mo id="S3.SS2.p3.3.m2.4.4.1.1.3.1" xref="S3.SS2.p3.3.m2.4.4.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p3.3.m2.4.4.1.1.3.3" xref="S3.SS2.p3.3.m2.4.4.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS2.p3.3.m2.4.4.1.3" xref="S3.SS2.p3.3.m2.4.4.1.3.cmml">k</mi></msubsup><mo id="S3.SS2.p3.3.m2.5.5.3" xref="S3.SS2.p3.3.m2.5.5.3.cmml">∼</mo><mrow id="S3.SS2.p3.3.m2.5.5.2" xref="S3.SS2.p3.3.m2.5.5.2.cmml"><mi id="S3.SS2.p3.3.m2.5.5.2.3" xref="S3.SS2.p3.3.m2.5.5.2.3.cmml">p</mi><mo id="S3.SS2.p3.3.m2.5.5.2.2" xref="S3.SS2.p3.3.m2.5.5.2.2.cmml">⁢</mo><mrow id="S3.SS2.p3.3.m2.5.5.2.1.1" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.cmml"><mo id="S3.SS2.p3.3.m2.5.5.2.1.1.2" stretchy="false" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.cmml">(</mo><mrow id="S3.SS2.p3.3.m2.5.5.2.1.1.1" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.cmml"><msub id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.cmml"><mi id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.2" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.2.cmml">a</mi><mrow id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.cmml"><mi id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.2" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.2.cmml">t</mi><mo id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.1" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.1.cmml">+</mo><mn id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.3" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.3.cmml">1</mn></mrow></msub><mo fence="false" id="S3.SS2.p3.3.m2.5.5.2.1.1.1.4" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.4.cmml">|</mo><mrow id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.4.cmml"><mi id="S3.SS2.p3.3.m2.2.2" xref="S3.SS2.p3.3.m2.2.2.cmml">x</mi><mo id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.4" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.4.cmml">,</mo><msub id="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.2" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.2.cmml">a</mi><mn id="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.3" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.5" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.4.cmml">,</mo><msub id="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.cmml"><mi id="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.2" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.2.cmml">a</mi><mn id="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.3" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.6" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.4.cmml">,</mo><mi id="S3.SS2.p3.3.m2.3.3" mathvariant="normal" xref="S3.SS2.p3.3.m2.3.3.cmml">⋯</mi><mo id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.7" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.4.cmml">,</mo><msub id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.cmml"><mi id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.2" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.2.cmml">a</mi><mi id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.3" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.3.cmml">t</mi></msub></mrow></mrow><mo id="S3.SS2.p3.3.m2.5.5.2.1.1.3" stretchy="false" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m2.5b"><apply id="S3.SS2.p3.3.m2.5.5.cmml" xref="S3.SS2.p3.3.m2.5.5"><csymbol cd="latexml" id="S3.SS2.p3.3.m2.5.5.3.cmml" xref="S3.SS2.p3.3.m2.5.5.3">similar-to</csymbol><apply id="S3.SS2.p3.3.m2.4.4.1.cmml" xref="S3.SS2.p3.3.m2.4.4.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m2.4.4.1.2.cmml" xref="S3.SS2.p3.3.m2.4.4.1">superscript</csymbol><apply id="S3.SS2.p3.3.m2.4.4.1.1.cmml" xref="S3.SS2.p3.3.m2.4.4.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m2.4.4.1.1.2.cmml" xref="S3.SS2.p3.3.m2.4.4.1">subscript</csymbol><set id="S3.SS2.p3.3.m2.4.4.1.1.1.2.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1"><apply id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.2">𝑎</ci><apply id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3"><plus id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.1.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.1"></plus><ci id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.2.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.2">𝑡</ci><cn id="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.3.cmml" type="integer" xref="S3.SS2.p3.3.m2.4.4.1.1.1.1.1.2.3.3">1</cn></apply></apply><ci id="S3.SS2.p3.3.m2.1.1.1.1.cmml" xref="S3.SS2.p3.3.m2.1.1.1.1">𝑗</ci></apply></set><apply id="S3.SS2.p3.3.m2.4.4.1.1.3.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.3"><eq id="S3.SS2.p3.3.m2.4.4.1.1.3.1.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.3.1"></eq><ci id="S3.SS2.p3.3.m2.4.4.1.1.3.2.cmml" xref="S3.SS2.p3.3.m2.4.4.1.1.3.2">𝑗</ci><cn id="S3.SS2.p3.3.m2.4.4.1.1.3.3.cmml" type="integer" xref="S3.SS2.p3.3.m2.4.4.1.1.3.3">1</cn></apply></apply><ci id="S3.SS2.p3.3.m2.4.4.1.3.cmml" xref="S3.SS2.p3.3.m2.4.4.1.3">𝑘</ci></apply><apply id="S3.SS2.p3.3.m2.5.5.2.cmml" xref="S3.SS2.p3.3.m2.5.5.2"><times id="S3.SS2.p3.3.m2.5.5.2.2.cmml" xref="S3.SS2.p3.3.m2.5.5.2.2"></times><ci id="S3.SS2.p3.3.m2.5.5.2.3.cmml" xref="S3.SS2.p3.3.m2.5.5.2.3">𝑝</ci><apply id="S3.SS2.p3.3.m2.5.5.2.1.1.1.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1"><csymbol cd="latexml" id="S3.SS2.p3.3.m2.5.5.2.1.1.1.4.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.4">conditional</csymbol><apply id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.1.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5">subscript</csymbol><ci id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.2.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.2">𝑎</ci><apply id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3"><plus id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.1.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.1"></plus><ci id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.2.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.2">𝑡</ci><cn id="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.3.cmml" type="integer" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.5.3.3">1</cn></apply></apply><list id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.4.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3"><ci id="S3.SS2.p3.3.m2.2.2.cmml" xref="S3.SS2.p3.3.m2.2.2">𝑥</ci><apply id="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.2">𝑎</ci><cn id="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.1.1.1.3">0</cn></apply><apply id="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.1.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2">subscript</csymbol><ci id="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.2.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.2">𝑎</ci><cn id="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.3.cmml" type="integer" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.2.2.2.3">1</cn></apply><ci id="S3.SS2.p3.3.m2.3.3.cmml" xref="S3.SS2.p3.3.m2.3.3">⋯</ci><apply id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.1.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3">subscript</csymbol><ci id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.2.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.2">𝑎</ci><ci id="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.3.cmml" xref="S3.SS2.p3.3.m2.5.5.2.1.1.1.3.3.3.3">𝑡</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m2.5c">\{a_{t+1}^{(j)}\}_{j=1}^{k}\sim p(a_{t+1}|x,a_{0},a_{1},\cdots,a_{t})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m2.5d">{ italic_a start_POSTSUBSCRIPT italic_t + 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ∼ italic_p ( italic_a start_POSTSUBSCRIPT italic_t + 1 end_POSTSUBSCRIPT | italic_x , italic_a start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>.
We then select the semantically different actions from the <math alttext="k" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m3.1"><semantics id="S3.SS2.p3.4.m3.1a"><mi id="S3.SS2.p3.4.m3.1.1" xref="S3.SS2.p3.4.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m3.1b"><ci id="S3.SS2.p3.4.m3.1.1.cmml" xref="S3.SS2.p3.4.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m3.1d">italic_k</annotation></semantics></math> generated samples as the set of potential next steps.
For tool-use scenarios, as the actions are strict in format of API functions and parameters, we directly construct the set with non-repeating actions.
For reasoning scenarios, however, actions represent intermediate thought processes articulated in natural language. Inspired by <cite class="ltx_cite ltx_citemacro_cite">Kuhn et al. (<a class="ltx_ref" href="#bib.bib19" title="">2022</a>)</cite>, we apply a DeBERTa-large model <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="#bib.bib9" title="">2020</a>)</cite> fine-tuned on natural language inference (NLI) dataset MNLI <cite class="ltx_cite ltx_citemacro_citep">(Williams et al., <a class="ltx_ref" href="#bib.bib47" title="">2018</a>)</cite> to determine whether the two generated actions entail each other semantically.
This allows us to discard actions that are semantically equivalent, only retaining those that offer distinct reasoning as potential next steps.
Lastly, we consider the frequencies of different actions in the set as their corresponding cumulative score, given by <math alttext="g_{t,2}(n)=\#\{j|a_{t+1}^{(j)}=n\}/k" class="ltx_Math" display="inline" id="S3.SS2.p3.5.m4.6"><semantics id="S3.SS2.p3.5.m4.6a"><mrow id="S3.SS2.p3.5.m4.6.6" xref="S3.SS2.p3.5.m4.6.6.cmml"><mrow id="S3.SS2.p3.5.m4.6.6.3" xref="S3.SS2.p3.5.m4.6.6.3.cmml"><msub id="S3.SS2.p3.5.m4.6.6.3.2" xref="S3.SS2.p3.5.m4.6.6.3.2.cmml"><mi id="S3.SS2.p3.5.m4.6.6.3.2.2" xref="S3.SS2.p3.5.m4.6.6.3.2.2.cmml">g</mi><mrow id="S3.SS2.p3.5.m4.2.2.2.4" xref="S3.SS2.p3.5.m4.2.2.2.3.cmml"><mi id="S3.SS2.p3.5.m4.1.1.1.1" xref="S3.SS2.p3.5.m4.1.1.1.1.cmml">t</mi><mo id="S3.SS2.p3.5.m4.2.2.2.4.1" xref="S3.SS2.p3.5.m4.2.2.2.3.cmml">,</mo><mn id="S3.SS2.p3.5.m4.2.2.2.2" xref="S3.SS2.p3.5.m4.2.2.2.2.cmml">2</mn></mrow></msub><mo id="S3.SS2.p3.5.m4.6.6.3.1" xref="S3.SS2.p3.5.m4.6.6.3.1.cmml">⁢</mo><mrow id="S3.SS2.p3.5.m4.6.6.3.3.2" xref="S3.SS2.p3.5.m4.6.6.3.cmml"><mo id="S3.SS2.p3.5.m4.6.6.3.3.2.1" stretchy="false" xref="S3.SS2.p3.5.m4.6.6.3.cmml">(</mo><mi id="S3.SS2.p3.5.m4.4.4" xref="S3.SS2.p3.5.m4.4.4.cmml">n</mi><mo id="S3.SS2.p3.5.m4.6.6.3.3.2.2" stretchy="false" xref="S3.SS2.p3.5.m4.6.6.3.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p3.5.m4.6.6.2" xref="S3.SS2.p3.5.m4.6.6.2.cmml">=</mo><mrow id="S3.SS2.p3.5.m4.6.6.1" xref="S3.SS2.p3.5.m4.6.6.1.cmml"><mrow id="S3.SS2.p3.5.m4.6.6.1.1" xref="S3.SS2.p3.5.m4.6.6.1.1.cmml"><mi id="S3.SS2.p3.5.m4.6.6.1.1.3" mathvariant="normal" xref="S3.SS2.p3.5.m4.6.6.1.1.3.cmml">#</mi><mo id="S3.SS2.p3.5.m4.6.6.1.1.2" xref="S3.SS2.p3.5.m4.6.6.1.1.2.cmml">⁢</mo><mrow id="S3.SS2.p3.5.m4.6.6.1.1.1.1" xref="S3.SS2.p3.5.m4.6.6.1.1.1.2.cmml"><mo id="S3.SS2.p3.5.m4.6.6.1.1.1.1.2" stretchy="false" xref="S3.SS2.p3.5.m4.6.6.1.1.1.2.1.cmml">{</mo><mi id="S3.SS2.p3.5.m4.5.5" xref="S3.SS2.p3.5.m4.5.5.cmml">j</mi><mo id="S3.SS2.p3.5.m4.6.6.1.1.1.1.3" lspace="0em" rspace="0em" xref="S3.SS2.p3.5.m4.6.6.1.1.1.2.1.cmml">|</mo><mrow id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.cmml"><msubsup id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.cmml"><mi id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.2" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.2.cmml">a</mi><mrow id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.cmml"><mi id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.2" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.2.cmml">t</mi><mo id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.1" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.1.cmml">+</mo><mn id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.3" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.SS2.p3.5.m4.3.3.1.3" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.cmml"><mo id="S3.SS2.p3.5.m4.3.3.1.3.1" stretchy="false" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.cmml">(</mo><mi id="S3.SS2.p3.5.m4.3.3.1.1" xref="S3.SS2.p3.5.m4.3.3.1.1.cmml">j</mi><mo id="S3.SS2.p3.5.m4.3.3.1.3.2" stretchy="false" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.cmml">)</mo></mrow></msubsup><mo id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.1" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.1.cmml">=</mo><mi id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.3" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.3.cmml">n</mi></mrow><mo id="S3.SS2.p3.5.m4.6.6.1.1.1.1.4" stretchy="false" xref="S3.SS2.p3.5.m4.6.6.1.1.1.2.1.cmml">}</mo></mrow></mrow><mo id="S3.SS2.p3.5.m4.6.6.1.2" xref="S3.SS2.p3.5.m4.6.6.1.2.cmml">/</mo><mi id="S3.SS2.p3.5.m4.6.6.1.3" xref="S3.SS2.p3.5.m4.6.6.1.3.cmml">k</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m4.6b"><apply id="S3.SS2.p3.5.m4.6.6.cmml" xref="S3.SS2.p3.5.m4.6.6"><eq id="S3.SS2.p3.5.m4.6.6.2.cmml" xref="S3.SS2.p3.5.m4.6.6.2"></eq><apply id="S3.SS2.p3.5.m4.6.6.3.cmml" xref="S3.SS2.p3.5.m4.6.6.3"><times id="S3.SS2.p3.5.m4.6.6.3.1.cmml" xref="S3.SS2.p3.5.m4.6.6.3.1"></times><apply id="S3.SS2.p3.5.m4.6.6.3.2.cmml" xref="S3.SS2.p3.5.m4.6.6.3.2"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m4.6.6.3.2.1.cmml" xref="S3.SS2.p3.5.m4.6.6.3.2">subscript</csymbol><ci id="S3.SS2.p3.5.m4.6.6.3.2.2.cmml" xref="S3.SS2.p3.5.m4.6.6.3.2.2">𝑔</ci><list id="S3.SS2.p3.5.m4.2.2.2.3.cmml" xref="S3.SS2.p3.5.m4.2.2.2.4"><ci id="S3.SS2.p3.5.m4.1.1.1.1.cmml" xref="S3.SS2.p3.5.m4.1.1.1.1">𝑡</ci><cn id="S3.SS2.p3.5.m4.2.2.2.2.cmml" type="integer" xref="S3.SS2.p3.5.m4.2.2.2.2">2</cn></list></apply><ci id="S3.SS2.p3.5.m4.4.4.cmml" xref="S3.SS2.p3.5.m4.4.4">𝑛</ci></apply><apply id="S3.SS2.p3.5.m4.6.6.1.cmml" xref="S3.SS2.p3.5.m4.6.6.1"><divide id="S3.SS2.p3.5.m4.6.6.1.2.cmml" xref="S3.SS2.p3.5.m4.6.6.1.2"></divide><apply id="S3.SS2.p3.5.m4.6.6.1.1.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1"><times id="S3.SS2.p3.5.m4.6.6.1.1.2.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.2"></times><ci id="S3.SS2.p3.5.m4.6.6.1.1.3.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.3">#</ci><apply id="S3.SS2.p3.5.m4.6.6.1.1.1.2.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p3.5.m4.6.6.1.1.1.2.1.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.2">conditional-set</csymbol><ci id="S3.SS2.p3.5.m4.5.5.cmml" xref="S3.SS2.p3.5.m4.5.5">𝑗</ci><apply id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1"><eq id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.1"></eq><apply id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2">superscript</csymbol><apply id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.1.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.2">𝑎</ci><apply id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3"><plus id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.1.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.1"></plus><ci id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.2.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.2">𝑡</ci><cn id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.SS2.p3.5.m4.3.3.1.1.cmml" xref="S3.SS2.p3.5.m4.3.3.1.1">𝑗</ci></apply><ci id="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.3.cmml" xref="S3.SS2.p3.5.m4.6.6.1.1.1.1.1.3">𝑛</ci></apply></apply></apply><ci id="S3.SS2.p3.5.m4.6.6.1.3.cmml" xref="S3.SS2.p3.5.m4.6.6.1.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m4.6c">g_{t,2}(n)=\#\{j|a_{t+1}^{(j)}=n\}/k</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.5.m4.6d">italic_g start_POSTSUBSCRIPT italic_t , 2 end_POSTSUBSCRIPT ( italic_n ) = # { italic_j | italic_a start_POSTSUBSCRIPT italic_t + 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT = italic_n } / italic_k</annotation></semantics></math>.
</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Design of Future Cost <math alttext="h(n)" class="ltx_Math" display="inline" id="S3.SS3.1.m1.1"><semantics id="S3.SS3.1.m1.1b"><mrow id="S3.SS3.1.m1.1.2" xref="S3.SS3.1.m1.1.2.cmml"><mi id="S3.SS3.1.m1.1.2.2" xref="S3.SS3.1.m1.1.2.2.cmml">h</mi><mo id="S3.SS3.1.m1.1.2.1" xref="S3.SS3.1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS3.1.m1.1.2.3.2" xref="S3.SS3.1.m1.1.2.cmml"><mo id="S3.SS3.1.m1.1.2.3.2.1" stretchy="false" xref="S3.SS3.1.m1.1.2.cmml">(</mo><mi id="S3.SS3.1.m1.1.1" xref="S3.SS3.1.m1.1.1.cmml">n</mi><mo id="S3.SS3.1.m1.1.2.3.2.2" stretchy="false" xref="S3.SS3.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.1.m1.1c"><apply id="S3.SS3.1.m1.1.2.cmml" xref="S3.SS3.1.m1.1.2"><times id="S3.SS3.1.m1.1.2.1.cmml" xref="S3.SS3.1.m1.1.2.1"></times><ci id="S3.SS3.1.m1.1.2.2.cmml" xref="S3.SS3.1.m1.1.2.2">ℎ</ci><ci id="S3.SS3.1.m1.1.1.cmml" xref="S3.SS3.1.m1.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.1.m1.1d">h(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.1.m1.1e">italic_h ( italic_n )</annotation></semantics></math>
</h3>
<div class="ltx_para ltx_noindent" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.4">Similar to the formulation of cumulative cost <math alttext="g(n)" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><mrow id="S3.SS3.p1.1.m1.1.2" xref="S3.SS3.p1.1.m1.1.2.cmml"><mi id="S3.SS3.p1.1.m1.1.2.2" xref="S3.SS3.p1.1.m1.1.2.2.cmml">g</mi><mo id="S3.SS3.p1.1.m1.1.2.1" xref="S3.SS3.p1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS3.p1.1.m1.1.2.3.2" xref="S3.SS3.p1.1.m1.1.2.cmml"><mo id="S3.SS3.p1.1.m1.1.2.3.2.1" stretchy="false" xref="S3.SS3.p1.1.m1.1.2.cmml">(</mo><mi id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">n</mi><mo id="S3.SS3.p1.1.m1.1.2.3.2.2" stretchy="false" xref="S3.SS3.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.2"><times id="S3.SS3.p1.1.m1.1.2.1.cmml" xref="S3.SS3.p1.1.m1.1.2.1"></times><ci id="S3.SS3.p1.1.m1.1.2.2.cmml" xref="S3.SS3.p1.1.m1.1.2.2">𝑔</ci><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">g(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">italic_g ( italic_n )</annotation></semantics></math>, we integrate two distinct reward functions, the task-specific heuristic function <math alttext="h_{t,1}(n)" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.3"><semantics id="S3.SS3.p1.2.m2.3a"><mrow id="S3.SS3.p1.2.m2.3.4" xref="S3.SS3.p1.2.m2.3.4.cmml"><msub id="S3.SS3.p1.2.m2.3.4.2" xref="S3.SS3.p1.2.m2.3.4.2.cmml"><mi id="S3.SS3.p1.2.m2.3.4.2.2" xref="S3.SS3.p1.2.m2.3.4.2.2.cmml">h</mi><mrow id="S3.SS3.p1.2.m2.2.2.2.4" xref="S3.SS3.p1.2.m2.2.2.2.3.cmml"><mi id="S3.SS3.p1.2.m2.1.1.1.1" xref="S3.SS3.p1.2.m2.1.1.1.1.cmml">t</mi><mo id="S3.SS3.p1.2.m2.2.2.2.4.1" xref="S3.SS3.p1.2.m2.2.2.2.3.cmml">,</mo><mn id="S3.SS3.p1.2.m2.2.2.2.2" xref="S3.SS3.p1.2.m2.2.2.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS3.p1.2.m2.3.4.1" xref="S3.SS3.p1.2.m2.3.4.1.cmml">⁢</mo><mrow id="S3.SS3.p1.2.m2.3.4.3.2" xref="S3.SS3.p1.2.m2.3.4.cmml"><mo id="S3.SS3.p1.2.m2.3.4.3.2.1" stretchy="false" xref="S3.SS3.p1.2.m2.3.4.cmml">(</mo><mi id="S3.SS3.p1.2.m2.3.3" xref="S3.SS3.p1.2.m2.3.3.cmml">n</mi><mo id="S3.SS3.p1.2.m2.3.4.3.2.2" stretchy="false" xref="S3.SS3.p1.2.m2.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.3b"><apply id="S3.SS3.p1.2.m2.3.4.cmml" xref="S3.SS3.p1.2.m2.3.4"><times id="S3.SS3.p1.2.m2.3.4.1.cmml" xref="S3.SS3.p1.2.m2.3.4.1"></times><apply id="S3.SS3.p1.2.m2.3.4.2.cmml" xref="S3.SS3.p1.2.m2.3.4.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.3.4.2.1.cmml" xref="S3.SS3.p1.2.m2.3.4.2">subscript</csymbol><ci id="S3.SS3.p1.2.m2.3.4.2.2.cmml" xref="S3.SS3.p1.2.m2.3.4.2.2">ℎ</ci><list id="S3.SS3.p1.2.m2.2.2.2.3.cmml" xref="S3.SS3.p1.2.m2.2.2.2.4"><ci id="S3.SS3.p1.2.m2.1.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1.1.1">𝑡</ci><cn id="S3.SS3.p1.2.m2.2.2.2.2.cmml" type="integer" xref="S3.SS3.p1.2.m2.2.2.2.2">1</cn></list></apply><ci id="S3.SS3.p1.2.m2.3.3.cmml" xref="S3.SS3.p1.2.m2.3.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.3c">h_{t,1}(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m2.3d">italic_h start_POSTSUBSCRIPT italic_t , 1 end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math> and the Imagination Score by LLM <math alttext="h_{t,2}(n)" class="ltx_Math" display="inline" id="S3.SS3.p1.3.m3.3"><semantics id="S3.SS3.p1.3.m3.3a"><mrow id="S3.SS3.p1.3.m3.3.4" xref="S3.SS3.p1.3.m3.3.4.cmml"><msub id="S3.SS3.p1.3.m3.3.4.2" xref="S3.SS3.p1.3.m3.3.4.2.cmml"><mi id="S3.SS3.p1.3.m3.3.4.2.2" xref="S3.SS3.p1.3.m3.3.4.2.2.cmml">h</mi><mrow id="S3.SS3.p1.3.m3.2.2.2.4" xref="S3.SS3.p1.3.m3.2.2.2.3.cmml"><mi id="S3.SS3.p1.3.m3.1.1.1.1" xref="S3.SS3.p1.3.m3.1.1.1.1.cmml">t</mi><mo id="S3.SS3.p1.3.m3.2.2.2.4.1" xref="S3.SS3.p1.3.m3.2.2.2.3.cmml">,</mo><mn id="S3.SS3.p1.3.m3.2.2.2.2" xref="S3.SS3.p1.3.m3.2.2.2.2.cmml">2</mn></mrow></msub><mo id="S3.SS3.p1.3.m3.3.4.1" xref="S3.SS3.p1.3.m3.3.4.1.cmml">⁢</mo><mrow id="S3.SS3.p1.3.m3.3.4.3.2" xref="S3.SS3.p1.3.m3.3.4.cmml"><mo id="S3.SS3.p1.3.m3.3.4.3.2.1" stretchy="false" xref="S3.SS3.p1.3.m3.3.4.cmml">(</mo><mi id="S3.SS3.p1.3.m3.3.3" xref="S3.SS3.p1.3.m3.3.3.cmml">n</mi><mo id="S3.SS3.p1.3.m3.3.4.3.2.2" stretchy="false" xref="S3.SS3.p1.3.m3.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.3b"><apply id="S3.SS3.p1.3.m3.3.4.cmml" xref="S3.SS3.p1.3.m3.3.4"><times id="S3.SS3.p1.3.m3.3.4.1.cmml" xref="S3.SS3.p1.3.m3.3.4.1"></times><apply id="S3.SS3.p1.3.m3.3.4.2.cmml" xref="S3.SS3.p1.3.m3.3.4.2"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.3.4.2.1.cmml" xref="S3.SS3.p1.3.m3.3.4.2">subscript</csymbol><ci id="S3.SS3.p1.3.m3.3.4.2.2.cmml" xref="S3.SS3.p1.3.m3.3.4.2.2">ℎ</ci><list id="S3.SS3.p1.3.m3.2.2.2.3.cmml" xref="S3.SS3.p1.3.m3.2.2.2.4"><ci id="S3.SS3.p1.3.m3.1.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1.1.1">𝑡</ci><cn id="S3.SS3.p1.3.m3.2.2.2.2.cmml" type="integer" xref="S3.SS3.p1.3.m3.2.2.2.2">2</cn></list></apply><ci id="S3.SS3.p1.3.m3.3.3.cmml" xref="S3.SS3.p1.3.m3.3.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.3c">h_{t,2}(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.3.m3.3d">italic_h start_POSTSUBSCRIPT italic_t , 2 end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math>, to compute <math alttext="h(n)" class="ltx_Math" display="inline" id="S3.SS3.p1.4.m4.1"><semantics id="S3.SS3.p1.4.m4.1a"><mrow id="S3.SS3.p1.4.m4.1.2" xref="S3.SS3.p1.4.m4.1.2.cmml"><mi id="S3.SS3.p1.4.m4.1.2.2" xref="S3.SS3.p1.4.m4.1.2.2.cmml">h</mi><mo id="S3.SS3.p1.4.m4.1.2.1" xref="S3.SS3.p1.4.m4.1.2.1.cmml">⁢</mo><mrow id="S3.SS3.p1.4.m4.1.2.3.2" xref="S3.SS3.p1.4.m4.1.2.cmml"><mo id="S3.SS3.p1.4.m4.1.2.3.2.1" stretchy="false" xref="S3.SS3.p1.4.m4.1.2.cmml">(</mo><mi id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml">n</mi><mo id="S3.SS3.p1.4.m4.1.2.3.2.2" stretchy="false" xref="S3.SS3.p1.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.1b"><apply id="S3.SS3.p1.4.m4.1.2.cmml" xref="S3.SS3.p1.4.m4.1.2"><times id="S3.SS3.p1.4.m4.1.2.1.cmml" xref="S3.SS3.p1.4.m4.1.2.1"></times><ci id="S3.SS3.p1.4.m4.1.2.2.cmml" xref="S3.SS3.p1.4.m4.1.2.2">ℎ</ci><ci id="S3.SS3.p1.4.m4.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.1c">h(n)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.4.m4.1d">italic_h ( italic_n )</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E2">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E2X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle h(n)=(1-h_{t,1}(n))^{\beta}\cdot(1-h_{t,2}(n))^{1-\beta}," class="ltx_Math" display="inline" id="S3.E2X.2.1.1.m1.8"><semantics id="S3.E2X.2.1.1.m1.8a"><mrow id="S3.E2X.2.1.1.m1.8.8.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.cmml"><mrow id="S3.E2X.2.1.1.m1.8.8.1.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.cmml"><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.4" xref="S3.E2X.2.1.1.m1.8.8.1.1.4.cmml"><mi id="S3.E2X.2.1.1.m1.8.8.1.1.4.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.4.2.cmml">h</mi><mo id="S3.E2X.2.1.1.m1.8.8.1.1.4.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.4.1.cmml">⁢</mo><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.4.3.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.4.cmml"><mo id="S3.E2X.2.1.1.m1.8.8.1.1.4.3.2.1" stretchy="false" xref="S3.E2X.2.1.1.m1.8.8.1.1.4.cmml">(</mo><mi id="S3.E2X.2.1.1.m1.5.5" xref="S3.E2X.2.1.1.m1.5.5.cmml">n</mi><mo id="S3.E2X.2.1.1.m1.8.8.1.1.4.3.2.2" stretchy="false" xref="S3.E2X.2.1.1.m1.8.8.1.1.4.cmml">)</mo></mrow></mrow><mo id="S3.E2X.2.1.1.m1.8.8.1.1.3" xref="S3.E2X.2.1.1.m1.8.8.1.1.3.cmml">=</mo><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.cmml"><msup id="S3.E2X.2.1.1.m1.8.8.1.1.1.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.cmml"><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.cmml"><mo id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.2" stretchy="false" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.cmml"><mn id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.cmml"><msub id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.2.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.2.2.cmml">h</mi><mrow id="S3.E2X.2.1.1.m1.2.2.2.4" xref="S3.E2X.2.1.1.m1.2.2.2.3.cmml"><mi id="S3.E2X.2.1.1.m1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.cmml">t</mi><mo id="S3.E2X.2.1.1.m1.2.2.2.4.1" xref="S3.E2X.2.1.1.m1.2.2.2.3.cmml">,</mo><mn id="S3.E2X.2.1.1.m1.2.2.2.2" xref="S3.E2X.2.1.1.m1.2.2.2.2.cmml">1</mn></mrow></msub><mo id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.3.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.cmml"><mo id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.3.2.1" stretchy="false" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.cmml">(</mo><mi id="S3.E2X.2.1.1.m1.6.6" xref="S3.E2X.2.1.1.m1.6.6.cmml">n</mi><mo id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.3.2.2" stretchy="false" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.cmml">)</mo></mrow><mi id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.3.cmml">β</mi></msup><mo id="S3.E2X.2.1.1.m1.8.8.1.1.2.3" rspace="0.222em" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.3.cmml">⋅</mo><msup id="S3.E2X.2.1.1.m1.8.8.1.1.2.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.cmml"><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.cmml"><mo id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.2" stretchy="false" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.cmml">(</mo><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.cmml"><mn id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.2.cmml">1</mn><mo id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.1.cmml">−</mo><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.cmml"><msub id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.2.cmml"><mi id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.2.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.2.2.cmml">h</mi><mrow id="S3.E2X.2.1.1.m1.4.4.2.4" xref="S3.E2X.2.1.1.m1.4.4.2.3.cmml"><mi id="S3.E2X.2.1.1.m1.3.3.1.1" xref="S3.E2X.2.1.1.m1.3.3.1.1.cmml">t</mi><mo id="S3.E2X.2.1.1.m1.4.4.2.4.1" xref="S3.E2X.2.1.1.m1.4.4.2.3.cmml">,</mo><mn id="S3.E2X.2.1.1.m1.4.4.2.2" xref="S3.E2X.2.1.1.m1.4.4.2.2.cmml">2</mn></mrow></msub><mo id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.1.cmml">⁢</mo><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.3.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.cmml"><mo id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.3.2.1" stretchy="false" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.cmml">(</mo><mi id="S3.E2X.2.1.1.m1.7.7" xref="S3.E2X.2.1.1.m1.7.7.cmml">n</mi><mo id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.3.2.2" stretchy="false" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.3" stretchy="false" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.cmml">)</mo></mrow><mrow id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.cmml"><mn id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.2.cmml">1</mn><mo id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.1" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.1.cmml">−</mo><mi id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.3" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.3.cmml">β</mi></mrow></msup></mrow></mrow><mo id="S3.E2X.2.1.1.m1.8.8.1.2" xref="S3.E2X.2.1.1.m1.8.8.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2X.2.1.1.m1.8b"><apply id="S3.E2X.2.1.1.m1.8.8.1.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1"><eq id="S3.E2X.2.1.1.m1.8.8.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.3"></eq><apply id="S3.E2X.2.1.1.m1.8.8.1.1.4.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.4"><times id="S3.E2X.2.1.1.m1.8.8.1.1.4.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.4.1"></times><ci id="S3.E2X.2.1.1.m1.8.8.1.1.4.2.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.4.2">ℎ</ci><ci id="S3.E2X.2.1.1.m1.5.5.cmml" xref="S3.E2X.2.1.1.m1.5.5">𝑛</ci></apply><apply id="S3.E2X.2.1.1.m1.8.8.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2"><ci id="S3.E2X.2.1.1.m1.8.8.1.1.2.3.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.3">⋅</ci><apply id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1">superscript</csymbol><apply id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1"><minus id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.1"></minus><cn id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.2">1</cn><apply id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3"><times id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.1"></times><apply id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.1.1.1.3.2.2">ℎ</ci><list id="S3.E2X.2.1.1.m1.2.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.4"><ci id="S3.E2X.2.1.1.m1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1">𝑡</ci><cn id="S3.E2X.2.1.1.m1.2.2.2.2.cmml" type="integer" xref="S3.E2X.2.1.1.m1.2.2.2.2">1</cn></list></apply><ci id="S3.E2X.2.1.1.m1.6.6.cmml" xref="S3.E2X.2.1.1.m1.6.6">𝑛</ci></apply></apply><ci id="S3.E2X.2.1.1.m1.8.8.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.1.1.3">𝛽</ci></apply><apply id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2">superscript</csymbol><apply id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1"><minus id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.1"></minus><cn id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.2.cmml" type="integer" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.2">1</cn><apply id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3"><times id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.1"></times><apply id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.2.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.2.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.2">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.2.2.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.1.1.1.3.2.2">ℎ</ci><list id="S3.E2X.2.1.1.m1.4.4.2.3.cmml" xref="S3.E2X.2.1.1.m1.4.4.2.4"><ci id="S3.E2X.2.1.1.m1.3.3.1.1.cmml" xref="S3.E2X.2.1.1.m1.3.3.1.1">𝑡</ci><cn id="S3.E2X.2.1.1.m1.4.4.2.2.cmml" type="integer" xref="S3.E2X.2.1.1.m1.4.4.2.2">2</cn></list></apply><ci id="S3.E2X.2.1.1.m1.7.7.cmml" xref="S3.E2X.2.1.1.m1.7.7">𝑛</ci></apply></apply><apply id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3"><minus id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.1.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.1"></minus><cn id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.2.cmml" type="integer" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.2">1</cn><ci id="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.3.cmml" xref="S3.E2X.2.1.1.m1.8.8.1.1.2.2.3.3">𝛽</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2X.2.1.1.m1.8c">\displaystyle h(n)=(1-h_{t,1}(n))^{\beta}\cdot(1-h_{t,2}(n))^{1-\beta},</annotation><annotation encoding="application/x-llamapun" id="S3.E2X.2.1.1.m1.8d">italic_h ( italic_n ) = ( 1 - italic_h start_POSTSUBSCRIPT italic_t , 1 end_POSTSUBSCRIPT ( italic_n ) ) start_POSTSUPERSCRIPT italic_β end_POSTSUPERSCRIPT ⋅ ( 1 - italic_h start_POSTSUBSCRIPT italic_t , 2 end_POSTSUBSCRIPT ( italic_n ) ) start_POSTSUPERSCRIPT 1 - italic_β end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(2)</span></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS3.p1.5">where <math alttext="\beta" class="ltx_Math" display="inline" id="S3.SS3.p1.5.m1.1"><semantics id="S3.SS3.p1.5.m1.1a"><mi id="S3.SS3.p1.5.m1.1.1" xref="S3.SS3.p1.5.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m1.1b"><ci id="S3.SS3.p1.5.m1.1.1.cmml" xref="S3.SS3.p1.5.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m1.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.5.m1.1d">italic_β</annotation></semantics></math> is the geometric mean weight for future cost.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.8"><span class="ltx_text ltx_font_bold" id="S3.SS3.p2.8.1">Task-Specific Heuristic Function.</span>
Similar to the heuristic function in the cumulative cost (Section <a class="ltx_ref" href="#S3.SS2" title="3.2 Design of Cumulative Cost 𝑔⁢(𝑛) ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">3.2</span></a>), we continue to leverage the long-term memory to compute the future score.
From the long-term memory, we can derive the average relative position score of the action <math alttext="a" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><mi id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">italic_a</annotation></semantics></math> appearing in the plans <math alttext="m_{j}" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><msub id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">m</mi><mi id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">𝑚</ci><ci id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">m_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>:
<math alttext="h_{t,1}(a)=\sum_{m_{j}\in\mathcal{M}}\mathbbm{1}_{\{a\in m_{j}\}}\frac{pos(a,m%
_{j})}{T_{j}}" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m3.6"><semantics id="S3.SS3.p2.3.m3.6a"><mrow id="S3.SS3.p2.3.m3.6.7" xref="S3.SS3.p2.3.m3.6.7.cmml"><mrow id="S3.SS3.p2.3.m3.6.7.2" xref="S3.SS3.p2.3.m3.6.7.2.cmml"><msub id="S3.SS3.p2.3.m3.6.7.2.2" xref="S3.SS3.p2.3.m3.6.7.2.2.cmml"><mi id="S3.SS3.p2.3.m3.6.7.2.2.2" xref="S3.SS3.p2.3.m3.6.7.2.2.2.cmml">h</mi><mrow id="S3.SS3.p2.3.m3.2.2.2.4" xref="S3.SS3.p2.3.m3.2.2.2.3.cmml"><mi id="S3.SS3.p2.3.m3.1.1.1.1" xref="S3.SS3.p2.3.m3.1.1.1.1.cmml">t</mi><mo id="S3.SS3.p2.3.m3.2.2.2.4.1" xref="S3.SS3.p2.3.m3.2.2.2.3.cmml">,</mo><mn id="S3.SS3.p2.3.m3.2.2.2.2" xref="S3.SS3.p2.3.m3.2.2.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS3.p2.3.m3.6.7.2.1" xref="S3.SS3.p2.3.m3.6.7.2.1.cmml">⁢</mo><mrow id="S3.SS3.p2.3.m3.6.7.2.3.2" xref="S3.SS3.p2.3.m3.6.7.2.cmml"><mo id="S3.SS3.p2.3.m3.6.7.2.3.2.1" stretchy="false" xref="S3.SS3.p2.3.m3.6.7.2.cmml">(</mo><mi id="S3.SS3.p2.3.m3.6.6" xref="S3.SS3.p2.3.m3.6.6.cmml">a</mi><mo id="S3.SS3.p2.3.m3.6.7.2.3.2.2" stretchy="false" xref="S3.SS3.p2.3.m3.6.7.2.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.3.m3.6.7.1" rspace="0.111em" xref="S3.SS3.p2.3.m3.6.7.1.cmml">=</mo><mrow id="S3.SS3.p2.3.m3.6.7.3" xref="S3.SS3.p2.3.m3.6.7.3.cmml"><msub id="S3.SS3.p2.3.m3.6.7.3.1" xref="S3.SS3.p2.3.m3.6.7.3.1.cmml"><mo id="S3.SS3.p2.3.m3.6.7.3.1.2" xref="S3.SS3.p2.3.m3.6.7.3.1.2.cmml">∑</mo><mrow id="S3.SS3.p2.3.m3.6.7.3.1.3" xref="S3.SS3.p2.3.m3.6.7.3.1.3.cmml"><msub id="S3.SS3.p2.3.m3.6.7.3.1.3.2" xref="S3.SS3.p2.3.m3.6.7.3.1.3.2.cmml"><mi id="S3.SS3.p2.3.m3.6.7.3.1.3.2.2" xref="S3.SS3.p2.3.m3.6.7.3.1.3.2.2.cmml">m</mi><mi id="S3.SS3.p2.3.m3.6.7.3.1.3.2.3" xref="S3.SS3.p2.3.m3.6.7.3.1.3.2.3.cmml">j</mi></msub><mo id="S3.SS3.p2.3.m3.6.7.3.1.3.1" xref="S3.SS3.p2.3.m3.6.7.3.1.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.3.m3.6.7.3.1.3.3" xref="S3.SS3.p2.3.m3.6.7.3.1.3.3.cmml">ℳ</mi></mrow></msub><mrow id="S3.SS3.p2.3.m3.6.7.3.2" xref="S3.SS3.p2.3.m3.6.7.3.2.cmml"><msub id="S3.SS3.p2.3.m3.6.7.3.2.2" xref="S3.SS3.p2.3.m3.6.7.3.2.2.cmml"><mn id="S3.SS3.p2.3.m3.6.7.3.2.2.2" xref="S3.SS3.p2.3.m3.6.7.3.2.2.2.cmml">𝟙</mn><mrow id="S3.SS3.p2.3.m3.3.3.1.1" xref="S3.SS3.p2.3.m3.3.3.1.2.cmml"><mo id="S3.SS3.p2.3.m3.3.3.1.1.2" stretchy="false" xref="S3.SS3.p2.3.m3.3.3.1.2.cmml">{</mo><mrow id="S3.SS3.p2.3.m3.3.3.1.1.1" xref="S3.SS3.p2.3.m3.3.3.1.1.1.cmml"><mi id="S3.SS3.p2.3.m3.3.3.1.1.1.2" xref="S3.SS3.p2.3.m3.3.3.1.1.1.2.cmml">a</mi><mo id="S3.SS3.p2.3.m3.3.3.1.1.1.1" xref="S3.SS3.p2.3.m3.3.3.1.1.1.1.cmml">∈</mo><msub id="S3.SS3.p2.3.m3.3.3.1.1.1.3" xref="S3.SS3.p2.3.m3.3.3.1.1.1.3.cmml"><mi id="S3.SS3.p2.3.m3.3.3.1.1.1.3.2" xref="S3.SS3.p2.3.m3.3.3.1.1.1.3.2.cmml">m</mi><mi id="S3.SS3.p2.3.m3.3.3.1.1.1.3.3" xref="S3.SS3.p2.3.m3.3.3.1.1.1.3.3.cmml">j</mi></msub></mrow><mo id="S3.SS3.p2.3.m3.3.3.1.1.3" stretchy="false" xref="S3.SS3.p2.3.m3.3.3.1.2.cmml">}</mo></mrow></msub><mo id="S3.SS3.p2.3.m3.6.7.3.2.1" xref="S3.SS3.p2.3.m3.6.7.3.2.1.cmml">⁢</mo><mfrac id="S3.SS3.p2.3.m3.5.5" xref="S3.SS3.p2.3.m3.5.5.cmml"><mrow id="S3.SS3.p2.3.m3.5.5.2" xref="S3.SS3.p2.3.m3.5.5.2.cmml"><mi id="S3.SS3.p2.3.m3.5.5.2.4" xref="S3.SS3.p2.3.m3.5.5.2.4.cmml">p</mi><mo id="S3.SS3.p2.3.m3.5.5.2.3" xref="S3.SS3.p2.3.m3.5.5.2.3.cmml">⁢</mo><mi id="S3.SS3.p2.3.m3.5.5.2.5" xref="S3.SS3.p2.3.m3.5.5.2.5.cmml">o</mi><mo id="S3.SS3.p2.3.m3.5.5.2.3a" xref="S3.SS3.p2.3.m3.5.5.2.3.cmml">⁢</mo><mi id="S3.SS3.p2.3.m3.5.5.2.6" xref="S3.SS3.p2.3.m3.5.5.2.6.cmml">s</mi><mo id="S3.SS3.p2.3.m3.5.5.2.3b" xref="S3.SS3.p2.3.m3.5.5.2.3.cmml">⁢</mo><mrow id="S3.SS3.p2.3.m3.5.5.2.2.1" xref="S3.SS3.p2.3.m3.5.5.2.2.2.cmml"><mo id="S3.SS3.p2.3.m3.5.5.2.2.1.2" stretchy="false" xref="S3.SS3.p2.3.m3.5.5.2.2.2.cmml">(</mo><mi id="S3.SS3.p2.3.m3.4.4.1.1" xref="S3.SS3.p2.3.m3.4.4.1.1.cmml">a</mi><mo id="S3.SS3.p2.3.m3.5.5.2.2.1.3" xref="S3.SS3.p2.3.m3.5.5.2.2.2.cmml">,</mo><msub id="S3.SS3.p2.3.m3.5.5.2.2.1.1" xref="S3.SS3.p2.3.m3.5.5.2.2.1.1.cmml"><mi id="S3.SS3.p2.3.m3.5.5.2.2.1.1.2" xref="S3.SS3.p2.3.m3.5.5.2.2.1.1.2.cmml">m</mi><mi id="S3.SS3.p2.3.m3.5.5.2.2.1.1.3" xref="S3.SS3.p2.3.m3.5.5.2.2.1.1.3.cmml">j</mi></msub><mo id="S3.SS3.p2.3.m3.5.5.2.2.1.4" stretchy="false" xref="S3.SS3.p2.3.m3.5.5.2.2.2.cmml">)</mo></mrow></mrow><msub id="S3.SS3.p2.3.m3.5.5.4" xref="S3.SS3.p2.3.m3.5.5.4.cmml"><mi id="S3.SS3.p2.3.m3.5.5.4.2" xref="S3.SS3.p2.3.m3.5.5.4.2.cmml">T</mi><mi id="S3.SS3.p2.3.m3.5.5.4.3" xref="S3.SS3.p2.3.m3.5.5.4.3.cmml">j</mi></msub></mfrac></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.6b"><apply id="S3.SS3.p2.3.m3.6.7.cmml" xref="S3.SS3.p2.3.m3.6.7"><eq id="S3.SS3.p2.3.m3.6.7.1.cmml" xref="S3.SS3.p2.3.m3.6.7.1"></eq><apply id="S3.SS3.p2.3.m3.6.7.2.cmml" xref="S3.SS3.p2.3.m3.6.7.2"><times id="S3.SS3.p2.3.m3.6.7.2.1.cmml" xref="S3.SS3.p2.3.m3.6.7.2.1"></times><apply id="S3.SS3.p2.3.m3.6.7.2.2.cmml" xref="S3.SS3.p2.3.m3.6.7.2.2"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.6.7.2.2.1.cmml" xref="S3.SS3.p2.3.m3.6.7.2.2">subscript</csymbol><ci id="S3.SS3.p2.3.m3.6.7.2.2.2.cmml" xref="S3.SS3.p2.3.m3.6.7.2.2.2">ℎ</ci><list id="S3.SS3.p2.3.m3.2.2.2.3.cmml" xref="S3.SS3.p2.3.m3.2.2.2.4"><ci id="S3.SS3.p2.3.m3.1.1.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1.1.1">𝑡</ci><cn id="S3.SS3.p2.3.m3.2.2.2.2.cmml" type="integer" xref="S3.SS3.p2.3.m3.2.2.2.2">1</cn></list></apply><ci id="S3.SS3.p2.3.m3.6.6.cmml" xref="S3.SS3.p2.3.m3.6.6">𝑎</ci></apply><apply id="S3.SS3.p2.3.m3.6.7.3.cmml" xref="S3.SS3.p2.3.m3.6.7.3"><apply id="S3.SS3.p2.3.m3.6.7.3.1.cmml" xref="S3.SS3.p2.3.m3.6.7.3.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.6.7.3.1.1.cmml" xref="S3.SS3.p2.3.m3.6.7.3.1">subscript</csymbol><sum id="S3.SS3.p2.3.m3.6.7.3.1.2.cmml" xref="S3.SS3.p2.3.m3.6.7.3.1.2"></sum><apply id="S3.SS3.p2.3.m3.6.7.3.1.3.cmml" xref="S3.SS3.p2.3.m3.6.7.3.1.3"><in id="S3.SS3.p2.3.m3.6.7.3.1.3.1.cmml" xref="S3.SS3.p2.3.m3.6.7.3.1.3.1"></in><apply id="S3.SS3.p2.3.m3.6.7.3.1.3.2.cmml" xref="S3.SS3.p2.3.m3.6.7.3.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.6.7.3.1.3.2.1.cmml" xref="S3.SS3.p2.3.m3.6.7.3.1.3.2">subscript</csymbol><ci id="S3.SS3.p2.3.m3.6.7.3.1.3.2.2.cmml" xref="S3.SS3.p2.3.m3.6.7.3.1.3.2.2">𝑚</ci><ci id="S3.SS3.p2.3.m3.6.7.3.1.3.2.3.cmml" xref="S3.SS3.p2.3.m3.6.7.3.1.3.2.3">𝑗</ci></apply><ci id="S3.SS3.p2.3.m3.6.7.3.1.3.3.cmml" xref="S3.SS3.p2.3.m3.6.7.3.1.3.3">ℳ</ci></apply></apply><apply id="S3.SS3.p2.3.m3.6.7.3.2.cmml" xref="S3.SS3.p2.3.m3.6.7.3.2"><times id="S3.SS3.p2.3.m3.6.7.3.2.1.cmml" xref="S3.SS3.p2.3.m3.6.7.3.2.1"></times><apply id="S3.SS3.p2.3.m3.6.7.3.2.2.cmml" xref="S3.SS3.p2.3.m3.6.7.3.2.2"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.6.7.3.2.2.1.cmml" xref="S3.SS3.p2.3.m3.6.7.3.2.2">subscript</csymbol><cn id="S3.SS3.p2.3.m3.6.7.3.2.2.2.cmml" type="integer" xref="S3.SS3.p2.3.m3.6.7.3.2.2.2">1</cn><set id="S3.SS3.p2.3.m3.3.3.1.2.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1"><apply id="S3.SS3.p2.3.m3.3.3.1.1.1.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1"><in id="S3.SS3.p2.3.m3.3.3.1.1.1.1.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.1"></in><ci id="S3.SS3.p2.3.m3.3.3.1.1.1.2.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.2">𝑎</ci><apply id="S3.SS3.p2.3.m3.3.3.1.1.1.3.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.3.3.1.1.1.3.1.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.3">subscript</csymbol><ci id="S3.SS3.p2.3.m3.3.3.1.1.1.3.2.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.3.2">𝑚</ci><ci id="S3.SS3.p2.3.m3.3.3.1.1.1.3.3.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.3.3">𝑗</ci></apply></apply></set></apply><apply id="S3.SS3.p2.3.m3.5.5.cmml" xref="S3.SS3.p2.3.m3.5.5"><divide id="S3.SS3.p2.3.m3.5.5.3.cmml" xref="S3.SS3.p2.3.m3.5.5"></divide><apply id="S3.SS3.p2.3.m3.5.5.2.cmml" xref="S3.SS3.p2.3.m3.5.5.2"><times id="S3.SS3.p2.3.m3.5.5.2.3.cmml" xref="S3.SS3.p2.3.m3.5.5.2.3"></times><ci id="S3.SS3.p2.3.m3.5.5.2.4.cmml" xref="S3.SS3.p2.3.m3.5.5.2.4">𝑝</ci><ci id="S3.SS3.p2.3.m3.5.5.2.5.cmml" xref="S3.SS3.p2.3.m3.5.5.2.5">𝑜</ci><ci id="S3.SS3.p2.3.m3.5.5.2.6.cmml" xref="S3.SS3.p2.3.m3.5.5.2.6">𝑠</ci><interval closure="open" id="S3.SS3.p2.3.m3.5.5.2.2.2.cmml" xref="S3.SS3.p2.3.m3.5.5.2.2.1"><ci id="S3.SS3.p2.3.m3.4.4.1.1.cmml" xref="S3.SS3.p2.3.m3.4.4.1.1">𝑎</ci><apply id="S3.SS3.p2.3.m3.5.5.2.2.1.1.cmml" xref="S3.SS3.p2.3.m3.5.5.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.5.5.2.2.1.1.1.cmml" xref="S3.SS3.p2.3.m3.5.5.2.2.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m3.5.5.2.2.1.1.2.cmml" xref="S3.SS3.p2.3.m3.5.5.2.2.1.1.2">𝑚</ci><ci id="S3.SS3.p2.3.m3.5.5.2.2.1.1.3.cmml" xref="S3.SS3.p2.3.m3.5.5.2.2.1.1.3">𝑗</ci></apply></interval></apply><apply id="S3.SS3.p2.3.m3.5.5.4.cmml" xref="S3.SS3.p2.3.m3.5.5.4"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.5.5.4.1.cmml" xref="S3.SS3.p2.3.m3.5.5.4">subscript</csymbol><ci id="S3.SS3.p2.3.m3.5.5.4.2.cmml" xref="S3.SS3.p2.3.m3.5.5.4.2">𝑇</ci><ci id="S3.SS3.p2.3.m3.5.5.4.3.cmml" xref="S3.SS3.p2.3.m3.5.5.4.3">𝑗</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.6c">h_{t,1}(a)=\sum_{m_{j}\in\mathcal{M}}\mathbbm{1}_{\{a\in m_{j}\}}\frac{pos(a,m%
_{j})}{T_{j}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m3.6d">italic_h start_POSTSUBSCRIPT italic_t , 1 end_POSTSUBSCRIPT ( italic_a ) = ∑ start_POSTSUBSCRIPT italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ caligraphic_M end_POSTSUBSCRIPT blackboard_1 start_POSTSUBSCRIPT { italic_a ∈ italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } end_POSTSUBSCRIPT divide start_ARG italic_p italic_o italic_s ( italic_a , italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) end_ARG start_ARG italic_T start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_ARG</annotation></semantics></math>, where <math alttext="pos(a,m_{j})" class="ltx_Math" display="inline" id="S3.SS3.p2.4.m4.2"><semantics id="S3.SS3.p2.4.m4.2a"><mrow id="S3.SS3.p2.4.m4.2.2" xref="S3.SS3.p2.4.m4.2.2.cmml"><mi id="S3.SS3.p2.4.m4.2.2.3" xref="S3.SS3.p2.4.m4.2.2.3.cmml">p</mi><mo id="S3.SS3.p2.4.m4.2.2.2" xref="S3.SS3.p2.4.m4.2.2.2.cmml">⁢</mo><mi id="S3.SS3.p2.4.m4.2.2.4" xref="S3.SS3.p2.4.m4.2.2.4.cmml">o</mi><mo id="S3.SS3.p2.4.m4.2.2.2a" xref="S3.SS3.p2.4.m4.2.2.2.cmml">⁢</mo><mi id="S3.SS3.p2.4.m4.2.2.5" xref="S3.SS3.p2.4.m4.2.2.5.cmml">s</mi><mo id="S3.SS3.p2.4.m4.2.2.2b" xref="S3.SS3.p2.4.m4.2.2.2.cmml">⁢</mo><mrow id="S3.SS3.p2.4.m4.2.2.1.1" xref="S3.SS3.p2.4.m4.2.2.1.2.cmml"><mo id="S3.SS3.p2.4.m4.2.2.1.1.2" stretchy="false" xref="S3.SS3.p2.4.m4.2.2.1.2.cmml">(</mo><mi id="S3.SS3.p2.4.m4.1.1" xref="S3.SS3.p2.4.m4.1.1.cmml">a</mi><mo id="S3.SS3.p2.4.m4.2.2.1.1.3" xref="S3.SS3.p2.4.m4.2.2.1.2.cmml">,</mo><msub id="S3.SS3.p2.4.m4.2.2.1.1.1" xref="S3.SS3.p2.4.m4.2.2.1.1.1.cmml"><mi id="S3.SS3.p2.4.m4.2.2.1.1.1.2" xref="S3.SS3.p2.4.m4.2.2.1.1.1.2.cmml">m</mi><mi id="S3.SS3.p2.4.m4.2.2.1.1.1.3" xref="S3.SS3.p2.4.m4.2.2.1.1.1.3.cmml">j</mi></msub><mo id="S3.SS3.p2.4.m4.2.2.1.1.4" stretchy="false" xref="S3.SS3.p2.4.m4.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.2b"><apply id="S3.SS3.p2.4.m4.2.2.cmml" xref="S3.SS3.p2.4.m4.2.2"><times id="S3.SS3.p2.4.m4.2.2.2.cmml" xref="S3.SS3.p2.4.m4.2.2.2"></times><ci id="S3.SS3.p2.4.m4.2.2.3.cmml" xref="S3.SS3.p2.4.m4.2.2.3">𝑝</ci><ci id="S3.SS3.p2.4.m4.2.2.4.cmml" xref="S3.SS3.p2.4.m4.2.2.4">𝑜</ci><ci id="S3.SS3.p2.4.m4.2.2.5.cmml" xref="S3.SS3.p2.4.m4.2.2.5">𝑠</ci><interval closure="open" id="S3.SS3.p2.4.m4.2.2.1.2.cmml" xref="S3.SS3.p2.4.m4.2.2.1.1"><ci id="S3.SS3.p2.4.m4.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1">𝑎</ci><apply id="S3.SS3.p2.4.m4.2.2.1.1.1.cmml" xref="S3.SS3.p2.4.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.2.2.1.1.1.1.cmml" xref="S3.SS3.p2.4.m4.2.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.4.m4.2.2.1.1.1.2.cmml" xref="S3.SS3.p2.4.m4.2.2.1.1.1.2">𝑚</ci><ci id="S3.SS3.p2.4.m4.2.2.1.1.1.3.cmml" xref="S3.SS3.p2.4.m4.2.2.1.1.1.3">𝑗</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.2c">pos(a,m_{j})</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.4.m4.2d">italic_p italic_o italic_s ( italic_a , italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> indicates the relative position of action <math alttext="a" class="ltx_Math" display="inline" id="S3.SS3.p2.5.m5.1"><semantics id="S3.SS3.p2.5.m5.1a"><mi id="S3.SS3.p2.5.m5.1.1" xref="S3.SS3.p2.5.m5.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m5.1b"><ci id="S3.SS3.p2.5.m5.1.1.cmml" xref="S3.SS3.p2.5.m5.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m5.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.5.m5.1d">italic_a</annotation></semantics></math> in the plan <math alttext="m_{j}" class="ltx_Math" display="inline" id="S3.SS3.p2.6.m6.1"><semantics id="S3.SS3.p2.6.m6.1a"><msub id="S3.SS3.p2.6.m6.1.1" xref="S3.SS3.p2.6.m6.1.1.cmml"><mi id="S3.SS3.p2.6.m6.1.1.2" xref="S3.SS3.p2.6.m6.1.1.2.cmml">m</mi><mi id="S3.SS3.p2.6.m6.1.1.3" xref="S3.SS3.p2.6.m6.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.6.m6.1b"><apply id="S3.SS3.p2.6.m6.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.6.m6.1.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS3.p2.6.m6.1.1.2.cmml" xref="S3.SS3.p2.6.m6.1.1.2">𝑚</ci><ci id="S3.SS3.p2.6.m6.1.1.3.cmml" xref="S3.SS3.p2.6.m6.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.6.m6.1c">m_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.6.m6.1d">italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>.
Note that the action space can be infinite, and the long-term memory may not cover all potential actions relevant to unseen tasks.
Thus, given an action node <math alttext="n" class="ltx_Math" display="inline" id="S3.SS3.p2.7.m7.1"><semantics id="S3.SS3.p2.7.m7.1a"><mi id="S3.SS3.p2.7.m7.1.1" xref="S3.SS3.p2.7.m7.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.7.m7.1b"><ci id="S3.SS3.p2.7.m7.1.1.cmml" xref="S3.SS3.p2.7.m7.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.7.m7.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.7.m7.1d">italic_n</annotation></semantics></math>, we compute its future score as the heuristic score of the lexically closest action covered in the long-term memory: <math alttext="h_{t,1}(n)=h_{t,1}(\operatorname*{arg\,max}_{a\in\mathcal{M}}\operatorname{LCS%
\_score}(n,a))" class="ltx_Math" display="inline" id="S3.SS3.p2.8.m8.8"><semantics id="S3.SS3.p2.8.m8.8a"><mrow id="S3.SS3.p2.8.m8.8.8" xref="S3.SS3.p2.8.m8.8.8.cmml"><mrow id="S3.SS3.p2.8.m8.8.8.3" xref="S3.SS3.p2.8.m8.8.8.3.cmml"><msub id="S3.SS3.p2.8.m8.8.8.3.2" xref="S3.SS3.p2.8.m8.8.8.3.2.cmml"><mi id="S3.SS3.p2.8.m8.8.8.3.2.2" xref="S3.SS3.p2.8.m8.8.8.3.2.2.cmml">h</mi><mrow id="S3.SS3.p2.8.m8.2.2.2.4" xref="S3.SS3.p2.8.m8.2.2.2.3.cmml"><mi id="S3.SS3.p2.8.m8.1.1.1.1" xref="S3.SS3.p2.8.m8.1.1.1.1.cmml">t</mi><mo id="S3.SS3.p2.8.m8.2.2.2.4.1" xref="S3.SS3.p2.8.m8.2.2.2.3.cmml">,</mo><mn id="S3.SS3.p2.8.m8.2.2.2.2" xref="S3.SS3.p2.8.m8.2.2.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS3.p2.8.m8.8.8.3.1" xref="S3.SS3.p2.8.m8.8.8.3.1.cmml">⁢</mo><mrow id="S3.SS3.p2.8.m8.8.8.3.3.2" xref="S3.SS3.p2.8.m8.8.8.3.cmml"><mo id="S3.SS3.p2.8.m8.8.8.3.3.2.1" stretchy="false" xref="S3.SS3.p2.8.m8.8.8.3.cmml">(</mo><mi id="S3.SS3.p2.8.m8.5.5" xref="S3.SS3.p2.8.m8.5.5.cmml">n</mi><mo id="S3.SS3.p2.8.m8.8.8.3.3.2.2" stretchy="false" xref="S3.SS3.p2.8.m8.8.8.3.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.8.m8.8.8.2" xref="S3.SS3.p2.8.m8.8.8.2.cmml">=</mo><mrow id="S3.SS3.p2.8.m8.8.8.1" xref="S3.SS3.p2.8.m8.8.8.1.cmml"><msub id="S3.SS3.p2.8.m8.8.8.1.3" xref="S3.SS3.p2.8.m8.8.8.1.3.cmml"><mi id="S3.SS3.p2.8.m8.8.8.1.3.2" xref="S3.SS3.p2.8.m8.8.8.1.3.2.cmml">h</mi><mrow id="S3.SS3.p2.8.m8.4.4.2.4" xref="S3.SS3.p2.8.m8.4.4.2.3.cmml"><mi id="S3.SS3.p2.8.m8.3.3.1.1" xref="S3.SS3.p2.8.m8.3.3.1.1.cmml">t</mi><mo id="S3.SS3.p2.8.m8.4.4.2.4.1" xref="S3.SS3.p2.8.m8.4.4.2.3.cmml">,</mo><mn id="S3.SS3.p2.8.m8.4.4.2.2" xref="S3.SS3.p2.8.m8.4.4.2.2.cmml">1</mn></mrow></msub><mo id="S3.SS3.p2.8.m8.8.8.1.2" xref="S3.SS3.p2.8.m8.8.8.1.2.cmml">⁢</mo><mrow id="S3.SS3.p2.8.m8.8.8.1.1.1" xref="S3.SS3.p2.8.m8.8.8.1.cmml"><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.2" stretchy="false" xref="S3.SS3.p2.8.m8.8.8.1.cmml">(</mo><mrow id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.2.cmml"><mrow id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.cmml"><msub id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.cmml"><mrow id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.2" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.2.cmml">arg</mi><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.1" lspace="0.170em" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.3" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.3.cmml">max</mi></mrow><mrow id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.cmml"><mi id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.2" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.2.cmml">a</mi><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.1" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.3" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.3.cmml">ℳ</mi></mrow></msub><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1a" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.cmml">⁡</mo><mrow id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.2" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.2.cmml">LCS</mi><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.1" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.3" mathvariant="normal" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.3.cmml">_</mi><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.1a" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.4" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.4.cmml">score</mi></mrow></mrow><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1a" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.2.cmml">⁡</mo><mrow id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.2" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.2.cmml"><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.2.1" stretchy="false" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.2.cmml">(</mo><mi id="S3.SS3.p2.8.m8.6.6" xref="S3.SS3.p2.8.m8.6.6.cmml">n</mi><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.2.2" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.2.cmml">,</mo><mi id="S3.SS3.p2.8.m8.7.7" xref="S3.SS3.p2.8.m8.7.7.cmml">a</mi><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.2.3" stretchy="false" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.8.m8.8.8.1.1.1.3" stretchy="false" xref="S3.SS3.p2.8.m8.8.8.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.8.m8.8b"><apply id="S3.SS3.p2.8.m8.8.8.cmml" xref="S3.SS3.p2.8.m8.8.8"><eq id="S3.SS3.p2.8.m8.8.8.2.cmml" xref="S3.SS3.p2.8.m8.8.8.2"></eq><apply id="S3.SS3.p2.8.m8.8.8.3.cmml" xref="S3.SS3.p2.8.m8.8.8.3"><times id="S3.SS3.p2.8.m8.8.8.3.1.cmml" xref="S3.SS3.p2.8.m8.8.8.3.1"></times><apply id="S3.SS3.p2.8.m8.8.8.3.2.cmml" xref="S3.SS3.p2.8.m8.8.8.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m8.8.8.3.2.1.cmml" xref="S3.SS3.p2.8.m8.8.8.3.2">subscript</csymbol><ci id="S3.SS3.p2.8.m8.8.8.3.2.2.cmml" xref="S3.SS3.p2.8.m8.8.8.3.2.2">ℎ</ci><list id="S3.SS3.p2.8.m8.2.2.2.3.cmml" xref="S3.SS3.p2.8.m8.2.2.2.4"><ci id="S3.SS3.p2.8.m8.1.1.1.1.cmml" xref="S3.SS3.p2.8.m8.1.1.1.1">𝑡</ci><cn id="S3.SS3.p2.8.m8.2.2.2.2.cmml" type="integer" xref="S3.SS3.p2.8.m8.2.2.2.2">1</cn></list></apply><ci id="S3.SS3.p2.8.m8.5.5.cmml" xref="S3.SS3.p2.8.m8.5.5">𝑛</ci></apply><apply id="S3.SS3.p2.8.m8.8.8.1.cmml" xref="S3.SS3.p2.8.m8.8.8.1"><times id="S3.SS3.p2.8.m8.8.8.1.2.cmml" xref="S3.SS3.p2.8.m8.8.8.1.2"></times><apply id="S3.SS3.p2.8.m8.8.8.1.3.cmml" xref="S3.SS3.p2.8.m8.8.8.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m8.8.8.1.3.1.cmml" xref="S3.SS3.p2.8.m8.8.8.1.3">subscript</csymbol><ci id="S3.SS3.p2.8.m8.8.8.1.3.2.cmml" xref="S3.SS3.p2.8.m8.8.8.1.3.2">ℎ</ci><list id="S3.SS3.p2.8.m8.4.4.2.3.cmml" xref="S3.SS3.p2.8.m8.4.4.2.4"><ci id="S3.SS3.p2.8.m8.3.3.1.1.cmml" xref="S3.SS3.p2.8.m8.3.3.1.1">𝑡</ci><cn id="S3.SS3.p2.8.m8.4.4.2.2.cmml" type="integer" xref="S3.SS3.p2.8.m8.4.4.2.2">1</cn></list></apply><apply id="S3.SS3.p2.8.m8.8.8.1.1.1.1.2.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1"><apply id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1"><apply id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2"><times id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.1"></times><ci id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.2">arg</ci><ci id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.2.3">max</ci></apply><apply id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3"><in id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.1"></in><ci id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.2">𝑎</ci><ci id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.1.3.3">ℳ</ci></apply></apply><apply id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2"><times id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.1"></times><ci id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.2">LCS</ci><ci id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.3">_</ci><ci id="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.4.cmml" xref="S3.SS3.p2.8.m8.8.8.1.1.1.1.1.1.2.4">score</ci></apply></apply><ci id="S3.SS3.p2.8.m8.6.6.cmml" xref="S3.SS3.p2.8.m8.6.6">𝑛</ci><ci id="S3.SS3.p2.8.m8.7.7.cmml" xref="S3.SS3.p2.8.m8.7.7">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.8.m8.8c">h_{t,1}(n)=h_{t,1}(\operatorname*{arg\,max}_{a\in\mathcal{M}}\operatorname{LCS%
\_score}(n,a))</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.8.m8.8d">italic_h start_POSTSUBSCRIPT italic_t , 1 end_POSTSUBSCRIPT ( italic_n ) = italic_h start_POSTSUBSCRIPT italic_t , 1 end_POSTSUBSCRIPT ( start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT italic_a ∈ caligraphic_M end_POSTSUBSCRIPT start_OPFUNCTION roman_LCS _ roman_score end_OPFUNCTION ( italic_n , italic_a ) )</annotation></semantics></math>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.4"><span class="ltx_text ltx_font_bold" id="S3.SS3.p3.4.1">Imagination Score by LLM.</span>
Directly querying LLMs for self-evaluation of the future cost at the current step often yields over-confident scores <cite class="ltx_cite ltx_citemacro_citep">(Lin et al., <a class="ltx_ref" href="#bib.bib21" title="">2022</a>)</cite>.
To address this, we enable LLMs to imagine more concrete future steps until the target <math alttext="n_{T}" class="ltx_Math" display="inline" id="S3.SS3.p3.1.m1.1"><semantics id="S3.SS3.p3.1.m1.1a"><msub id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml"><mi id="S3.SS3.p3.1.m1.1.1.2" xref="S3.SS3.p3.1.m1.1.1.2.cmml">n</mi><mi id="S3.SS3.p3.1.m1.1.1.3" xref="S3.SS3.p3.1.m1.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><apply id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.1.m1.1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p3.1.m1.1.1.2.cmml" xref="S3.SS3.p3.1.m1.1.1.2">𝑛</ci><ci id="S3.SS3.p3.1.m1.1.1.3.cmml" xref="S3.SS3.p3.1.m1.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">n_{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.1.m1.1d">italic_n start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT</annotation></semantics></math>.
However, it is worth noting that the imagined actions may not align with the real executed actions in future plans.
To this end, we compute the future score as the proportion of current steps present in the imagined plan, <span class="ltx_text ltx_font_italic" id="S3.SS3.p3.4.2">i.e.</span>, the ratio of the number between the current node <math alttext="n" class="ltx_Math" display="inline" id="S3.SS3.p3.2.m2.1"><semantics id="S3.SS3.p3.2.m2.1a"><mi id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><ci id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.2.m2.1d">italic_n</annotation></semantics></math> ancestors to the target node <math alttext="n_{T}" class="ltx_Math" display="inline" id="S3.SS3.p3.3.m3.1"><semantics id="S3.SS3.p3.3.m3.1a"><msub id="S3.SS3.p3.3.m3.1.1" xref="S3.SS3.p3.3.m3.1.1.cmml"><mi id="S3.SS3.p3.3.m3.1.1.2" xref="S3.SS3.p3.3.m3.1.1.2.cmml">n</mi><mi id="S3.SS3.p3.3.m3.1.1.3" xref="S3.SS3.p3.3.m3.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m3.1b"><apply id="S3.SS3.p3.3.m3.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.3.m3.1.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p3.3.m3.1.1.2.cmml" xref="S3.SS3.p3.3.m3.1.1.2">𝑛</ci><ci id="S3.SS3.p3.3.m3.1.1.3.cmml" xref="S3.SS3.p3.3.m3.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m3.1c">n_{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.3.m3.1d">italic_n start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT</annotation></semantics></math>: <math alttext="h_{t,2}(n)=\frac{|\{an(n)\}|}{|\{an(n_{T})\}|}" class="ltx_Math" display="inline" id="S3.SS3.p3.4.m4.6"><semantics id="S3.SS3.p3.4.m4.6a"><mrow id="S3.SS3.p3.4.m4.6.7" xref="S3.SS3.p3.4.m4.6.7.cmml"><mrow id="S3.SS3.p3.4.m4.6.7.2" xref="S3.SS3.p3.4.m4.6.7.2.cmml"><msub id="S3.SS3.p3.4.m4.6.7.2.2" xref="S3.SS3.p3.4.m4.6.7.2.2.cmml"><mi id="S3.SS3.p3.4.m4.6.7.2.2.2" xref="S3.SS3.p3.4.m4.6.7.2.2.2.cmml">h</mi><mrow id="S3.SS3.p3.4.m4.2.2.2.4" xref="S3.SS3.p3.4.m4.2.2.2.3.cmml"><mi id="S3.SS3.p3.4.m4.1.1.1.1" xref="S3.SS3.p3.4.m4.1.1.1.1.cmml">t</mi><mo id="S3.SS3.p3.4.m4.2.2.2.4.1" xref="S3.SS3.p3.4.m4.2.2.2.3.cmml">,</mo><mn id="S3.SS3.p3.4.m4.2.2.2.2" xref="S3.SS3.p3.4.m4.2.2.2.2.cmml">2</mn></mrow></msub><mo id="S3.SS3.p3.4.m4.6.7.2.1" xref="S3.SS3.p3.4.m4.6.7.2.1.cmml">⁢</mo><mrow id="S3.SS3.p3.4.m4.6.7.2.3.2" xref="S3.SS3.p3.4.m4.6.7.2.cmml"><mo id="S3.SS3.p3.4.m4.6.7.2.3.2.1" stretchy="false" xref="S3.SS3.p3.4.m4.6.7.2.cmml">(</mo><mi id="S3.SS3.p3.4.m4.6.6" xref="S3.SS3.p3.4.m4.6.6.cmml">n</mi><mo id="S3.SS3.p3.4.m4.6.7.2.3.2.2" stretchy="false" xref="S3.SS3.p3.4.m4.6.7.2.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p3.4.m4.6.7.1" xref="S3.SS3.p3.4.m4.6.7.1.cmml">=</mo><mfrac id="S3.SS3.p3.4.m4.5.5" xref="S3.SS3.p3.4.m4.5.5.cmml"><mrow id="S3.SS3.p3.4.m4.4.4.2.2" xref="S3.SS3.p3.4.m4.4.4.2.3.cmml"><mo id="S3.SS3.p3.4.m4.4.4.2.2.2" stretchy="false" xref="S3.SS3.p3.4.m4.4.4.2.3.1.cmml">|</mo><mrow id="S3.SS3.p3.4.m4.4.4.2.2.1.1" xref="S3.SS3.p3.4.m4.4.4.2.2.1.2.cmml"><mo id="S3.SS3.p3.4.m4.4.4.2.2.1.1.2" stretchy="false" xref="S3.SS3.p3.4.m4.4.4.2.2.1.2.cmml">{</mo><mrow id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.cmml"><mi id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.2" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.2.cmml">a</mi><mo id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.1" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.3" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.3.cmml">n</mi><mo id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.1a" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.1.cmml">⁢</mo><mrow id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.4.2" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.cmml"><mo id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.4.2.1" stretchy="false" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.cmml">(</mo><mi id="S3.SS3.p3.4.m4.3.3.1.1" xref="S3.SS3.p3.4.m4.3.3.1.1.cmml">n</mi><mo id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.4.2.2" stretchy="false" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p3.4.m4.4.4.2.2.1.1.3" stretchy="false" xref="S3.SS3.p3.4.m4.4.4.2.2.1.2.cmml">}</mo></mrow><mo id="S3.SS3.p3.4.m4.4.4.2.2.3" stretchy="false" xref="S3.SS3.p3.4.m4.4.4.2.3.1.cmml">|</mo></mrow><mrow id="S3.SS3.p3.4.m4.5.5.3.1" xref="S3.SS3.p3.4.m4.5.5.3.2.cmml"><mo id="S3.SS3.p3.4.m4.5.5.3.1.2" stretchy="false" xref="S3.SS3.p3.4.m4.5.5.3.2.1.cmml">|</mo><mrow id="S3.SS3.p3.4.m4.5.5.3.1.1.1" xref="S3.SS3.p3.4.m4.5.5.3.1.1.2.cmml"><mo id="S3.SS3.p3.4.m4.5.5.3.1.1.1.2" stretchy="false" xref="S3.SS3.p3.4.m4.5.5.3.1.1.2.cmml">{</mo><mrow id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.cmml"><mi id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.3" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.3.cmml">a</mi><mo id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.2" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.2.cmml">⁢</mo><mi id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.4" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.4.cmml">n</mi><mo id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.2a" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.cmml"><mi id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.2" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.2.cmml">n</mi><mi id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.3" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.3.cmml">T</mi></msub><mo id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p3.4.m4.5.5.3.1.1.1.3" stretchy="false" xref="S3.SS3.p3.4.m4.5.5.3.1.1.2.cmml">}</mo></mrow><mo id="S3.SS3.p3.4.m4.5.5.3.1.3" stretchy="false" xref="S3.SS3.p3.4.m4.5.5.3.2.1.cmml">|</mo></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.4.m4.6b"><apply id="S3.SS3.p3.4.m4.6.7.cmml" xref="S3.SS3.p3.4.m4.6.7"><eq id="S3.SS3.p3.4.m4.6.7.1.cmml" xref="S3.SS3.p3.4.m4.6.7.1"></eq><apply id="S3.SS3.p3.4.m4.6.7.2.cmml" xref="S3.SS3.p3.4.m4.6.7.2"><times id="S3.SS3.p3.4.m4.6.7.2.1.cmml" xref="S3.SS3.p3.4.m4.6.7.2.1"></times><apply id="S3.SS3.p3.4.m4.6.7.2.2.cmml" xref="S3.SS3.p3.4.m4.6.7.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.6.7.2.2.1.cmml" xref="S3.SS3.p3.4.m4.6.7.2.2">subscript</csymbol><ci id="S3.SS3.p3.4.m4.6.7.2.2.2.cmml" xref="S3.SS3.p3.4.m4.6.7.2.2.2">ℎ</ci><list id="S3.SS3.p3.4.m4.2.2.2.3.cmml" xref="S3.SS3.p3.4.m4.2.2.2.4"><ci id="S3.SS3.p3.4.m4.1.1.1.1.cmml" xref="S3.SS3.p3.4.m4.1.1.1.1">𝑡</ci><cn id="S3.SS3.p3.4.m4.2.2.2.2.cmml" type="integer" xref="S3.SS3.p3.4.m4.2.2.2.2">2</cn></list></apply><ci id="S3.SS3.p3.4.m4.6.6.cmml" xref="S3.SS3.p3.4.m4.6.6">𝑛</ci></apply><apply id="S3.SS3.p3.4.m4.5.5.cmml" xref="S3.SS3.p3.4.m4.5.5"><divide id="S3.SS3.p3.4.m4.5.5.4.cmml" xref="S3.SS3.p3.4.m4.5.5"></divide><apply id="S3.SS3.p3.4.m4.4.4.2.3.cmml" xref="S3.SS3.p3.4.m4.4.4.2.2"><abs id="S3.SS3.p3.4.m4.4.4.2.3.1.cmml" xref="S3.SS3.p3.4.m4.4.4.2.2.2"></abs><set id="S3.SS3.p3.4.m4.4.4.2.2.1.2.cmml" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1"><apply id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.cmml" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1"><times id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.1.cmml" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.1"></times><ci id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.2.cmml" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.2">𝑎</ci><ci id="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.3.cmml" xref="S3.SS3.p3.4.m4.4.4.2.2.1.1.1.3">𝑛</ci><ci id="S3.SS3.p3.4.m4.3.3.1.1.cmml" xref="S3.SS3.p3.4.m4.3.3.1.1">𝑛</ci></apply></set></apply><apply id="S3.SS3.p3.4.m4.5.5.3.2.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1"><abs id="S3.SS3.p3.4.m4.5.5.3.2.1.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1.2"></abs><set id="S3.SS3.p3.4.m4.5.5.3.1.1.2.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1"><apply id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1"><times id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.2.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.2"></times><ci id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.3.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.3">𝑎</ci><ci id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.4.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.4">𝑛</ci><apply id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.2">𝑛</ci><ci id="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p3.4.m4.5.5.3.1.1.1.1.1.1.1.3">𝑇</ci></apply></apply></set></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.4.m4.6c">h_{t,2}(n)=\frac{|\{an(n)\}|}{|\{an(n_{T})\}|}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.4.m4.6d">italic_h start_POSTSUBSCRIPT italic_t , 2 end_POSTSUBSCRIPT ( italic_n ) = divide start_ARG | { italic_a italic_n ( italic_n ) } | end_ARG start_ARG | { italic_a italic_n ( italic_n start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT ) } | end_ARG</annotation></semantics></math>.
A higher score suggests that the imagined plan closely captures the path to the current step, indicating that fewer remaining steps are needed to accomplish the task in the imagination of LLMs.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<div class="ltx_para ltx_noindent" id="S4.p1">
<p class="ltx_p" id="S4.p1.2">In this section, we demonstrate the effectiveness and efficiency of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.p1.1.m1.1"><semantics id="S4.p1.1.m1.1a"><msup id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml"><mi id="S4.p1.1.m1.1.1a" xref="S4.p1.1.m1.1.1.cmml"></mi><mo id="S4.p1.1.m1.1.1.1" xref="S4.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><apply id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1"><times id="S4.p1.1.m1.1.1.1.cmml" xref="S4.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> through comprehensive experiments across a wide range of tool-use scenarios from ToolBench <cite class="ltx_cite ltx_citemacro_citep">(Xu et al., <a class="ltx_ref" href="#bib.bib50" title="">2023</a>)</cite> (Section <a class="ltx_ref" href="#S4.SS2" title="4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">4.2</span></a>).
In addition, we conduct extensive experiments on GSM8K <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et al., <a class="ltx_ref" href="#bib.bib5" title="">2021</a>)</cite> (Section <a class="ltx_ref" href="#S4.SS3" title="4.3 Math Reasoning: GSM8K ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">4.3</span></a>) to showcase the generalization of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.p1.2.m2.1"><semantics id="S4.p1.2.m2.1a"><msup id="S4.p1.2.m2.1.1" xref="S4.p1.2.m2.1.1.cmml"><mi id="S4.p1.2.m2.1.1a" xref="S4.p1.2.m2.1.1.cmml"></mi><mo id="S4.p1.2.m2.1.1.1" xref="S4.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.p1.2.m2.1b"><apply id="S4.p1.2.m2.1.1.cmml" xref="S4.p1.2.m2.1.1"><times id="S4.p1.2.m2.1.1.1.cmml" xref="S4.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> on pure reasoning tasks without tool interaction.
</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Setup</h3>
<div class="ltx_para ltx_noindent" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.1">Datasets.</span> We evaluate ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS1.p1.1.m1.1"><semantics id="S4.SS1.p1.1.m1.1a"><msup id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mi id="S4.SS1.p1.1.m1.1.1a" xref="S4.SS1.p1.1.m1.1.1.cmml"></mi><mo id="S4.SS1.p1.1.m1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><times id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> on four tool-use environments in <span class="ltx_text ltx_font_italic" id="S4.SS1.p1.1.2">ToolBench</span> <cite class="ltx_cite ltx_citemacro_citep">(Xu et al., <a class="ltx_ref" href="#bib.bib50" title="">2023</a>)</cite> and one reasoning task in <span class="ltx_text ltx_font_italic" id="S4.SS1.p1.1.3">GSM8K</span> <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et al., <a class="ltx_ref" href="#bib.bib5" title="">2021</a>)</cite>.
For tool-use scenarios, we select environments with both a vast action space comprising a large number of function tools, and a requirement of a deep solution path with multiple API functions (<em class="ltx_emph ltx_font_italic" id="S4.SS1.p1.1.4">i.e.</em>, complicated tasks), including <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.5">Home Search</span>, <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.6">Trip Booking</span>, <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.7">Google Sheets</span>, and <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.8">Virtual Home</span>.
Given that numerical reasoning requires multi-step computations to calculate answers, we choose <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.1.9">GSM8K</span> <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et al., <a class="ltx_ref" href="#bib.bib5" title="">2021</a>)</cite> for evaluation on math reasoning.
Dataset details are available in Appendix <a class="ltx_ref" href="#A4.SS1" title="D.1 Dataset Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">D.1</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.2"><span class="ltx_text ltx_font_bold" id="S4.SS1.p2.2.1">Baselines.</span> For environments from ToolBench, we compare ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS1.p2.1.m1.1"><semantics id="S4.SS1.p2.1.m1.1a"><msup id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml"><mi id="S4.SS1.p2.1.m1.1.1a" xref="S4.SS1.p2.1.m1.1.1.cmml"></mi><mo id="S4.SS1.p2.1.m1.1.1.1" xref="S4.SS1.p2.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"><times id="S4.SS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> with the state-of-the-art LLM planning algorithms from three main categories, including <span class="ltx_text ltx_font_italic" id="S4.SS1.p2.2.2">open-loop systems</span> (<span class="ltx_text ltx_font_bold" id="S4.SS1.p2.2.3">GPT</span> <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="#bib.bib28" title="">2023</a>)</cite>), <span class="ltx_text ltx_font_italic" id="S4.SS1.p2.2.4">closed-loop systems</span> (<span class="ltx_text ltx_font_bold" id="S4.SS1.p2.2.5">ReAct</span> <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>)</cite> and <span class="ltx_text ltx_font_bold" id="S4.SS1.p2.2.6">Adaplanner</span> <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a class="ltx_ref" href="#bib.bib41" title="">2023</a>)</cite>), and <span class="ltx_text ltx_font_italic" id="S4.SS1.p2.2.7">tree search-based systems</span> (<span class="ltx_text ltx_font_bold" id="S4.SS1.p2.2.8">Tree-of-Thoughts</span> <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite> and <span class="ltx_text ltx_font_bold" id="S4.SS1.p2.2.9">MCTS</span> <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite>).
For mathematical reasoning problems, we employ a similar set of baselines as in the tool-use tasks.
However, we exclude ReAct and AdaPlanner from mathematical reasoning evaluations. This is because they heavily depend on high-quality environment feedback to adjust action plans, which is unavailable in the GSM8K dataset.
Additionally, since the action steps in the tool-use scenarios inherently form coherent sequences, we limit our comparison of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS1.p2.2.m2.1"><semantics id="S4.SS1.p2.2.m2.1a"><msup id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml"><mi id="S4.SS1.p2.2.m2.1.1a" xref="S4.SS1.p2.2.m2.1.1.cmml"></mi><mo id="S4.SS1.p2.2.m2.1.1.1" xref="S4.SS1.p2.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b"><apply id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1"><times id="S4.SS1.p2.2.m2.1.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> to <span class="ltx_text ltx_font_bold" id="S4.SS1.p2.2.10">Chain-of-Thought</span> <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="#bib.bib46" title="">2022</a>)</cite> and <span class="ltx_text ltx_font_bold" id="S4.SS1.p2.2.11">Self-Consistency</span> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="#bib.bib44" title="">2022b</a>)</cite> only for the math reasoning task, and exclude it from the ToolBench evaluations.
Baseline details can be found in Appendix <a class="ltx_ref" href="#A4.SS2" title="D.2 Baseline Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">D.2</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Tool Use: ToolBench</h3>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Main experiment results (success rate) on ToolBench, including tool use scenarios of (1) Home Search, (2) Trip Booking, (3) Google Sheets, and (4) Virtual Home.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T1.1.2.1.1" rowspan="2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.2.1.1.1">Models</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="5" id="S4.T1.1.2.1.2" style="padding-left:3.0pt;padding-right:3.0pt;">GPT-3.5-turbo</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="5" id="S4.T1.1.2.1.3" style="padding-left:3.0pt;padding-right:3.0pt;">GPT-4</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1.3.2.1.1">
<tr class="ltx_tr" id="S4.T1.1.3.2.1.1.1">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.1.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Home</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2.1.1.2">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.1.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Search</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2.2" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1.3.2.2.1">
<tr class="ltx_tr" id="S4.T1.1.3.2.2.1.1">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.2.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Trip</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2.2.1.2">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.2.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Booking</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2.3" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1.3.2.3.1">
<tr class="ltx_tr" id="S4.T1.1.3.2.3.1.1">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.3.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Google</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2.3.1.2">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.3.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Sheets</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2.4" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1.3.2.4.1">
<tr class="ltx_tr" id="S4.T1.1.3.2.4.1.1">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.4.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Virtual</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2.4.1.2">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.4.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Home</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2.5" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.3.2.5.1" style="background-color:#FFF9F9;">Average</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2.6" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1.3.2.6.1">
<tr class="ltx_tr" id="S4.T1.1.3.2.6.1.1">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.6.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Home</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2.6.1.2">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.6.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Search</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2.7" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1.3.2.7.1">
<tr class="ltx_tr" id="S4.T1.1.3.2.7.1.1">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.7.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Trip</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2.7.1.2">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.7.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Booking</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2.8" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1.3.2.8.1">
<tr class="ltx_tr" id="S4.T1.1.3.2.8.1.1">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.8.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Google</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2.8.1.2">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.8.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Sheets</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2.9" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1.3.2.9.1">
<tr class="ltx_tr" id="S4.T1.1.3.2.9.1.1">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.9.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Virtual</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2.9.1.2">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.9.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Home</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.3.2.10" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.3.2.10.1" style="background-color:#FFF9F9;">Average</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.1.4.3.1" style="padding-left:3.0pt;padding-right:3.0pt;">GPT <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="#bib.bib28" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3.2" style="padding-left:3.0pt;padding-right:3.0pt;">80.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3.3" style="padding-left:3.0pt;padding-right:3.0pt;">85.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3.4" style="padding-left:3.0pt;padding-right:3.0pt;">51.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3.5" style="padding-left:3.0pt;padding-right:3.0pt;">18.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.4.3.6.1" style="background-color:#FFF9F9;">59.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3.7" style="padding-left:3.0pt;padding-right:3.0pt;">97.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3.8" style="padding-left:3.0pt;padding-right:3.0pt;">96.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3.9" style="padding-left:3.0pt;padding-right:3.0pt;">62.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3.10" style="padding-left:3.0pt;padding-right:3.0pt;">23.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.4.3.11" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.4.3.11.1" style="background-color:#FFF9F9;">70.0</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.1.5.4.1" style="padding-left:3.0pt;padding-right:3.0pt;">ReAct <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>)</cite>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4.2" style="padding-left:3.0pt;padding-right:3.0pt;">83.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4.3" style="padding-left:3.0pt;padding-right:3.0pt;">86.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4.4" style="padding-left:3.0pt;padding-right:3.0pt;">47.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4.5" style="padding-left:3.0pt;padding-right:3.0pt;">20.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.5.4.6.1" style="background-color:#FFF9F9;">59.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4.7" style="padding-left:3.0pt;padding-right:3.0pt;">94.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4.8" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.5.4.8.1">97.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4.9" style="padding-left:3.0pt;padding-right:3.0pt;">64.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4.10" style="padding-left:3.0pt;padding-right:3.0pt;">22.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.5.4.11" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.5.4.11.1" style="background-color:#FFF9F9;">69.6</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.6.5.1" style="padding-left:3.0pt;padding-right:3.0pt;">AdaPlanner <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a class="ltx_ref" href="#bib.bib41" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S4.T1.1.6.5.2" style="padding-left:3.0pt;padding-right:3.0pt;">90.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.6.5.3" style="padding-left:3.0pt;padding-right:3.0pt;">87.5</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.6.5.4" style="padding-left:3.0pt;padding-right:3.0pt;">55.7</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.6.5.5" style="padding-left:3.0pt;padding-right:3.0pt;">20.7</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.6.5.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.6.5.6.1" style="background-color:#FFF9F9;">63.5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.6.5.7" style="padding-left:3.0pt;padding-right:3.0pt;">97.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.6.5.8" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.6.5.8.1">97.5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.6.5.9" style="padding-left:3.0pt;padding-right:3.0pt;">66.7</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.6.5.10" style="padding-left:3.0pt;padding-right:3.0pt;">27.1</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.6.5.11" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.6.5.11.1" style="background-color:#FFF9F9;">72.1</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.1.7.6.1" style="padding-left:3.0pt;padding-right:3.0pt;">ToT-DFS <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.7.6.2" style="padding-left:3.0pt;padding-right:3.0pt;">82.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.7.6.3" style="padding-left:3.0pt;padding-right:3.0pt;">81.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.7.6.4" style="padding-left:3.0pt;padding-right:3.0pt;">53.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.7.6.5" style="padding-left:3.0pt;padding-right:3.0pt;">21.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.7.6.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.7.6.6.1" style="background-color:#FFF9F9;">59.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.7.6.7" style="padding-left:3.0pt;padding-right:3.0pt;">95.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.7.6.8" style="padding-left:3.0pt;padding-right:3.0pt;">96.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.7.6.9" style="padding-left:3.0pt;padding-right:3.0pt;">62.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.7.6.10" style="padding-left:3.0pt;padding-right:3.0pt;">24.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.7.6.11" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.7.6.11.1" style="background-color:#FFF9F9;">69.9</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.8.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.8.7.1" style="padding-left:3.0pt;padding-right:3.0pt;">ToT-BFS (T=5) <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S4.T1.1.8.7.2" style="padding-left:3.0pt;padding-right:3.0pt;">83.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.8.7.3" style="padding-left:3.0pt;padding-right:3.0pt;">83.3</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.8.7.4" style="padding-left:3.0pt;padding-right:3.0pt;">48.6</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.8.7.5" style="padding-left:3.0pt;padding-right:3.0pt;">21.8</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.8.7.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.8.7.6.1" style="background-color:#FFF9F9;">59.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.8.7.7" style="padding-left:3.0pt;padding-right:3.0pt;">92.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.8.7.8" style="padding-left:3.0pt;padding-right:3.0pt;">94.2</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.8.7.9" style="padding-left:3.0pt;padding-right:3.0pt;">64.3</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.8.7.10" style="padding-left:3.0pt;padding-right:3.0pt;">26.6</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.8.7.11" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.8.7.11.1" style="background-color:#FFF9F9;">69.3</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.9.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T1.1.9.8.1" style="padding-left:3.0pt;padding-right:3.0pt;">MCTS <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite>
</th>
<td class="ltx_td ltx_align_center" id="S4.T1.1.9.8.2" style="padding-left:3.0pt;padding-right:3.0pt;">85.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.9.8.3" style="padding-left:3.0pt;padding-right:3.0pt;">86.7</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.9.8.4" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.9.8.4.1">62.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.9.8.5" style="padding-left:3.0pt;padding-right:3.0pt;">24.4</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.9.8.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.9.8.6.1" style="background-color:#FFF9F9;">64.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.9.8.7" style="padding-left:3.0pt;padding-right:3.0pt;">96.0</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.9.8.8" style="padding-left:3.0pt;padding-right:3.0pt;">94.2</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.9.8.9" style="padding-left:3.0pt;padding-right:3.0pt;">66.7</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.9.8.10" style="padding-left:3.0pt;padding-right:3.0pt;">31.3</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.9.8.11" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.9.8.11.1" style="background-color:#FFF9F9;">72.1</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1" style="background-color:#E6F2F2;">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T1.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.1.1.1" style="background-color:#E6F2F2;">ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.T1.1.1.1.1.m1.1"><semantics id="S4.T1.1.1.1.1.m1.1a"><msup id="S4.T1.1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.1.m1.1.1.cmml"><mi id="S4.T1.1.1.1.1.m1.1.1a" xref="S4.T1.1.1.1.1.m1.1.1.cmml"></mi><mo id="S4.T1.1.1.1.1.m1.1.1.1" mathbackground="#E6F2F2" xref="S4.T1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.1.m1.1b"><apply id="S4.T1.1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.1.m1.1.1"><times id="S4.T1.1.1.1.1.m1.1.1.1.cmml" xref="S4.T1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.T1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math></span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.2.1" style="background-color:#E6F2F2;">93.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.3" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.3.1" style="background-color:#E6F2F2;">90.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.4" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T1.1.1.4.1" style="background-color:#E6F2F2;">61.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.5" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.5.1" style="background-color:#E6F2F2;">28.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.6" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.6.1" style="background-color:#E6F2F2;">68.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.7" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.7.1" style="background-color:#E6F2F2;">98.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.8" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.8.1" style="background-color:#E6F2F2;">97.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.9" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.9.1" style="background-color:#E6F2F2;">68.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.10" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.10.1" style="background-color:#E6F2F2;">34.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.11" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.11.1" style="background-color:#E6F2F2;">74.7</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">We conduct experiments across four distinct planning tasks to assess the effectiveness and efficiency of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><msup id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mi id="S4.SS2.p1.1.m1.1.1a" xref="S4.SS2.p1.1.m1.1.1.cmml"></mi><mo id="S4.SS2.p1.1.m1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><times id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> in tool usage.
The objective is to generate a sequence of API function calls to formulate a solution plan for each given task.
For instance, these tasks include questions or requirements from users, <em class="ltx_emph ltx_font_italic" id="S4.SS2.p1.1.1">e.g.</em>, “<span class="ltx_text ltx_font_italic" id="S4.SS2.p1.1.2">Could you help me find train tickets to Cape Coral?</span>”.
We present the main results, visualize the case study, analyze time-wise efficiency, and discuss ablation studies within the tool-use scenarios as follows.
We report the success rate as the evaluation metric.
Detailed task setup for ToolBench is available in Appendix <a class="ltx_ref" href="#A2.SS3" title="B.3 Task Setup for ToolBench ‣ Appendix B Implementation Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">B.3</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.5"><span class="ltx_text ltx_font_bold" id="S4.SS2.p2.5.1">Results.</span>
Table <a class="ltx_ref" href="#S4.T1" title="Table 1 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">1</span></a> presents the main experiment results on ToolBench.
Our proposed ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p2.1.m1.1"><semantics id="S4.SS2.p2.1.m1.1a"><msup id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mi id="S4.SS2.p2.1.m1.1.1a" xref="S4.SS2.p2.1.m1.1.1.cmml"></mi><mo id="S4.SS2.p2.1.m1.1.1.1" xref="S4.SS2.p2.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><times id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> consistently outperforms across nearly all datasets, surpassing state-of-the-art baselines by margins of <math alttext="3.7\%" class="ltx_Math" display="inline" id="S4.SS2.p2.2.m2.1"><semantics id="S4.SS2.p2.2.m2.1a"><mrow id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml"><mn id="S4.SS2.p2.2.m2.1.1.2" xref="S4.SS2.p2.2.m2.1.1.2.cmml">3.7</mn><mo id="S4.SS2.p2.2.m2.1.1.1" xref="S4.SS2.p2.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><apply id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1"><csymbol cd="latexml" id="S4.SS2.p2.2.m2.1.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1.1">percent</csymbol><cn id="S4.SS2.p2.2.m2.1.1.2.cmml" type="float" xref="S4.SS2.p2.2.m2.1.1.2">3.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">3.7\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.2.m2.1d">3.7 %</annotation></semantics></math> and <math alttext="2.5\%" class="ltx_Math" display="inline" id="S4.SS2.p2.3.m3.1"><semantics id="S4.SS2.p2.3.m3.1a"><mrow id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml"><mn id="S4.SS2.p2.3.m3.1.1.2" xref="S4.SS2.p2.3.m3.1.1.2.cmml">2.5</mn><mo id="S4.SS2.p2.3.m3.1.1.1" xref="S4.SS2.p2.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><apply id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1"><csymbol cd="latexml" id="S4.SS2.p2.3.m3.1.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1.1">percent</csymbol><cn id="S4.SS2.p2.3.m3.1.1.2.cmml" type="float" xref="S4.SS2.p2.3.m3.1.1.2">2.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">2.5\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.3.m3.1d">2.5 %</annotation></semantics></math> with the base LLMs GPT-3.5-turbo and GPT-4, respectively.
In comparison with the strongest closed-loop baseline AdaPlanner, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p2.4.m4.1"><semantics id="S4.SS2.p2.4.m4.1a"><msup id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml"><mi id="S4.SS2.p2.4.m4.1.1a" xref="S4.SS2.p2.4.m4.1.1.cmml"></mi><mo id="S4.SS2.p2.4.m4.1.1.1" xref="S4.SS2.p2.4.m4.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><apply id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1"><times id="S4.SS2.p2.4.m4.1.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.4.m4.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> improves the average success rate by <math alttext="3.8\%" class="ltx_Math" display="inline" id="S4.SS2.p2.5.m5.1"><semantics id="S4.SS2.p2.5.m5.1a"><mrow id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml"><mn id="S4.SS2.p2.5.m5.1.1.2" xref="S4.SS2.p2.5.m5.1.1.2.cmml">3.8</mn><mo id="S4.SS2.p2.5.m5.1.1.1" xref="S4.SS2.p2.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b"><apply id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1"><csymbol cd="latexml" id="S4.SS2.p2.5.m5.1.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1.1">percent</csymbol><cn id="S4.SS2.p2.5.m5.1.1.2.cmml" type="float" xref="S4.SS2.p2.5.m5.1.1.2">3.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">3.8\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.5.m5.1d">3.8 %</annotation></semantics></math>.
This improvement is because AdaPlanner relies heavily on environmental feedback, which may not always be available in the tool-use scenarios.
Without such high-quality feedback, closed-loop methods tend to explore a restricted trajectory within the action space, making them more susceptible to propagating errors from previous actions to future plans.</p>
</div>
<figure class="ltx_figure ltx_align_floatright" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="533" id="S4.F4.g1" src="x4.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Case study of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.F4.3.m1.1"><semantics id="S4.F4.3.m1.1b"><msup id="S4.F4.3.m1.1.1" xref="S4.F4.3.m1.1.1.cmml"><mi id="S4.F4.3.m1.1.1b" xref="S4.F4.3.m1.1.1.cmml"></mi><mo id="S4.F4.3.m1.1.1.1" xref="S4.F4.3.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.F4.3.m1.1c"><apply id="S4.F4.3.m1.1.1.cmml" xref="S4.F4.3.m1.1.1"><times id="S4.F4.3.m1.1.1.1.cmml" xref="S4.F4.3.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.3.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.F4.3.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> and <span class="ltx_text ltx_font_italic" id="S4.F4.6.1">ReAct</span> <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>)</cite> on Virtual Home dataset. Compared to ReAct with a unidirectional search (red), ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.F4.4.m2.1"><semantics id="S4.F4.4.m2.1b"><msup id="S4.F4.4.m2.1.1" xref="S4.F4.4.m2.1.1.cmml"><mi id="S4.F4.4.m2.1.1b" xref="S4.F4.4.m2.1.1.cmml"></mi><mo id="S4.F4.4.m2.1.1.1" xref="S4.F4.4.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.F4.4.m2.1c"><apply id="S4.F4.4.m2.1.1.cmml" xref="S4.F4.4.m2.1.1"><times id="S4.F4.4.m2.1.1.1.cmml" xref="S4.F4.4.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.4.m2.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.F4.4.m2.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> effectively enlarges search space (blue) with tree structures.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.2">Moreover, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p3.1.m1.1"><semantics id="S4.SS2.p3.1.m1.1a"><msup id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml"><mi id="S4.SS2.p3.1.m1.1.1a" xref="S4.SS2.p3.1.m1.1.1.cmml"></mi><mo id="S4.SS2.p3.1.m1.1.1.1" xref="S4.SS2.p3.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><apply id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1"><times id="S4.SS2.p3.1.m1.1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> not only surpasses the strongest tree search-based method, MCTS, but also shows the ability to exploit a better solution plan within the same exploration budgets.
This is because our proposed task-specific cost function allows ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p3.2.m2.1"><semantics id="S4.SS2.p3.2.m2.1a"><msup id="S4.SS2.p3.2.m2.1.1" xref="S4.SS2.p3.2.m2.1.1.cmml"><mi id="S4.SS2.p3.2.m2.1.1a" xref="S4.SS2.p3.2.m2.1.1.cmml"></mi><mo id="S4.SS2.p3.2.m2.1.1.1" xref="S4.SS2.p3.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m2.1b"><apply id="S4.SS2.p3.2.m2.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1"><times id="S4.SS2.p3.2.m2.1.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> to prioritize the expansion of the most promising branches. Additional analysis is available in Appendix <a class="ltx_ref" href="#A4.SS3" title="D.3 Additional Analysis on ToolBench ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">D.3</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.3"><span class="ltx_text ltx_font_bold" id="S4.SS2.p4.3.1">Case Study.</span> Figure <a class="ltx_ref" href="#S4.F4" title="Figure 4 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">4</span></a> depicts an example of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p4.1.m1.1"><semantics id="S4.SS2.p4.1.m1.1a"><msup id="S4.SS2.p4.1.m1.1.1" xref="S4.SS2.p4.1.m1.1.1.cmml"><mi id="S4.SS2.p4.1.m1.1.1a" xref="S4.SS2.p4.1.m1.1.1.cmml"></mi><mo id="S4.SS2.p4.1.m1.1.1.1" xref="S4.SS2.p4.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.m1.1b"><apply id="S4.SS2.p4.1.m1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1"><times id="S4.SS2.p4.1.m1.1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> (GPT-4) and <span class="ltx_text ltx_font_italic" id="S4.SS2.p4.3.2">ReAct</span> <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>)</cite> on a “<span class="ltx_text ltx_font_italic" id="S4.SS2.p4.3.3">take shower</span>” task in Virtual Home dataset.
According to the ground truth (<span class="ltx_text" id="S4.SS2.p4.3.4" style="color:#009B55;">green</span>, “<span class="ltx_text ltx_font_italic" id="S4.SS2.p4.3.5">shower</span>”), ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p4.2.m2.1"><semantics id="S4.SS2.p4.2.m2.1a"><msup id="S4.SS2.p4.2.m2.1.1" xref="S4.SS2.p4.2.m2.1.1.cmml"><mi id="S4.SS2.p4.2.m2.1.1a" xref="S4.SS2.p4.2.m2.1.1.cmml"></mi><mo id="S4.SS2.p4.2.m2.1.1.1" xref="S4.SS2.p4.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.2.m2.1b"><apply id="S4.SS2.p4.2.m2.1.1.cmml" xref="S4.SS2.p4.2.m2.1.1"><times id="S4.SS2.p4.2.m2.1.1.1.cmml" xref="S4.SS2.p4.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> generates the correct action plan (<span class="ltx_text" id="S4.SS2.p4.3.6" style="color:#0000FF;">blue</span>, “<span class="ltx_text ltx_font_italic" id="S4.SS2.p4.3.7">shower</span>”) with an expanded search space, whereas the baseline searching method gets trapped in a locally optimal solution (<span class="ltx_text" id="S4.SS2.p4.3.8" style="color:#FF0000;">red</span>, “<span class="ltx_text ltx_font_italic" id="S4.SS2.p4.3.9">soap</span>”).
This suggests that by formulating and expanding upon a tree-based action space, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p4.3.m3.1"><semantics id="S4.SS2.p4.3.m3.1a"><msup id="S4.SS2.p4.3.m3.1.1" xref="S4.SS2.p4.3.m3.1.1.cmml"><mi id="S4.SS2.p4.3.m3.1.1a" xref="S4.SS2.p4.3.m3.1.1.cmml"></mi><mo id="S4.SS2.p4.3.m3.1.1.1" xref="S4.SS2.p4.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.3.m3.1b"><apply id="S4.SS2.p4.3.m3.1.1.cmml" xref="S4.SS2.p4.3.m3.1.1"><times id="S4.SS2.p4.3.m3.1.1.1.cmml" xref="S4.SS2.p4.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> is capable of effectively searching for the globally optimal solution in complex multi-step planning tasks.
</p>
</div>
<figure class="ltx_table ltx_align_floatright" id="S4.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Ablation studies on ToolBench.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.6">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.6.7.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="S4.T2.6.7.1.1" style="padding-left:3.0pt;padding-right:3.0pt;"></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.6.7.1.2" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T2.6.7.1.2.1">
<tr class="ltx_tr" id="S4.T2.6.7.1.2.1.1">
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.1.2.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Home</td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.7.1.2.1.2">
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.1.2.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Search</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.6.7.1.3" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T2.6.7.1.3.1">
<tr class="ltx_tr" id="S4.T2.6.7.1.3.1.1">
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.1.3.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Trip</td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.7.1.3.1.2">
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.1.3.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Booking</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.6.7.1.4" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T2.6.7.1.4.1">
<tr class="ltx_tr" id="S4.T2.6.7.1.4.1.1">
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.1.4.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Google</td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.7.1.4.1.2">
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.1.4.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Sheets</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.6.7.1.5" style="padding-left:3.0pt;padding-right:3.0pt;">
<table class="ltx_tabular ltx_align_middle" id="S4.T2.6.7.1.5.1">
<tr class="ltx_tr" id="S4.T2.6.7.1.5.1.1">
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.1.5.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">Virtual</td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.7.1.5.1.2">
<td class="ltx_td ltx_align_center" id="S4.T2.6.7.1.5.1.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Home</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.6.7.1.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T2.6.7.1.6.1" style="background-color:#FFF9F9;">Average</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.8.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.6.8.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">ToolChain*</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.6.8.2.2" style="padding-left:3.0pt;padding-right:3.0pt;">93.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.6.8.2.3" style="padding-left:3.0pt;padding-right:3.0pt;">90.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.6.8.2.4" style="padding-left:3.0pt;padding-right:3.0pt;">61.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.6.8.2.5" style="padding-left:3.0pt;padding-right:3.0pt;">28.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.6.8.2.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T2.6.8.2.6.1" style="background-color:#FFF9F9;">68.5</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;"> <math alttext="-g_{1,t}(n)" class="ltx_Math" display="inline" id="S4.T2.1.1.1.m1.3"><semantics id="S4.T2.1.1.1.m1.3a"><mrow id="S4.T2.1.1.1.m1.3.4" xref="S4.T2.1.1.1.m1.3.4.cmml"><mo id="S4.T2.1.1.1.m1.3.4a" xref="S4.T2.1.1.1.m1.3.4.cmml">−</mo><mrow id="S4.T2.1.1.1.m1.3.4.2" xref="S4.T2.1.1.1.m1.3.4.2.cmml"><msub id="S4.T2.1.1.1.m1.3.4.2.2" xref="S4.T2.1.1.1.m1.3.4.2.2.cmml"><mi id="S4.T2.1.1.1.m1.3.4.2.2.2" xref="S4.T2.1.1.1.m1.3.4.2.2.2.cmml">g</mi><mrow id="S4.T2.1.1.1.m1.2.2.2.4" xref="S4.T2.1.1.1.m1.2.2.2.3.cmml"><mn id="S4.T2.1.1.1.m1.1.1.1.1" xref="S4.T2.1.1.1.m1.1.1.1.1.cmml">1</mn><mo id="S4.T2.1.1.1.m1.2.2.2.4.1" xref="S4.T2.1.1.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.T2.1.1.1.m1.2.2.2.2" xref="S4.T2.1.1.1.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo id="S4.T2.1.1.1.m1.3.4.2.1" xref="S4.T2.1.1.1.m1.3.4.2.1.cmml">⁢</mo><mrow id="S4.T2.1.1.1.m1.3.4.2.3.2" xref="S4.T2.1.1.1.m1.3.4.2.cmml"><mo id="S4.T2.1.1.1.m1.3.4.2.3.2.1" stretchy="false" xref="S4.T2.1.1.1.m1.3.4.2.cmml">(</mo><mi id="S4.T2.1.1.1.m1.3.3" xref="S4.T2.1.1.1.m1.3.3.cmml">n</mi><mo id="S4.T2.1.1.1.m1.3.4.2.3.2.2" stretchy="false" xref="S4.T2.1.1.1.m1.3.4.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.3b"><apply id="S4.T2.1.1.1.m1.3.4.cmml" xref="S4.T2.1.1.1.m1.3.4"><minus id="S4.T2.1.1.1.m1.3.4.1.cmml" xref="S4.T2.1.1.1.m1.3.4"></minus><apply id="S4.T2.1.1.1.m1.3.4.2.cmml" xref="S4.T2.1.1.1.m1.3.4.2"><times id="S4.T2.1.1.1.m1.3.4.2.1.cmml" xref="S4.T2.1.1.1.m1.3.4.2.1"></times><apply id="S4.T2.1.1.1.m1.3.4.2.2.cmml" xref="S4.T2.1.1.1.m1.3.4.2.2"><csymbol cd="ambiguous" id="S4.T2.1.1.1.m1.3.4.2.2.1.cmml" xref="S4.T2.1.1.1.m1.3.4.2.2">subscript</csymbol><ci id="S4.T2.1.1.1.m1.3.4.2.2.2.cmml" xref="S4.T2.1.1.1.m1.3.4.2.2.2">𝑔</ci><list id="S4.T2.1.1.1.m1.2.2.2.3.cmml" xref="S4.T2.1.1.1.m1.2.2.2.4"><cn id="S4.T2.1.1.1.m1.1.1.1.1.cmml" type="integer" xref="S4.T2.1.1.1.m1.1.1.1.1">1</cn><ci id="S4.T2.1.1.1.m1.2.2.2.2.cmml" xref="S4.T2.1.1.1.m1.2.2.2.2">𝑡</ci></list></apply><ci id="S4.T2.1.1.1.m1.3.3.cmml" xref="S4.T2.1.1.1.m1.3.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.3c">-g_{1,t}(n)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.m1.3d">- italic_g start_POSTSUBSCRIPT 1 , italic_t end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.2" style="padding-left:3.0pt;padding-right:3.0pt;">91.0</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.3" style="padding-left:3.0pt;padding-right:3.0pt;">88.3</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4" style="padding-left:3.0pt;padding-right:3.0pt;">60.0</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5" style="padding-left:3.0pt;padding-right:3.0pt;">22.6</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T2.1.1.6.1" style="background-color:#FFF9F9;">65.5</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.2.2.1" style="padding-left:3.0pt;padding-right:3.0pt;"> <math alttext="-g_{2,t}(n)" class="ltx_Math" display="inline" id="S4.T2.2.2.1.m1.3"><semantics id="S4.T2.2.2.1.m1.3a"><mrow id="S4.T2.2.2.1.m1.3.4" xref="S4.T2.2.2.1.m1.3.4.cmml"><mo id="S4.T2.2.2.1.m1.3.4a" xref="S4.T2.2.2.1.m1.3.4.cmml">−</mo><mrow id="S4.T2.2.2.1.m1.3.4.2" xref="S4.T2.2.2.1.m1.3.4.2.cmml"><msub id="S4.T2.2.2.1.m1.3.4.2.2" xref="S4.T2.2.2.1.m1.3.4.2.2.cmml"><mi id="S4.T2.2.2.1.m1.3.4.2.2.2" xref="S4.T2.2.2.1.m1.3.4.2.2.2.cmml">g</mi><mrow id="S4.T2.2.2.1.m1.2.2.2.4" xref="S4.T2.2.2.1.m1.2.2.2.3.cmml"><mn id="S4.T2.2.2.1.m1.1.1.1.1" xref="S4.T2.2.2.1.m1.1.1.1.1.cmml">2</mn><mo id="S4.T2.2.2.1.m1.2.2.2.4.1" xref="S4.T2.2.2.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.T2.2.2.1.m1.2.2.2.2" xref="S4.T2.2.2.1.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo id="S4.T2.2.2.1.m1.3.4.2.1" xref="S4.T2.2.2.1.m1.3.4.2.1.cmml">⁢</mo><mrow id="S4.T2.2.2.1.m1.3.4.2.3.2" xref="S4.T2.2.2.1.m1.3.4.2.cmml"><mo id="S4.T2.2.2.1.m1.3.4.2.3.2.1" stretchy="false" xref="S4.T2.2.2.1.m1.3.4.2.cmml">(</mo><mi id="S4.T2.2.2.1.m1.3.3" xref="S4.T2.2.2.1.m1.3.3.cmml">n</mi><mo id="S4.T2.2.2.1.m1.3.4.2.3.2.2" stretchy="false" xref="S4.T2.2.2.1.m1.3.4.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.1.m1.3b"><apply id="S4.T2.2.2.1.m1.3.4.cmml" xref="S4.T2.2.2.1.m1.3.4"><minus id="S4.T2.2.2.1.m1.3.4.1.cmml" xref="S4.T2.2.2.1.m1.3.4"></minus><apply id="S4.T2.2.2.1.m1.3.4.2.cmml" xref="S4.T2.2.2.1.m1.3.4.2"><times id="S4.T2.2.2.1.m1.3.4.2.1.cmml" xref="S4.T2.2.2.1.m1.3.4.2.1"></times><apply id="S4.T2.2.2.1.m1.3.4.2.2.cmml" xref="S4.T2.2.2.1.m1.3.4.2.2"><csymbol cd="ambiguous" id="S4.T2.2.2.1.m1.3.4.2.2.1.cmml" xref="S4.T2.2.2.1.m1.3.4.2.2">subscript</csymbol><ci id="S4.T2.2.2.1.m1.3.4.2.2.2.cmml" xref="S4.T2.2.2.1.m1.3.4.2.2.2">𝑔</ci><list id="S4.T2.2.2.1.m1.2.2.2.3.cmml" xref="S4.T2.2.2.1.m1.2.2.2.4"><cn id="S4.T2.2.2.1.m1.1.1.1.1.cmml" type="integer" xref="S4.T2.2.2.1.m1.1.1.1.1">2</cn><ci id="S4.T2.2.2.1.m1.2.2.2.2.cmml" xref="S4.T2.2.2.1.m1.2.2.2.2">𝑡</ci></list></apply><ci id="S4.T2.2.2.1.m1.3.3.cmml" xref="S4.T2.2.2.1.m1.3.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.1.m1.3c">-g_{2,t}(n)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.1.m1.3d">- italic_g start_POSTSUBSCRIPT 2 , italic_t end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.2" style="padding-left:3.0pt;padding-right:3.0pt;">84.0</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.3" style="padding-left:3.0pt;padding-right:3.0pt;">83.3</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.4" style="padding-left:3.0pt;padding-right:3.0pt;">54.3</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.5" style="padding-left:3.0pt;padding-right:3.0pt;">25.3</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T2.2.2.6.1" style="background-color:#FFF9F9;">61.7</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.3.3.1" style="padding-left:3.0pt;padding-right:3.0pt;"> <math alttext="-h_{1,t}(n)" class="ltx_Math" display="inline" id="S4.T2.3.3.1.m1.3"><semantics id="S4.T2.3.3.1.m1.3a"><mrow id="S4.T2.3.3.1.m1.3.4" xref="S4.T2.3.3.1.m1.3.4.cmml"><mo id="S4.T2.3.3.1.m1.3.4a" xref="S4.T2.3.3.1.m1.3.4.cmml">−</mo><mrow id="S4.T2.3.3.1.m1.3.4.2" xref="S4.T2.3.3.1.m1.3.4.2.cmml"><msub id="S4.T2.3.3.1.m1.3.4.2.2" xref="S4.T2.3.3.1.m1.3.4.2.2.cmml"><mi id="S4.T2.3.3.1.m1.3.4.2.2.2" xref="S4.T2.3.3.1.m1.3.4.2.2.2.cmml">h</mi><mrow id="S4.T2.3.3.1.m1.2.2.2.4" xref="S4.T2.3.3.1.m1.2.2.2.3.cmml"><mn id="S4.T2.3.3.1.m1.1.1.1.1" xref="S4.T2.3.3.1.m1.1.1.1.1.cmml">1</mn><mo id="S4.T2.3.3.1.m1.2.2.2.4.1" xref="S4.T2.3.3.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.T2.3.3.1.m1.2.2.2.2" xref="S4.T2.3.3.1.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo id="S4.T2.3.3.1.m1.3.4.2.1" xref="S4.T2.3.3.1.m1.3.4.2.1.cmml">⁢</mo><mrow id="S4.T2.3.3.1.m1.3.4.2.3.2" xref="S4.T2.3.3.1.m1.3.4.2.cmml"><mo id="S4.T2.3.3.1.m1.3.4.2.3.2.1" stretchy="false" xref="S4.T2.3.3.1.m1.3.4.2.cmml">(</mo><mi id="S4.T2.3.3.1.m1.3.3" xref="S4.T2.3.3.1.m1.3.3.cmml">n</mi><mo id="S4.T2.3.3.1.m1.3.4.2.3.2.2" stretchy="false" xref="S4.T2.3.3.1.m1.3.4.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.1.m1.3b"><apply id="S4.T2.3.3.1.m1.3.4.cmml" xref="S4.T2.3.3.1.m1.3.4"><minus id="S4.T2.3.3.1.m1.3.4.1.cmml" xref="S4.T2.3.3.1.m1.3.4"></minus><apply id="S4.T2.3.3.1.m1.3.4.2.cmml" xref="S4.T2.3.3.1.m1.3.4.2"><times id="S4.T2.3.3.1.m1.3.4.2.1.cmml" xref="S4.T2.3.3.1.m1.3.4.2.1"></times><apply id="S4.T2.3.3.1.m1.3.4.2.2.cmml" xref="S4.T2.3.3.1.m1.3.4.2.2"><csymbol cd="ambiguous" id="S4.T2.3.3.1.m1.3.4.2.2.1.cmml" xref="S4.T2.3.3.1.m1.3.4.2.2">subscript</csymbol><ci id="S4.T2.3.3.1.m1.3.4.2.2.2.cmml" xref="S4.T2.3.3.1.m1.3.4.2.2.2">ℎ</ci><list id="S4.T2.3.3.1.m1.2.2.2.3.cmml" xref="S4.T2.3.3.1.m1.2.2.2.4"><cn id="S4.T2.3.3.1.m1.1.1.1.1.cmml" type="integer" xref="S4.T2.3.3.1.m1.1.1.1.1">1</cn><ci id="S4.T2.3.3.1.m1.2.2.2.2.cmml" xref="S4.T2.3.3.1.m1.2.2.2.2">𝑡</ci></list></apply><ci id="S4.T2.3.3.1.m1.3.3.cmml" xref="S4.T2.3.3.1.m1.3.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.1.m1.3c">-h_{1,t}(n)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.1.m1.3d">- italic_h start_POSTSUBSCRIPT 1 , italic_t end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.2" style="padding-left:3.0pt;padding-right:3.0pt;">88.0</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.3" style="padding-left:3.0pt;padding-right:3.0pt;">87.5</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.4" style="padding-left:3.0pt;padding-right:3.0pt;">61.4</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.5" style="padding-left:3.0pt;padding-right:3.0pt;">23.0</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T2.3.3.6.1" style="background-color:#FFF9F9;">65.0</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T2.4.4.1" style="padding-left:3.0pt;padding-right:3.0pt;"> <math alttext="-h_{2,t}(n)" class="ltx_Math" display="inline" id="S4.T2.4.4.1.m1.3"><semantics id="S4.T2.4.4.1.m1.3a"><mrow id="S4.T2.4.4.1.m1.3.4" xref="S4.T2.4.4.1.m1.3.4.cmml"><mo id="S4.T2.4.4.1.m1.3.4a" xref="S4.T2.4.4.1.m1.3.4.cmml">−</mo><mrow id="S4.T2.4.4.1.m1.3.4.2" xref="S4.T2.4.4.1.m1.3.4.2.cmml"><msub id="S4.T2.4.4.1.m1.3.4.2.2" xref="S4.T2.4.4.1.m1.3.4.2.2.cmml"><mi id="S4.T2.4.4.1.m1.3.4.2.2.2" xref="S4.T2.4.4.1.m1.3.4.2.2.2.cmml">h</mi><mrow id="S4.T2.4.4.1.m1.2.2.2.4" xref="S4.T2.4.4.1.m1.2.2.2.3.cmml"><mn id="S4.T2.4.4.1.m1.1.1.1.1" xref="S4.T2.4.4.1.m1.1.1.1.1.cmml">2</mn><mo id="S4.T2.4.4.1.m1.2.2.2.4.1" xref="S4.T2.4.4.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.T2.4.4.1.m1.2.2.2.2" xref="S4.T2.4.4.1.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo id="S4.T2.4.4.1.m1.3.4.2.1" xref="S4.T2.4.4.1.m1.3.4.2.1.cmml">⁢</mo><mrow id="S4.T2.4.4.1.m1.3.4.2.3.2" xref="S4.T2.4.4.1.m1.3.4.2.cmml"><mo id="S4.T2.4.4.1.m1.3.4.2.3.2.1" stretchy="false" xref="S4.T2.4.4.1.m1.3.4.2.cmml">(</mo><mi id="S4.T2.4.4.1.m1.3.3" xref="S4.T2.4.4.1.m1.3.3.cmml">n</mi><mo id="S4.T2.4.4.1.m1.3.4.2.3.2.2" stretchy="false" xref="S4.T2.4.4.1.m1.3.4.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.1.m1.3b"><apply id="S4.T2.4.4.1.m1.3.4.cmml" xref="S4.T2.4.4.1.m1.3.4"><minus id="S4.T2.4.4.1.m1.3.4.1.cmml" xref="S4.T2.4.4.1.m1.3.4"></minus><apply id="S4.T2.4.4.1.m1.3.4.2.cmml" xref="S4.T2.4.4.1.m1.3.4.2"><times id="S4.T2.4.4.1.m1.3.4.2.1.cmml" xref="S4.T2.4.4.1.m1.3.4.2.1"></times><apply id="S4.T2.4.4.1.m1.3.4.2.2.cmml" xref="S4.T2.4.4.1.m1.3.4.2.2"><csymbol cd="ambiguous" id="S4.T2.4.4.1.m1.3.4.2.2.1.cmml" xref="S4.T2.4.4.1.m1.3.4.2.2">subscript</csymbol><ci id="S4.T2.4.4.1.m1.3.4.2.2.2.cmml" xref="S4.T2.4.4.1.m1.3.4.2.2.2">ℎ</ci><list id="S4.T2.4.4.1.m1.2.2.2.3.cmml" xref="S4.T2.4.4.1.m1.2.2.2.4"><cn id="S4.T2.4.4.1.m1.1.1.1.1.cmml" type="integer" xref="S4.T2.4.4.1.m1.1.1.1.1">2</cn><ci id="S4.T2.4.4.1.m1.2.2.2.2.cmml" xref="S4.T2.4.4.1.m1.2.2.2.2">𝑡</ci></list></apply><ci id="S4.T2.4.4.1.m1.3.3.cmml" xref="S4.T2.4.4.1.m1.3.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.1.m1.3c">-h_{2,t}(n)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.1.m1.3d">- italic_h start_POSTSUBSCRIPT 2 , italic_t end_POSTSUBSCRIPT ( italic_n )</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.2" style="padding-left:3.0pt;padding-right:3.0pt;">85.0</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.3" style="padding-left:3.0pt;padding-right:3.0pt;">85.8</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.4" style="padding-left:3.0pt;padding-right:3.0pt;">51.4</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.5" style="padding-left:3.0pt;padding-right:3.0pt;">24.9</td>
<td class="ltx_td ltx_align_center" id="S4.T2.4.4.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T2.4.4.6.1" style="background-color:#FFF9F9;">61.8</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.5.5.1" style="padding-left:3.0pt;padding-right:3.0pt;"> <math alttext="-g(n)" class="ltx_Math" display="inline" id="S4.T2.5.5.1.m1.1"><semantics id="S4.T2.5.5.1.m1.1a"><mrow id="S4.T2.5.5.1.m1.1.2" xref="S4.T2.5.5.1.m1.1.2.cmml"><mo id="S4.T2.5.5.1.m1.1.2a" xref="S4.T2.5.5.1.m1.1.2.cmml">−</mo><mrow id="S4.T2.5.5.1.m1.1.2.2" xref="S4.T2.5.5.1.m1.1.2.2.cmml"><mi id="S4.T2.5.5.1.m1.1.2.2.2" xref="S4.T2.5.5.1.m1.1.2.2.2.cmml">g</mi><mo id="S4.T2.5.5.1.m1.1.2.2.1" xref="S4.T2.5.5.1.m1.1.2.2.1.cmml">⁢</mo><mrow id="S4.T2.5.5.1.m1.1.2.2.3.2" xref="S4.T2.5.5.1.m1.1.2.2.cmml"><mo id="S4.T2.5.5.1.m1.1.2.2.3.2.1" stretchy="false" xref="S4.T2.5.5.1.m1.1.2.2.cmml">(</mo><mi id="S4.T2.5.5.1.m1.1.1" xref="S4.T2.5.5.1.m1.1.1.cmml">n</mi><mo id="S4.T2.5.5.1.m1.1.2.2.3.2.2" stretchy="false" xref="S4.T2.5.5.1.m1.1.2.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.1.m1.1b"><apply id="S4.T2.5.5.1.m1.1.2.cmml" xref="S4.T2.5.5.1.m1.1.2"><minus id="S4.T2.5.5.1.m1.1.2.1.cmml" xref="S4.T2.5.5.1.m1.1.2"></minus><apply id="S4.T2.5.5.1.m1.1.2.2.cmml" xref="S4.T2.5.5.1.m1.1.2.2"><times id="S4.T2.5.5.1.m1.1.2.2.1.cmml" xref="S4.T2.5.5.1.m1.1.2.2.1"></times><ci id="S4.T2.5.5.1.m1.1.2.2.2.cmml" xref="S4.T2.5.5.1.m1.1.2.2.2">𝑔</ci><ci id="S4.T2.5.5.1.m1.1.1.cmml" xref="S4.T2.5.5.1.m1.1.1">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.1.m1.1c">-g(n)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.5.1.m1.1d">- italic_g ( italic_n )</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.5.2" style="padding-left:3.0pt;padding-right:3.0pt;">61.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.5.3" style="padding-left:3.0pt;padding-right:3.0pt;">34.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.5.4" style="padding-left:3.0pt;padding-right:3.0pt;">44.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.5.5" style="padding-left:3.0pt;padding-right:3.0pt;">21.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.5.5.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T2.5.5.6.1" style="background-color:#FFF9F9;">40.3</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T2.6.6.1" style="padding-left:3.0pt;padding-right:3.0pt;"> <math alttext="-h(n)" class="ltx_Math" display="inline" id="S4.T2.6.6.1.m1.1"><semantics id="S4.T2.6.6.1.m1.1a"><mrow id="S4.T2.6.6.1.m1.1.2" xref="S4.T2.6.6.1.m1.1.2.cmml"><mo id="S4.T2.6.6.1.m1.1.2a" xref="S4.T2.6.6.1.m1.1.2.cmml">−</mo><mrow id="S4.T2.6.6.1.m1.1.2.2" xref="S4.T2.6.6.1.m1.1.2.2.cmml"><mi id="S4.T2.6.6.1.m1.1.2.2.2" xref="S4.T2.6.6.1.m1.1.2.2.2.cmml">h</mi><mo id="S4.T2.6.6.1.m1.1.2.2.1" xref="S4.T2.6.6.1.m1.1.2.2.1.cmml">⁢</mo><mrow id="S4.T2.6.6.1.m1.1.2.2.3.2" xref="S4.T2.6.6.1.m1.1.2.2.cmml"><mo id="S4.T2.6.6.1.m1.1.2.2.3.2.1" stretchy="false" xref="S4.T2.6.6.1.m1.1.2.2.cmml">(</mo><mi id="S4.T2.6.6.1.m1.1.1" xref="S4.T2.6.6.1.m1.1.1.cmml">n</mi><mo id="S4.T2.6.6.1.m1.1.2.2.3.2.2" stretchy="false" xref="S4.T2.6.6.1.m1.1.2.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.1.m1.1b"><apply id="S4.T2.6.6.1.m1.1.2.cmml" xref="S4.T2.6.6.1.m1.1.2"><minus id="S4.T2.6.6.1.m1.1.2.1.cmml" xref="S4.T2.6.6.1.m1.1.2"></minus><apply id="S4.T2.6.6.1.m1.1.2.2.cmml" xref="S4.T2.6.6.1.m1.1.2.2"><times id="S4.T2.6.6.1.m1.1.2.2.1.cmml" xref="S4.T2.6.6.1.m1.1.2.2.1"></times><ci id="S4.T2.6.6.1.m1.1.2.2.2.cmml" xref="S4.T2.6.6.1.m1.1.2.2.2">ℎ</ci><ci id="S4.T2.6.6.1.m1.1.1.cmml" xref="S4.T2.6.6.1.m1.1.1">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.1.m1.1c">-h(n)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.6.1.m1.1d">- italic_h ( italic_n )</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.6.6.2" style="padding-left:3.0pt;padding-right:3.0pt;">84.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.6.6.3" style="padding-left:3.0pt;padding-right:3.0pt;">85.8</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.6.6.4" style="padding-left:3.0pt;padding-right:3.0pt;">53.4</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.6.6.5" style="padding-left:3.0pt;padding-right:3.0pt;">26.1</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.6.6.6" style="background-color:#FFF9F9;padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T2.6.6.6.1" style="background-color:#FFF9F9;">62.3</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS2.p5">
<p class="ltx_p" id="S4.SS2.p5.6"><span class="ltx_text ltx_font_bold" id="S4.SS2.p5.6.1">Efficiency Evaluation.</span>
In terms of efficiency, we evaluate the running time of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p5.1.m1.1"><semantics id="S4.SS2.p5.1.m1.1a"><msup id="S4.SS2.p5.1.m1.1.1" xref="S4.SS2.p5.1.m1.1.1.cmml"><mi id="S4.SS2.p5.1.m1.1.1a" xref="S4.SS2.p5.1.m1.1.1.cmml"></mi><mo id="S4.SS2.p5.1.m1.1.1.1" xref="S4.SS2.p5.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.1.m1.1b"><apply id="S4.SS2.p5.1.m1.1.1.cmml" xref="S4.SS2.p5.1.m1.1.1"><times id="S4.SS2.p5.1.m1.1.1.1.cmml" xref="S4.SS2.p5.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> against all the baselines based on GPT-3.5-turbo, as depicted in Figure <a class="ltx_ref" href="#S4.F5.sf1" title="5(a) ‣ Figure 5 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">5(a)</span></a>.
Remarkably, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p5.2.m2.1"><semantics id="S4.SS2.p5.2.m2.1a"><msup id="S4.SS2.p5.2.m2.1.1" xref="S4.SS2.p5.2.m2.1.1.cmml"><mi id="S4.SS2.p5.2.m2.1.1a" xref="S4.SS2.p5.2.m2.1.1.cmml"></mi><mo id="S4.SS2.p5.2.m2.1.1.1" xref="S4.SS2.p5.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.2.m2.1b"><apply id="S4.SS2.p5.2.m2.1.1.cmml" xref="S4.SS2.p5.2.m2.1.1"><times id="S4.SS2.p5.2.m2.1.1.1.cmml" xref="S4.SS2.p5.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> is <math alttext="37.2\%" class="ltx_Math" display="inline" id="S4.SS2.p5.3.m3.1"><semantics id="S4.SS2.p5.3.m3.1a"><mrow id="S4.SS2.p5.3.m3.1.1" xref="S4.SS2.p5.3.m3.1.1.cmml"><mn id="S4.SS2.p5.3.m3.1.1.2" xref="S4.SS2.p5.3.m3.1.1.2.cmml">37.2</mn><mo id="S4.SS2.p5.3.m3.1.1.1" xref="S4.SS2.p5.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.3.m3.1b"><apply id="S4.SS2.p5.3.m3.1.1.cmml" xref="S4.SS2.p5.3.m3.1.1"><csymbol cd="latexml" id="S4.SS2.p5.3.m3.1.1.1.cmml" xref="S4.SS2.p5.3.m3.1.1.1">percent</csymbol><cn id="S4.SS2.p5.3.m3.1.1.2.cmml" type="float" xref="S4.SS2.p5.3.m3.1.1.2">37.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.3.m3.1c">37.2\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.3.m3.1d">37.2 %</annotation></semantics></math> faster than the most efficient tree search-based method, Tree-of-Thoughts (BFS). This efficiency gain may stem from the proposed superior cost function, which efficiently navigates the most promising paths.
Additionally, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p5.4.m4.1"><semantics id="S4.SS2.p5.4.m4.1a"><msup id="S4.SS2.p5.4.m4.1.1" xref="S4.SS2.p5.4.m4.1.1.cmml"><mi id="S4.SS2.p5.4.m4.1.1a" xref="S4.SS2.p5.4.m4.1.1.cmml"></mi><mo id="S4.SS2.p5.4.m4.1.1.1" xref="S4.SS2.p5.4.m4.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.4.m4.1b"><apply id="S4.SS2.p5.4.m4.1.1.cmml" xref="S4.SS2.p5.4.m4.1.1"><times id="S4.SS2.p5.4.m4.1.1.1.cmml" xref="S4.SS2.p5.4.m4.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.4.m4.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.4.m4.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> outpaces the best-performing tree search-based method, MCTS, by an impressive <math alttext="415.84\%" class="ltx_Math" display="inline" id="S4.SS2.p5.5.m5.1"><semantics id="S4.SS2.p5.5.m5.1a"><mrow id="S4.SS2.p5.5.m5.1.1" xref="S4.SS2.p5.5.m5.1.1.cmml"><mn id="S4.SS2.p5.5.m5.1.1.2" xref="S4.SS2.p5.5.m5.1.1.2.cmml">415.84</mn><mo id="S4.SS2.p5.5.m5.1.1.1" xref="S4.SS2.p5.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.5.m5.1b"><apply id="S4.SS2.p5.5.m5.1.1.cmml" xref="S4.SS2.p5.5.m5.1.1"><csymbol cd="latexml" id="S4.SS2.p5.5.m5.1.1.1.cmml" xref="S4.SS2.p5.5.m5.1.1.1">percent</csymbol><cn id="S4.SS2.p5.5.m5.1.1.2.cmml" type="float" xref="S4.SS2.p5.5.m5.1.1.2">415.84</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.5.m5.1c">415.84\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.5.m5.1d">415.84 %</annotation></semantics></math>.
This discrepancy arises because ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p5.6.m6.1"><semantics id="S4.SS2.p5.6.m6.1a"><msup id="S4.SS2.p5.6.m6.1.1" xref="S4.SS2.p5.6.m6.1.1.cmml"><mi id="S4.SS2.p5.6.m6.1.1a" xref="S4.SS2.p5.6.m6.1.1.cmml"></mi><mo id="S4.SS2.p5.6.m6.1.1.1" xref="S4.SS2.p5.6.m6.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.6.m6.1b"><apply id="S4.SS2.p5.6.m6.1.1.cmml" xref="S4.SS2.p5.6.m6.1.1"><times id="S4.SS2.p5.6.m6.1.1.1.cmml" xref="S4.SS2.p5.6.m6.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.6.m6.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.6.m6.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> focuses on expanding only the immediate next action during exploration. In contrast, MCTS goes through a more exhaustive process, simulating the entire future plan step by step using a rollout mechanism.
Efficiency results based on GPT-4 are available in Appendix <a class="ltx_ref" href="#A4.SS5" title="D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">D.5</span></a>.</p>
</div>
<figure class="ltx_figure" id="S4.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_flex_size_2 ltx_align_center" id="S4.F5.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="185" id="S4.F5.sf1.g1" src="x5.png" width="374"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>ToolBench.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_flex_size_2 ltx_align_center" id="S4.F5.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="185" id="S4.F5.sf2.g1" src="x6.png" width="374"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>GSM8K.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Time efficiency evaluation on (a) ToolBench and (b) GSM8K. We report the average running time in seconds over all instances in the dataset. ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.F5.2.m1.1"><semantics id="S4.F5.2.m1.1b"><msup id="S4.F5.2.m1.1.1" xref="S4.F5.2.m1.1.1.cmml"><mi id="S4.F5.2.m1.1.1b" xref="S4.F5.2.m1.1.1.cmml"></mi><mo id="S4.F5.2.m1.1.1.1" xref="S4.F5.2.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.F5.2.m1.1c"><apply id="S4.F5.2.m1.1.1.cmml" xref="S4.F5.2.m1.1.1"><times id="S4.F5.2.m1.1.1.1.cmml" xref="S4.F5.2.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.2.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.F5.2.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> achieves competitive efficiency to closed-loop systems without a tree structure and outpaces other tree search-based algorithms.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS2.p6">
<p class="ltx_p" id="S4.SS2.p6.4"><span class="ltx_text ltx_font_bold" id="S4.SS2.p6.4.1">Ablation Studies.</span>
We conduct ablation studies to evaluate the effectiveness (success rate) of both the cumulative and future cost functions (Table <a class="ltx_ref" href="#S4.T2" title="Table 2 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">2</span></a>).
The results suggest that each component of the cumulative and future cost functions contributes to the performance of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p6.1.m1.1"><semantics id="S4.SS2.p6.1.m1.1a"><msup id="S4.SS2.p6.1.m1.1.1" xref="S4.SS2.p6.1.m1.1.1.cmml"><mi id="S4.SS2.p6.1.m1.1.1a" xref="S4.SS2.p6.1.m1.1.1.cmml"></mi><mo id="S4.SS2.p6.1.m1.1.1.1" xref="S4.SS2.p6.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p6.1.m1.1b"><apply id="S4.SS2.p6.1.m1.1.1.cmml" xref="S4.SS2.p6.1.m1.1.1"><times id="S4.SS2.p6.1.m1.1.1.1.cmml" xref="S4.SS2.p6.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p6.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p6.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>. This verifies the efficacy of our proposed cost functions in guiding the search through the decision tree.
In addition, eliminating either the entire cumulative or future cost results in a marked decline in the success rate.
Relying exclusively on the future cost results in a sharp performance drop of <math alttext="28.2\%" class="ltx_Math" display="inline" id="S4.SS2.p6.2.m2.1"><semantics id="S4.SS2.p6.2.m2.1a"><mrow id="S4.SS2.p6.2.m2.1.1" xref="S4.SS2.p6.2.m2.1.1.cmml"><mn id="S4.SS2.p6.2.m2.1.1.2" xref="S4.SS2.p6.2.m2.1.1.2.cmml">28.2</mn><mo id="S4.SS2.p6.2.m2.1.1.1" xref="S4.SS2.p6.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p6.2.m2.1b"><apply id="S4.SS2.p6.2.m2.1.1.cmml" xref="S4.SS2.p6.2.m2.1.1"><csymbol cd="latexml" id="S4.SS2.p6.2.m2.1.1.1.cmml" xref="S4.SS2.p6.2.m2.1.1.1">percent</csymbol><cn id="S4.SS2.p6.2.m2.1.1.2.cmml" type="float" xref="S4.SS2.p6.2.m2.1.1.2">28.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p6.2.m2.1c">28.2\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p6.2.m2.1d">28.2 %</annotation></semantics></math>, deteriorating ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p6.3.m3.1"><semantics id="S4.SS2.p6.3.m3.1a"><msup id="S4.SS2.p6.3.m3.1.1" xref="S4.SS2.p6.3.m3.1.1.cmml"><mi id="S4.SS2.p6.3.m3.1.1a" xref="S4.SS2.p6.3.m3.1.1.cmml"></mi><mo id="S4.SS2.p6.3.m3.1.1.1" xref="S4.SS2.p6.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p6.3.m3.1b"><apply id="S4.SS2.p6.3.m3.1.1.cmml" xref="S4.SS2.p6.3.m3.1.1"><times id="S4.SS2.p6.3.m3.1.1.1.cmml" xref="S4.SS2.p6.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p6.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p6.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> to a greedy strategy that favors the shortest solution plans with the least number of actions.
Conversely, if the search is guided only by the cumulative cost, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p6.4.m4.1"><semantics id="S4.SS2.p6.4.m4.1a"><msup id="S4.SS2.p6.4.m4.1.1" xref="S4.SS2.p6.4.m4.1.1.cmml"><mi id="S4.SS2.p6.4.m4.1.1a" xref="S4.SS2.p6.4.m4.1.1.cmml"></mi><mo id="S4.SS2.p6.4.m4.1.1.1" xref="S4.SS2.p6.4.m4.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p6.4.m4.1b"><apply id="S4.SS2.p6.4.m4.1.1.cmml" xref="S4.SS2.p6.4.m4.1.1"><times id="S4.SS2.p6.4.m4.1.1.1.cmml" xref="S4.SS2.p6.4.m4.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p6.4.m4.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p6.4.m4.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> essentially mirrors the behavior of the BFS algorithm, yielding similar performance.
Further ablation study analysis can be found in Appendix <a class="ltx_ref" href="#A4.SS6" title="D.6 Ablation Studies Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">D.6</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Math Reasoning: GSM8K</h3>
<div class="ltx_para ltx_noindent" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">Beyond tool-use scenarios, we demonstrate the flexibility of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS3.p1.1.m1.1"><semantics id="S4.SS3.p1.1.m1.1a"><msup id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml"><mi id="S4.SS3.p1.1.m1.1.1a" xref="S4.SS3.p1.1.m1.1.1.cmml"></mi><mo id="S4.SS3.p1.1.m1.1.1.1" xref="S4.SS3.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><apply id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1"><times id="S4.SS3.p1.1.m1.1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> by generalizing its application to mathematical reasoning for solving math word problems.
We conduct experiments on the entire set of GSM8K and also a subset of hard questions from GSM8K collected in ToolQA <cite class="ltx_cite ltx_citemacro_citep">(Zhuang et al., <a class="ltx_ref" href="#bib.bib61" title="">2023</a>)</cite>.
Detailed task setup for GSM8K is available in Appendix <a class="ltx_ref" href="#A2.SS4" title="B.4 Task Setup for GSM8K ‣ Appendix B Implementation Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">B.4</span></a>.
</p>
</div>
<figure class="ltx_table ltx_align_floatright" id="S4.T3">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Main results on math reasoning task in GSM8K and its hard subset collected in ToolQA.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T3.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T3.1.1.1.1" rowspan="2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T3.1.1.1.1.1">Models</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T3.1.1.1.2" style="padding-left:3.0pt;padding-right:3.0pt;">GPT-3.5-turbo</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T3.1.1.1.3" style="padding-left:3.0pt;padding-right:3.0pt;">GPT-4</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.2.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.2.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">GSM8K</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.2.2.2" style="padding-left:3.0pt;padding-right:3.0pt;">ToolQA</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.2.2.3" style="padding-left:3.0pt;padding-right:3.0pt;">GSM8K</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.2.2.4" style="padding-left:3.0pt;padding-right:3.0pt;">ToolQA</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.1.3.3.1" style="padding-left:3.0pt;padding-right:3.0pt;">GPT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.3.3.2" style="padding-left:3.0pt;padding-right:3.0pt;">67.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.3.3.3" style="padding-left:3.0pt;padding-right:3.0pt;">26.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.3.3.4" style="padding-left:3.0pt;padding-right:3.0pt;">86.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.3.3.5" style="padding-left:3.0pt;padding-right:3.0pt;">66.0</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.1.4.4.1" style="padding-left:3.0pt;padding-right:3.0pt;">CoT</th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.4.4.2" style="padding-left:3.0pt;padding-right:3.0pt;">70.1</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.4.4.3" style="padding-left:3.0pt;padding-right:3.0pt;">30.0</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.4.4.4" style="padding-left:3.0pt;padding-right:3.0pt;">87.5</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.4.4.5" style="padding-left:3.0pt;padding-right:3.0pt;">75.0</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.1.5.5.1" style="padding-left:3.0pt;padding-right:3.0pt;">Self-Consistency</th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.5.5.2" style="padding-left:3.0pt;padding-right:3.0pt;">76.1</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.5.5.3" style="padding-left:3.0pt;padding-right:3.0pt;">47.0</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.5.5.4" style="padding-left:3.0pt;padding-right:3.0pt;">92.4</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.5.5.5" style="padding-left:3.0pt;padding-right:3.0pt;">78.0</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.1.6.6.1" style="padding-left:3.0pt;padding-right:3.0pt;">ToT-DFS</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.6.6.2" style="padding-left:3.0pt;padding-right:3.0pt;">69.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.6.6.3" style="padding-left:3.0pt;padding-right:3.0pt;">32.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.6.6.4" style="padding-left:3.0pt;padding-right:3.0pt;">89.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.6.6.5" style="padding-left:3.0pt;padding-right:3.0pt;">76.0</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.1.7.7.1" style="padding-left:3.0pt;padding-right:3.0pt;">ToT-BFS</th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.7.7.2" style="padding-left:3.0pt;padding-right:3.0pt;">72.3</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.7.7.3" style="padding-left:3.0pt;padding-right:3.0pt;">39.0</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.7.7.4" style="padding-left:3.0pt;padding-right:3.0pt;">91.3</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.7.7.5" style="padding-left:3.0pt;padding-right:3.0pt;">77.0</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.1.8.8.1" style="padding-left:3.0pt;padding-right:3.0pt;">MCTS</th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.8.8.2" style="padding-left:3.0pt;padding-right:3.0pt;">74.7</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.8.8.3" style="padding-left:3.0pt;padding-right:3.0pt;">27.0</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.8.8.4" style="padding-left:3.0pt;padding-right:3.0pt;">91.0</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.8.8.5" style="padding-left:3.0pt;padding-right:3.0pt;">74.0</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.9.9" style="background-color:#E6F2F2;">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T3.1.9.9.1" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="S4.T3.1.9.9.1.1" style="background-color:#E6F2F2;">ToolChain*</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.9.9.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.9.9.2.1" style="background-color:#E6F2F2;">77.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.9.9.3" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.9.9.3.1" style="background-color:#E6F2F2;">52.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.9.9.4" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.9.9.4.1" style="background-color:#E6F2F2;">93.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.9.9.5" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.9.9.5.1" style="background-color:#E6F2F2;">84.0</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.5"><span class="ltx_text ltx_font_bold" id="S4.SS3.p2.5.1">Results.</span>
Table <a class="ltx_ref" href="#S4.T3" title="Table 3 ‣ 4.3 Math Reasoning: GSM8K ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">3</span></a> presents the main experimental results (accuracy) for GSM8K and its challenging subset from ToolQA.
Similar to tool-use studies (Table <a class="ltx_ref" href="#S4.T1" title="Table 1 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">1</span></a>), ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS3.p2.1.m1.1"><semantics id="S4.SS3.p2.1.m1.1a"><msup id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml"><mi id="S4.SS3.p2.1.m1.1.1a" xref="S4.SS3.p2.1.m1.1.1.cmml"></mi><mo id="S4.SS3.p2.1.m1.1.1.1" xref="S4.SS3.p2.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><apply id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1"><times id="S4.SS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> consistently outperforms all baselines in both the original set and the challenging subset. These results demonstrate the flexibility and generalization capabilities of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS3.p2.2.m2.1"><semantics id="S4.SS3.p2.2.m2.1a"><msup id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml"><mi id="S4.SS3.p2.2.m2.1.1a" xref="S4.SS3.p2.2.m2.1.1.cmml"></mi><mo id="S4.SS3.p2.2.m2.1.1.1" xref="S4.SS3.p2.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><apply id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1"><times id="S4.SS3.p2.2.m2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> in mathematical reasoning tasks.
Notably, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS3.p2.3.m3.1"><semantics id="S4.SS3.p2.3.m3.1a"><msup id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml"><mi id="S4.SS3.p2.3.m3.1.1a" xref="S4.SS3.p2.3.m3.1.1.cmml"></mi><mo id="S4.SS3.p2.3.m3.1.1.1" xref="S4.SS3.p2.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><apply id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1"><times id="S4.SS3.p2.3.m3.1.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> demonstrates greater advantages over other baselines on ToolQA (hard questions) than on GSM8K, indicating its superior capability in solving complicated tasks.
This is because simpler questions are composed of simple and static reasoning, eliminating the need for multiple branches. In contrast, challenging questions often involve complex reasoning, numerous intermediate steps, and multiple solution paths.
The superior performance on hard subsets emphasizes the capability of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS3.p2.4.m4.1"><semantics id="S4.SS3.p2.4.m4.1a"><msup id="S4.SS3.p2.4.m4.1.1" xref="S4.SS3.p2.4.m4.1.1.cmml"><mi id="S4.SS3.p2.4.m4.1.1a" xref="S4.SS3.p2.4.m4.1.1.cmml"></mi><mo id="S4.SS3.p2.4.m4.1.1.1" xref="S4.SS3.p2.4.m4.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m4.1b"><apply id="S4.SS3.p2.4.m4.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1"><times id="S4.SS3.p2.4.m4.1.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m4.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.4.m4.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> in solving complicated reasoning problems.
Furthermore, the efficiency analysis presented in Figure <a class="ltx_ref" href="#S4.F5.sf2" title="5(b) ‣ Figure 5 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">5(b)</span></a> indicates that ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS3.p2.5.m5.1"><semantics id="S4.SS3.p2.5.m5.1a"><msup id="S4.SS3.p2.5.m5.1.1" xref="S4.SS3.p2.5.m5.1.1.cmml"><mi id="S4.SS3.p2.5.m5.1.1a" xref="S4.SS3.p2.5.m5.1.1.cmml"></mi><mo id="S4.SS3.p2.5.m5.1.1.1" xref="S4.SS3.p2.5.m5.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.5.m5.1b"><apply id="S4.SS3.p2.5.m5.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1"><times id="S4.SS3.p2.5.m5.1.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.5.m5.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.5.m5.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> ranks among the most efficient tree-based search baselines and has a time efficiency comparable to closed-loop systems without a tree structure.
Detailed <span class="ltx_text ltx_font_bold" id="S4.SS3.p2.5.2">case studies</span> of action space exploration and <span class="ltx_text ltx_font_bold" id="S4.SS3.p2.5.3">efficiency analysis</span> with the number of valid actions are available in Appendix <a class="ltx_ref" href="#A4.SS4" title="D.4 Case Studies ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">D.4</span></a> and <a class="ltx_ref" href="#A4.SS5" title="D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">D.5</span></a>, respectively.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Discussion: Empirical Analysis</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.2">From the comprehensive evaluations in planning and reasoning tasks presented in Sections <a class="ltx_ref" href="#S4.SS2" title="4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">4.2</span></a> and <a class="ltx_ref" href="#S4.SS3" title="4.3 Math Reasoning: GSM8K ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">4.3</span></a>, we validate that ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS4.p1.1.m1.1"><semantics id="S4.SS4.p1.1.m1.1a"><msup id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml"><mi id="S4.SS4.p1.1.m1.1.1a" xref="S4.SS4.p1.1.m1.1.1.cmml"></mi><mo id="S4.SS4.p1.1.m1.1.1.1" xref="S4.SS4.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><apply id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1"><times id="S4.SS4.p1.1.m1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> addresses the two core limitations of open-/closed-loop LLM-based agents, error propagation in multi-step solutions and constrained exploration in expansive action spaces. Meanwhile, we demonstrate ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS4.p1.2.m2.1"><semantics id="S4.SS4.p1.2.m2.1a"><msup id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml"><mi id="S4.SS4.p1.2.m2.1.1a" xref="S4.SS4.p1.2.m2.1.1.cmml"></mi><mo id="S4.SS4.p1.2.m2.1.1.1" xref="S4.SS4.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><apply id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1"><times id="S4.SS4.p1.2.m2.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> a more efficient searching strategy compared to existing tree search-based agents.
From the scaling-up analysis in Figure <a class="ltx_ref" href="#A4.F10" title="Figure 10 ‣ D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">10</span></a> in Appendix <a class="ltx_ref" href="#A4.SS5" title="D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">D.5</span></a>, alongside experimental results in Table <a class="ltx_ref" href="#S4.T1" title="Table 1 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">1</span></a> and efficiency metrics in Figure <a class="ltx_ref" href="#S4.F5" title="Figure 5 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">5</span></a>, we identify <span class="ltx_text ltx_font_bold" id="S4.SS4.p1.2.1">a crucial trade-off</span> between effectiveness and efficiency in the direct application of tree search-based reasoning methods to complex tool use scenarios.</p>
</div>
<figure class="ltx_figure ltx_align_floatright" id="S4.F6">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_flex_size_2 ltx_align_center" id="S4.F6.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="283" id="S4.F6.sf1.g1" src="x7.png" width="365"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Performance</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_flex_size_2 ltx_align_center" id="S4.F6.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="286" id="S4.F6.sf2.g1" src="x8.png" width="374"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Running Time</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Scaling analysis of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.F6.3.m1.1"><semantics id="S4.F6.3.m1.1b"><msup id="S4.F6.3.m1.1.1" xref="S4.F6.3.m1.1.1.cmml"><mi id="S4.F6.3.m1.1.1b" xref="S4.F6.3.m1.1.1.cmml"></mi><mo id="S4.F6.3.m1.1.1.1" xref="S4.F6.3.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.F6.3.m1.1c"><apply id="S4.F6.3.m1.1.1.cmml" xref="S4.F6.3.m1.1.1"><times id="S4.F6.3.m1.1.1.1.cmml" xref="S4.F6.3.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F6.3.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.F6.3.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>. (a) Performance and (b) running time on ToolBench and GSM8K when scaling up step limitations <math alttext="T" class="ltx_Math" display="inline" id="S4.F6.4.m2.1"><semantics id="S4.F6.4.m2.1b"><mi id="S4.F6.4.m2.1.1" xref="S4.F6.4.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.F6.4.m2.1c"><ci id="S4.F6.4.m2.1.1.cmml" xref="S4.F6.4.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F6.4.m2.1d">T</annotation><annotation encoding="application/x-llamapun" id="S4.F6.4.m2.1e">italic_T</annotation></semantics></math>.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.8">To validate ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS4.p2.1.m1.1"><semantics id="S4.SS4.p2.1.m1.1a"><msup id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><mi id="S4.SS4.p2.1.m1.1.1a" xref="S4.SS4.p2.1.m1.1.1.cmml"></mi><mo id="S4.SS4.p2.1.m1.1.1.1" xref="S4.SS4.p2.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><times id="S4.SS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> in solving these issues, we summarize key findings from experiments as follows:
(1) From the main experimental results shown in Tables <a class="ltx_ref" href="#S4.T1" title="Table 1 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">1</span></a> and <a class="ltx_ref" href="#S4.T3" title="Table 3 ‣ 4.3 Math Reasoning: GSM8K ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">3</span></a>, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS4.p2.2.m2.1"><semantics id="S4.SS4.p2.2.m2.1a"><msup id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><mi id="S4.SS4.p2.2.m2.1.1a" xref="S4.SS4.p2.2.m2.1.1.cmml"></mi><mo id="S4.SS4.p2.2.m2.1.1.1" xref="S4.SS4.p2.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><times id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> surpasses open-/closed-loop and tree search baselines in complex multi-step planning and reasoning tasks, effectively <span class="ltx_text ltx_font_bold" id="S4.SS4.p2.8.1">mitigating error propagation</span>. A visualization example of how ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS4.p2.3.m3.1"><semantics id="S4.SS4.p2.3.m3.1a"><msup id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml"><mi id="S4.SS4.p2.3.m3.1.1a" xref="S4.SS4.p2.3.m3.1.1.cmml"></mi><mo id="S4.SS4.p2.3.m3.1.1.1" xref="S4.SS4.p2.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><apply id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1"><times id="S4.SS4.p2.3.m3.1.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> gradually abandons the faulty path and mitigates error propagation is available in Figure <a class="ltx_ref" href="#A4.F7" title="Figure 7 ‣ D.4 Case Studies ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">7</span></a> in Appendix <a class="ltx_ref" href="#A4.SS4" title="D.4 Case Studies ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">D.4</span></a>.
(2) From case studies in Figures <a class="ltx_ref" href="#S4.F4" title="Figure 4 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">4</span></a>, <a class="ltx_ref" href="#A4.F7" title="Figure 7 ‣ D.4 Case Studies ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">7</span></a>, and <a class="ltx_ref" href="#A4.F8" title="Figure 8 ‣ D.4 Case Studies ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">8</span></a>, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS4.p2.4.m4.1"><semantics id="S4.SS4.p2.4.m4.1a"><msup id="S4.SS4.p2.4.m4.1.1" xref="S4.SS4.p2.4.m4.1.1.cmml"><mi id="S4.SS4.p2.4.m4.1.1a" xref="S4.SS4.p2.4.m4.1.1.cmml"></mi><mo id="S4.SS4.p2.4.m4.1.1.1" xref="S4.SS4.p2.4.m4.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.4.m4.1b"><apply id="S4.SS4.p2.4.m4.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1"><times id="S4.SS4.p2.4.m4.1.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.4.m4.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.4.m4.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> navigates the path toward an optimal solution by formulating the action space as a decision tree, thereby extensively <span class="ltx_text ltx_font_bold" id="S4.SS4.p2.8.2">broadening the exploration space</span>. (3) From Figures <a class="ltx_ref" href="#S4.F5" title="Figure 5 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">5</span></a> and <a class="ltx_ref" href="#A4.F9" title="Figure 9 ‣ D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">9</span></a>, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS4.p2.5.m5.1"><semantics id="S4.SS4.p2.5.m5.1a"><msup id="S4.SS4.p2.5.m5.1.1" xref="S4.SS4.p2.5.m5.1.1.cmml"><mi id="S4.SS4.p2.5.m5.1.1a" xref="S4.SS4.p2.5.m5.1.1.cmml"></mi><mo id="S4.SS4.p2.5.m5.1.1.1" xref="S4.SS4.p2.5.m5.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.5.m5.1b"><apply id="S4.SS4.p2.5.m5.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1"><times id="S4.SS4.p2.5.m5.1.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.5.m5.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.5.m5.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> significantly accelerates the search process compared to other tree search-based methods, <span class="ltx_text ltx_font_bold" id="S4.SS4.p2.8.3">achieving time efficiency</span> even comparable to closed-loop systems without a tree structure. (4) From tool-use in ToolBench to math problems in GSM8K, we show that ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS4.p2.6.m6.1"><semantics id="S4.SS4.p2.6.m6.1a"><msup id="S4.SS4.p2.6.m6.1.1" xref="S4.SS4.p2.6.m6.1.1.cmml"><mi id="S4.SS4.p2.6.m6.1.1a" xref="S4.SS4.p2.6.m6.1.1.cmml"></mi><mo id="S4.SS4.p2.6.m6.1.1.1" xref="S4.SS4.p2.6.m6.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.6.m6.1b"><apply id="S4.SS4.p2.6.m6.1.1.cmml" xref="S4.SS4.p2.6.m6.1.1"><times id="S4.SS4.p2.6.m6.1.1.1.cmml" xref="S4.SS4.p2.6.m6.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.6.m6.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.6.m6.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> is a <span class="ltx_text ltx_font_bold" id="S4.SS4.p2.8.4">plug-and-play generalizable framework</span> applicable to a wide range of planning and reasoning problems. Notably, it exhibits exceptional proficiency in solving more challenging tasks, like ToolQA, compared to baselines. Additional results in Appendix <a class="ltx_ref" href="#A5" title="Appendix E Additional Dataset: Science QA ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">E</span></a> and <a class="ltx_ref" href="#A6" title="Appendix F Open-Source LLMs ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">F</span></a> show that ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS4.p2.7.m7.1"><semantics id="S4.SS4.p2.7.m7.1a"><msup id="S4.SS4.p2.7.m7.1.1" xref="S4.SS4.p2.7.m7.1.1.cmml"><mi id="S4.SS4.p2.7.m7.1.1a" xref="S4.SS4.p2.7.m7.1.1.cmml"></mi><mo id="S4.SS4.p2.7.m7.1.1.1" xref="S4.SS4.p2.7.m7.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.7.m7.1b"><apply id="S4.SS4.p2.7.m7.1.1.cmml" xref="S4.SS4.p2.7.m7.1.1"><times id="S4.SS4.p2.7.m7.1.1.1.cmml" xref="S4.SS4.p2.7.m7.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.7.m7.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.7.m7.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> can generalize to a wide range of complex reasoning tasks and open-source LLMs (<em class="ltx_emph ltx_font_italic" id="S4.SS4.p2.8.5">e.g.</em>, LLaMA 2 <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al., <a class="ltx_ref" href="#bib.bib42" title="">2023</a>)</cite>). (5) There is a trade-off between search depth (<span class="ltx_text ltx_font_italic" id="S4.SS4.p2.8.6">i.e.</span>, limitations on the number of steps) and the quality of the solution path (Figure <a class="ltx_ref" href="#S4.F6" title="Figure 6 ‣ 4.4 Discussion: Empirical Analysis ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">6</span></a>). ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S4.SS4.p2.8.m8.1"><semantics id="S4.SS4.p2.8.m8.1a"><msup id="S4.SS4.p2.8.m8.1.1" xref="S4.SS4.p2.8.m8.1.1.cmml"><mi id="S4.SS4.p2.8.m8.1.1a" xref="S4.SS4.p2.8.m8.1.1.cmml"></mi><mo id="S4.SS4.p2.8.m8.1.1.1" xref="S4.SS4.p2.8.m8.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.8.m8.1b"><apply id="S4.SS4.p2.8.m8.1.1.cmml" xref="S4.SS4.p2.8.m8.1.1"><times id="S4.SS4.p2.8.m8.1.1.1.cmml" xref="S4.SS4.p2.8.m8.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.8.m8.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.8.m8.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> efficiently searches optimal solutions within limited steps, striking a <span class="ltx_text ltx_font_bold" id="S4.SS4.p2.8.7">balance between exploration and exploitation</span>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Related Works</h2>
<div class="ltx_para ltx_noindent" id="S5.p1">
<p class="ltx_p" id="S5.p1.1"><span class="ltx_text ltx_font_bold" id="S5.p1.1.1">LLMs for Tool Use.</span>
Recent advances have leveraged LLMs as autonomous agents to master tools and generate solution plans for complicated problems <cite class="ltx_cite ltx_citemacro_citep">(Qin et al., <a class="ltx_ref" href="#bib.bib33" title="">2023a</a>; <a class="ltx_ref" href="#bib.bib34" title="">b</a>; Mialon et al., <a class="ltx_ref" href="#bib.bib24" title="">2023</a>)</cite>.
Interacting with various tools, LLM agents can augment themselves with real-time factual knowledge <cite class="ltx_cite ltx_citemacro_citep">(Nakano et al., <a class="ltx_ref" href="#bib.bib27" title="">2022</a>; Yang et al., <a class="ltx_ref" href="#bib.bib51" title="">2023a</a>)</cite>, multi-modality understanding <cite class="ltx_cite ltx_citemacro_citep">(Shen et al., <a class="ltx_ref" href="#bib.bib38" title="">2023</a>; Lu et al., <a class="ltx_ref" href="#bib.bib23" title="">2023</a>; Yang et al., <a class="ltx_ref" href="#bib.bib53" title="">2023c</a>)</cite>, computational abilities <cite class="ltx_cite ltx_citemacro_citep">(Schick et al., <a class="ltx_ref" href="#bib.bib37" title="">2023</a>; Parisi et al., <a class="ltx_ref" href="#bib.bib30" title="">2022</a>)</cite>, code interpretabilities <cite class="ltx_cite ltx_citemacro_citep">(Gao et al., <a class="ltx_ref" href="#bib.bib6" title="">2022</a>; Paranjape et al., <a class="ltx_ref" href="#bib.bib29" title="">2023</a>)</cite>, and domain-specific functionalities <cite class="ltx_cite ltx_citemacro_citep">(Zhang, <a class="ltx_ref" href="#bib.bib57" title="">2023</a>; Jin et al., <a class="ltx_ref" href="#bib.bib15" title="">2023</a>)</cite>.
However, many existing methods either concentrate on individual tool-use scenarios <cite class="ltx_cite ltx_citemacro_citep">(Schick et al., <a class="ltx_ref" href="#bib.bib37" title="">2023</a>; Parisi et al., <a class="ltx_ref" href="#bib.bib30" title="">2022</a>)</cite> or simply inject human-made heuristic ordering rules for multi-tool utilization <cite class="ltx_cite ltx_citemacro_citep">(Shen et al., <a class="ltx_ref" href="#bib.bib38" title="">2023</a>; Lu et al., <a class="ltx_ref" href="#bib.bib23" title="">2023</a>)</cite>.
With the increasing number of potential API functions at each step and the escalating sequence of actions for complex problem solutions, the action space expands exponentially, thereby diminishing their effectiveness.
ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S5.p1.1.m1.1"><semantics id="S5.p1.1.m1.1a"><msup id="S5.p1.1.m1.1.1" xref="S5.p1.1.m1.1.1.cmml"><mi id="S5.p1.1.m1.1.1a" xref="S5.p1.1.m1.1.1.cmml"></mi><mo id="S5.p1.1.m1.1.1.1" xref="S5.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S5.p1.1.m1.1b"><apply id="S5.p1.1.m1.1.1.cmml" xref="S5.p1.1.m1.1.1"><times id="S5.p1.1.m1.1.1.1.cmml" xref="S5.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S5.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> frames the planning challenge across various tools as navigation through the action space to efficiently identify a valid solution path.
</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.p2">
<p class="ltx_p" id="S5.p2.2"><span class="ltx_text ltx_font_bold" id="S5.p2.2.1">LLMs with Search Algorithms.</span>
The majority of LLM-based agents with open- or closed-loop systems rely on linear reasoning or planning structure.
To explore multiple branches in the action space,
self-consistency <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="#bib.bib44" title="">2022b</a>)</cite> samples multiple chains of thoughts, which can be considered as multiple i.i.d. solution paths in the decision space, selecting the best answer through majority voting.
Maieutic prompting <cite class="ltx_cite ltx_citemacro_citep">(Jung et al., <a class="ltx_ref" href="#bib.bib16" title="">2022</a>)</cite> generates a tree of explanations, enforcing logical consistency.
<cite class="ltx_cite ltx_citemacro_cite">Xie et al. (<a class="ltx_ref" href="#bib.bib49" title="">2023</a>)</cite> adopts beam search to decode and improve Chain-of-Thoughts reasoning chain.
CoRe <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al., <a class="ltx_ref" href="#bib.bib60" title="">2023</a>)</cite> proposes to fine-tune both the reasoning step generator and verifier to solve math word problems, incorporating MCTS for reasoning decoding.
Tree-of-Thoughts <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite> utilizes heuristic approaches, including depth- and breadth-first search to identify better reasoning pathways.
Additionally, RAP <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite> combines a world model with rewards within an advanced MCTS search approach.
However, many search-guided planning approaches face the trade-off between efficient exploration of an expansive action space against the effective exploitation of global optimal solutions.
To avoid exhaustive exploration like MCTS, we propose ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S5.p2.1.m1.1"><semantics id="S5.p2.1.m1.1a"><msup id="S5.p2.1.m1.1.1" xref="S5.p2.1.m1.1.1.cmml"><mi id="S5.p2.1.m1.1.1a" xref="S5.p2.1.m1.1.1.cmml"></mi><mo id="S5.p2.1.m1.1.1.1" xref="S5.p2.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S5.p2.1.m1.1b"><apply id="S5.p2.1.m1.1.1.cmml" xref="S5.p2.1.m1.1.1"><times id="S5.p2.1.m1.1.1.1.cmml" xref="S5.p2.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S5.p2.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> to combine efficient A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S5.p2.2.m2.1"><semantics id="S5.p2.2.m2.1a"><msup id="S5.p2.2.m2.1.1" xref="S5.p2.2.m2.1.1.cmml"><mi id="S5.p2.2.m2.1.1a" xref="S5.p2.2.m2.1.1.cmml"></mi><mo id="S5.p2.2.m2.1.1.1" xref="S5.p2.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S5.p2.2.m2.1b"><apply id="S5.p2.2.m2.1.1.cmml" xref="S5.p2.2.m2.1.1"><times id="S5.p2.2.m2.1.1.1.cmml" xref="S5.p2.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S5.p2.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> search with the effective reasoning ability of LLMs.</p>
</div>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>
<div class="ltx_para ltx_noindent" id="S6.p1">
<p class="ltx_p" id="S6.p1.6">In this paper, we propose ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S6.p1.1.m1.1"><semantics id="S6.p1.1.m1.1a"><msup id="S6.p1.1.m1.1.1" xref="S6.p1.1.m1.1.1.cmml"><mi id="S6.p1.1.m1.1.1a" xref="S6.p1.1.m1.1.1.cmml"></mi><mo id="S6.p1.1.m1.1.1.1" xref="S6.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S6.p1.1.m1.1b"><apply id="S6.p1.1.m1.1.1.cmml" xref="S6.p1.1.m1.1.1"><times id="S6.p1.1.m1.1.1.1.cmml" xref="S6.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S6.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>, an A<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S6.p1.2.m2.1"><semantics id="S6.p1.2.m2.1a"><msup id="S6.p1.2.m2.1.1" xref="S6.p1.2.m2.1.1.cmml"><mi id="S6.p1.2.m2.1.1a" xref="S6.p1.2.m2.1.1.cmml"></mi><mo id="S6.p1.2.m2.1.1.1" xref="S6.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S6.p1.2.m2.1b"><apply id="S6.p1.2.m2.1.1.cmml" xref="S6.p1.2.m2.1.1"><times id="S6.p1.2.m2.1.1.1.cmml" xref="S6.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S6.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> tree search-based planning algorithm to augment LLMs with external tools for complicated real-world planning and reasoning tasks.
Compared to existing open- or closed-loop LLM agents, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S6.p1.3.m3.1"><semantics id="S6.p1.3.m3.1a"><msup id="S6.p1.3.m3.1.1" xref="S6.p1.3.m3.1.1.cmml"><mi id="S6.p1.3.m3.1.1a" xref="S6.p1.3.m3.1.1.cmml"></mi><mo id="S6.p1.3.m3.1.1.1" xref="S6.p1.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S6.p1.3.m3.1b"><apply id="S6.p1.3.m3.1.1.cmml" xref="S6.p1.3.m3.1.1"><times id="S6.p1.3.m3.1.1.1.cmml" xref="S6.p1.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S6.p1.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> formulates the action space as a decision tree, thereby effectively mitigating error propagation and extensively expanding the search space.
Furthermore, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S6.p1.4.m4.1"><semantics id="S6.p1.4.m4.1a"><msup id="S6.p1.4.m4.1.1" xref="S6.p1.4.m4.1.1.cmml"><mi id="S6.p1.4.m4.1.1a" xref="S6.p1.4.m4.1.1.cmml"></mi><mo id="S6.p1.4.m4.1.1.1" xref="S6.p1.4.m4.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S6.p1.4.m4.1b"><apply id="S6.p1.4.m4.1.1.cmml" xref="S6.p1.4.m4.1.1"><times id="S6.p1.4.m4.1.1.1.cmml" xref="S6.p1.4.m4.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.4.m4.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S6.p1.4.m4.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> significantly accelerates the search process compared to other tree search-based methods, enabling tree search in complicated action space and striking a dynamic balance between exploration and exploitation.
We demonstrate ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S6.p1.5.m5.1"><semantics id="S6.p1.5.m5.1a"><msup id="S6.p1.5.m5.1.1" xref="S6.p1.5.m5.1.1.cmml"><mi id="S6.p1.5.m5.1.1a" xref="S6.p1.5.m5.1.1.cmml"></mi><mo id="S6.p1.5.m5.1.1.1" xref="S6.p1.5.m5.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S6.p1.5.m5.1b"><apply id="S6.p1.5.m5.1.1.cmml" xref="S6.p1.5.m5.1.1"><times id="S6.p1.5.m5.1.1.1.cmml" xref="S6.p1.5.m5.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.5.m5.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S6.p1.5.m5.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> as a generalizable framework in a wide range of planning and reasoning tasks with both closed- and open-source LLMs.
By achieving significant improvements over state-of-the-art baselines, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="S6.p1.6.m6.1"><semantics id="S6.p1.6.m6.1a"><msup id="S6.p1.6.m6.1.1" xref="S6.p1.6.m6.1.1.cmml"><mi id="S6.p1.6.m6.1.1a" xref="S6.p1.6.m6.1.1.cmml"></mi><mo id="S6.p1.6.m6.1.1.1" xref="S6.p1.6.m6.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="S6.p1.6.m6.1b"><apply id="S6.p1.6.m6.1.1.cmml" xref="S6.p1.6.m6.1.1"><times id="S6.p1.6.m6.1.1.1.cmml" xref="S6.p1.6.m6.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.6.m6.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="S6.p1.6.m6.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> showcases its potential as an efficient planning algorithm, navigating LLM-based agents in addressing complex real-world challenges.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anil et al. (2023)</span>
<span class="ltx_bibblock">
Rohan Anil, Andrew M Dai, Orhan Firat, Melvin Johnson, Dmitry Lepikhin, Alexandre Passos, Siamak Shakeri, Emanuel Taropa, Paige Bailey, Zhifeng Chen, et al.

</span>
<span class="ltx_bibblock">Palm 2 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2305.10403</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et al.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">Advances in neural information processing systems</em>, 33:1877–1901, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2022)</span>
<span class="ltx_bibblock">
Wenhu Chen, Xueguang Ma, Xinyi Wang, and William W Cohen.

</span>
<span class="ltx_bibblock">Program of thoughts prompting: Disentangling computation from reasoning for numerical reasoning tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">arXiv preprint arXiv:2211.12588</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chowdhery et al. (2022)</span>
<span class="ltx_bibblock">
Aakanksha Chowdhery, Sharan Narang, Jacob Devlin, Maarten Bosma, Gaurav Mishra, Adam Roberts, Paul Barham, Hyung Won Chung, Charles Sutton, Sebastian Gehrmann, et al.

</span>
<span class="ltx_bibblock">Palm: Scaling language modeling with pathways.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">arXiv preprint arXiv:2204.02311</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cobbe et al. (2021)</span>
<span class="ltx_bibblock">
Karl Cobbe, Vineet Kosaraju, Mohammad Bavarian, Mark Chen, Heewoo Jun, Lukasz Kaiser, Matthias Plappert, Jerry Tworek, Jacob Hilton, Reiichiro Nakano, et al.

</span>
<span class="ltx_bibblock">Training verifiers to solve math word problems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2110.14168</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2022)</span>
<span class="ltx_bibblock">
Luyu Gao, Aman Madaan, Shuyan Zhou, Uri Alon, Pengfei Liu, Yiming Yang, Jamie Callan, and Graham Neubig.

</span>
<span class="ltx_bibblock">Pal: Program-aided language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">arXiv</em>, pp.  2211.10435v2, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hao et al. (2023a)</span>
<span class="ltx_bibblock">
Shibo Hao, Yi Gu, Haodi Ma, Joshua Jiahua Hong, Zhen Wang, Daisy Zhe Wang, and Zhiting Hu.

</span>
<span class="ltx_bibblock">Reasoning with language model is planning with world model.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2305.14992</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hao et al. (2023b)</span>
<span class="ltx_bibblock">
Shibo Hao, Tianyang Liu, Zhen Wang, and Zhiting Hu.

</span>
<span class="ltx_bibblock">Toolkengpt: Augmenting frozen language models with massive tools via tool embeddings, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2020)</span>
<span class="ltx_bibblock">
Pengcheng He, Xiaodong Liu, Jianfeng Gao, and Weizhu Chen.

</span>
<span class="ltx_bibblock">Deberta: Decoding-enhanced bert with disentangled attention.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">International Conference on Learning Representations</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang &amp; Chang (2023)</span>
<span class="ltx_bibblock">
Jie Huang and Kevin Chen-Chuan Chang.

</span>
<span class="ltx_bibblock">Towards reasoning in large language models: A survey, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2022a)</span>
<span class="ltx_bibblock">
Wenlong Huang, Pieter Abbeel, Deepak Pathak, and Igor Mordatch.

</span>
<span class="ltx_bibblock">Language models as zero-shot planners: Extracting actionable knowledge for embodied agents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">arXiv</em>, pp.  2201.07207v2, 2022a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2022b)</span>
<span class="ltx_bibblock">
Wenlong Huang, Fei Xia, Ted Xiao, Harris Chan, Jacky Liang, Pete Florence, Andy Zeng, Jonathan Tompson, Igor Mordatch, Yevgen Chebotar, Pierre Sermanet, Noah Brown, Tomas Jackson, Linda Luu, Sergey Levine, Karol Hausman, and Brian Ichter.

</span>
<span class="ltx_bibblock">Inner monologue: Embodied reasoning through planning with language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">arXiv</em>, pp.  2207.05608v1, 2022b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Imani et al. (2023)</span>
<span class="ltx_bibblock">
Shima Imani, Liang Du, and Harsh Shrivastava.

</span>
<span class="ltx_bibblock">Mathprompter: Mathematical reasoning using large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">arXiv preprint arXiv:2303.05398</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jang (2023)</span>
<span class="ltx_bibblock">
Eric Jang.

</span>
<span class="ltx_bibblock">Can llms critique and iterate on their own outputs?

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">evjang.com</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et al. (2023)</span>
<span class="ltx_bibblock">
Qiao Jin, Yifan Yang, Qingyu Chen, and Zhiyong Lu.

</span>
<span class="ltx_bibblock">Genegpt: Augmenting large language models with domain tools for improved access to biomedical information.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">ArXiv</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jung et al. (2022)</span>
<span class="ltx_bibblock">
Jaehun Jung, Lianhui Qin, Sean Welleck, Faeze Brahman, Chandra Bhagavatula, Ronan Le Bras, and Yejin Choi.

</span>
<span class="ltx_bibblock">Maieutic prompting: Logically consistent reasoning with recursive explanations.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing</em>, pp.  1266–1279, Abu Dhabi, United Arab Emirates, December 2022. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <a class="ltx_ref ltx_Url" href="10.18653/v1/2022.emnlp-main.82" title="">10.18653/v1/2022.emnlp-main.82</a>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2022.emnlp-main.82" title="">https://aclanthology.org/2022.emnlp-main.82</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et al. (2023)</span>
<span class="ltx_bibblock">
Geunwoo Kim, Pierre Baldi, and Stephen McAleer.

</span>
<span class="ltx_bibblock">Language models can solve computer tasks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">arXiv</em>, pp.  2303.17491v1, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kocsis &amp; Szepesvári (2006)</span>
<span class="ltx_bibblock">
Levente Kocsis and Csaba Szepesvári.

</span>
<span class="ltx_bibblock">Bandit based monte-carlo planning.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">European conference on machine learning</em>, pp.  282–293. Springer, 2006.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kuhn et al. (2022)</span>
<span class="ltx_bibblock">
Lorenz Kuhn, Yarin Gal, and Sebastian Farquhar.

</span>
<span class="ltx_bibblock">Semantic uncertainty: Linguistic invariances for uncertainty estimation in natural language generation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">The Eleventh International Conference on Learning Representations</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et al. (2022)</span>
<span class="ltx_bibblock">
Jacky Liang, Wenlong Huang, Fei Xia, Peng Xu, Karol Hausman, Brian Ichter, Pete Florence, and Andy Zeng.

</span>
<span class="ltx_bibblock">Code as policies: Language model programs for embodied control.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv</em>, pp.  2209.07753v3, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2022)</span>
<span class="ltx_bibblock">
Stephanie Lin, Jacob Hilton, and Owain Evans.

</span>
<span class="ltx_bibblock">Teaching models to express their uncertainty in words, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al. (2022)</span>
<span class="ltx_bibblock">
Pan Lu, Swaroop Mishra, Tony Xia, Liang Qiu, Kai-Wei Chang, Song-Chun Zhu, Oyvind Tafjord, Peter Clark, and Ashwin Kalyan.

</span>
<span class="ltx_bibblock">Learn to explain: Multimodal reasoning via thought chains for science question answering, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al. (2023)</span>
<span class="ltx_bibblock">
Pan Lu, Baolin Peng, Hao Cheng, Michel Galley, Kai-Wei Chang, Ying Nian Wu, Song-Chun Zhu, and Jianfeng Gao.

</span>
<span class="ltx_bibblock">Chameleon: Plug-and-play compositional reasoning with large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">arXiv preprint arXiv:2304.09842</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mialon et al. (2023)</span>
<span class="ltx_bibblock">
Grégoire Mialon, Roberto Dessì, Maria Lomeli, Christoforos Nalmpantis, Ram Pasunuru, Roberta Raileanu, Baptiste Rozière, Timo Schick, Jane Dwivedi-Yu, Asli Celikyilmaz, Edouard Grave, Yann LeCun, and Thomas Scialom.

</span>
<span class="ltx_bibblock">Augmented language models: a survey, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mishra et al. (2022)</span>
<span class="ltx_bibblock">
Swaroop Mishra, Matthew Finlayson, Pan Lu, Leonard Tang, Sean Welleck, Chitta Baral, Tanmay Rajpurohit, Oyvind Tafjord, Ashish Sabharwal, Peter Clark, et al.

</span>
<span class="ltx_bibblock">Lila: A unified benchmark for mathematical reasoning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">arXiv preprint arXiv:2210.17517</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nakano et al. (2021)</span>
<span class="ltx_bibblock">
Reiichiro Nakano, Jacob Hilton, Suchir Balaji, Jeff Wu, Long Ouyang, Christina Kim, Christopher Hesse, Shantanu Jain, Vineet Kosaraju, William Saunders, et al.

</span>
<span class="ltx_bibblock">Webgpt: Browser-assisted question-answering with human feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">arXiv preprint arXiv:2112.09332</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nakano et al. (2022)</span>
<span class="ltx_bibblock">
Reiichiro Nakano, Jacob Hilton, Suchir Balaji, Jeff Wu, Long Ouyang, Christina Kim, Christopher Hesse, Shantanu Jain, Vineet Kosaraju, William Saunders, Xu Jiang, Karl Cobbe, Tyna Eloundou, Gretchen Krueger, Kevin Button, Matthew Knight, Benjamin Chess, and John Schulman.

</span>
<span class="ltx_bibblock">Webgpt: Browser-assisted question-answering with human feedback, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2023)</span>
<span class="ltx_bibblock">
OpenAI.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">arXiv</em>, pp.  2303.08774v3, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Paranjape et al. (2023)</span>
<span class="ltx_bibblock">
Bhargavi Paranjape, Scott Lundberg, Sameer Singh, Hannaneh Hajishirzi, Luke Zettlemoyer, and Marco Tulio Ribeiro.

</span>
<span class="ltx_bibblock">Art: Automatic multi-step reasoning and tool-use for large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">arXiv preprint arXiv:2303.09014</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Parisi et al. (2022)</span>
<span class="ltx_bibblock">
Aaron Parisi, Yao Zhao, and Noah Fiedel.

</span>
<span class="ltx_bibblock">Talm: Tool augmented language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">arXiv preprint arXiv:2205.12255</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Patil et al. (2023)</span>
<span class="ltx_bibblock">
Shishir G Patil, Tianjun Zhang, Xin Wang, and Joseph E Gonzalez.

</span>
<span class="ltx_bibblock">Gorilla: Large language model connected with massive apis.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">arXiv preprint arXiv:2305.15334</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Puig et al. (2018)</span>
<span class="ltx_bibblock">
Xavier Puig, Kevin Ra, Marko Boben, Jiaman Li, Tingwu Wang, Sanja Fidler, and Antonio Torralba.

</span>
<span class="ltx_bibblock">Virtualhome: Simulating household activities via programs.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">Proceedings of the IEEE Conference on Computer Vision and Pattern Recognition</em>, pp.  8494–8502, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al. (2023a)</span>
<span class="ltx_bibblock">
Yujia Qin, Shengding Hu, Yankai Lin, Weize Chen, Ning Ding, Ganqu Cui, Zheni Zeng, Yufei Huang, Chaojun Xiao, Chi Han, et al.

</span>
<span class="ltx_bibblock">Tool learning with foundation models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">arXiv preprint arXiv:2304.08354</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al. (2023b)</span>
<span class="ltx_bibblock">
Yujia Qin, Shihao Liang, Yining Ye, Kunlun Zhu, Lan Yan, Yaxi Lu, Yankai Lin, Xin Cong, Xiangru Tang, Bill Qian, et al.

</span>
<span class="ltx_bibblock">Toolllm: Facilitating large language models to master 16000+ real-world apis.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">arXiv preprint arXiv:2307.16789</em>, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2018)</span>
<span class="ltx_bibblock">
Alec Radford, Karthik Narasimhan, Tim Salimans, and Ilya Sutskever.

</span>
<span class="ltx_bibblock">Improving language understanding by generative pre-training.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">OpenAI Blog</em>, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2019)</span>
<span class="ltx_bibblock">
Alec Radford, Jeffrey Wu, Rewon Child, David Luan, Dario Amodei, and Ilya Sutskever.

</span>
<span class="ltx_bibblock">Language models are unsupervised multitask learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">OpenAI Blog</em>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schick et al. (2023)</span>
<span class="ltx_bibblock">
Timo Schick, Jane Dwivedi-Yu, Roberto Dessì, Roberta Raileanu, Maria Lomeli, Luke Zettlemoyer, Nicola Cancedda, and Thomas Scialom.

</span>
<span class="ltx_bibblock">Toolformer: Language models can teach themselves to use tools.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">arXiv preprint arXiv:2302.04761</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shen et al. (2023)</span>
<span class="ltx_bibblock">
Yongliang Shen, Kaitao Song, Xu Tan, Dongsheng Li, Weiming Lu, and Yueting Zhuang.

</span>
<span class="ltx_bibblock">Hugginggpt: Solving ai tasks with chatgpt and its friends in huggingface.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">arXiv preprint arXiv:2303.17580</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shinn et al. (2023)</span>
<span class="ltx_bibblock">
Noah Shinn, Beck Labash, and Ashwin Gopinath.

</span>
<span class="ltx_bibblock">Reflexion: an autonomous agent with dynamic memory and self-reflection.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">arXiv preprint arXiv:2303.11366</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Silver et al. (2016)</span>
<span class="ltx_bibblock">
David Silver, Aja Huang, Chris J Maddison, Arthur Guez, Laurent Sifre, George Van Den Driessche, Julian Schrittwieser, Ioannis Antonoglou, Veda Panneershelvam, Marc Lanctot, et al.

</span>
<span class="ltx_bibblock">Mastering the game of go with deep neural networks and tree search.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">nature</em>, 529(7587):484–489, 2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al. (2023)</span>
<span class="ltx_bibblock">
Haotian Sun, Yuchen Zhuang, Lingkai Kong, Bo Dai, and Chao Zhang.

</span>
<span class="ltx_bibblock">Adaplanner: Adaptive planning from feedback with language models, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, et al.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">arXiv preprint arXiv:2307.09288</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2022a)</span>
<span class="ltx_bibblock">
Xingyao Wang, Sha Li, and Heng Ji.

</span>
<span class="ltx_bibblock">Code4struct: Code generation for few-shot structured prediction from natural language.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">arXiv preprint arXiv:2210.12810</em>, 2022a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2022b)</span>
<span class="ltx_bibblock">
Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc V Le, Ed H Chi, Sharan Narang, Aakanksha Chowdhery, and Denny Zhou.

</span>
<span class="ltx_bibblock">Self-consistency improves chain of thought reasoning in language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">The Eleventh International Conference on Learning Representations</em>, 2022b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Zihao Wang, Shaofei Cai, Anji Liu, Xiaojian Ma, and Yitao Liang.

</span>
<span class="ltx_bibblock">Describe, explain, plan and select: Interactive planning with large language models enables open-world multi-task agents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">arXiv</em>, pp.  2302.01560v1, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Brian Ichter, Fei Xia, Ed Chi, Quoc Le, and Denny Zhou.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">arXiv</em>, pp.  2201.11903v6, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Williams et al. (2018)</span>
<span class="ltx_bibblock">
Adina Williams, Nikita Nangia, and Samuel Bowman.

</span>
<span class="ltx_bibblock">A broad-coverage challenge corpus for sentence understanding through inference.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">Proceedings of the 2018 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, Volume 1 (Long Papers)</em>, pp.  1112–1122, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al. (2023)</span>
<span class="ltx_bibblock">
Chenfei Wu, Shengming Yin, Weizhen Qi, Xiaodong Wang, Zecheng Tang, and Nan Duan.

</span>
<span class="ltx_bibblock">Visual chatgpt: Talking, drawing and editing with visual foundation models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">arXiv preprint arXiv:2303.04671</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xie et al. (2023)</span>
<span class="ltx_bibblock">
Yuxi Xie, Kenji Kawaguchi, Yiran Zhao, Xu Zhao, Min-Yen Kan, Junxian He, and Qizhe Xie.

</span>
<span class="ltx_bibblock">Decomposition enhances reasoning via self-evaluation guided decoding, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2023)</span>
<span class="ltx_bibblock">
Qiantong Xu, Fenglu Hong, Bo Li, Changran Hu, Zhengyu Chen, and Jian Zhang.

</span>
<span class="ltx_bibblock">On the tool manipulation capability of open-source large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">arXiv preprint arXiv:2305.16504</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2023a)</span>
<span class="ltx_bibblock">
Linyao Yang, Hongyang Chen, Zhao Li, Xiao Ding, and Xindong Wu.

</span>
<span class="ltx_bibblock">Chatgpt is not enough: Enhancing large language models with knowledge graphs for fact-aware language modeling, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2023b)</span>
<span class="ltx_bibblock">
Rui Yang, Lin Song, Yanwei Li, Sijie Zhao, Yixiao Ge, Xiu Li, and Ying Shan.

</span>
<span class="ltx_bibblock">Gpt4tools: Teaching large language model to use tools via self-instruction, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2023c)</span>
<span class="ltx_bibblock">
Zhengyuan Yang, Linjie Li, Jianfeng Wang, Kevin Lin, Ehsan Azarnasab, Faisal Ahmed, Zicheng Liu, Ce Liu, Michael Zeng, and Lijuan Wang.

</span>
<span class="ltx_bibblock">Mm-react: Prompting chatgpt for multimodal reasoning and action.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">arXiv preprint arXiv:2303.11381</em>, 2023c.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et al. (2023a)</span>
<span class="ltx_bibblock">
Shunyu Yao, Dian Yu, Jeffrey Zhao, Izhak Shafran, Thomas L. Griffiths, Yuan Cao, and Karthik Narasimhan.

</span>
<span class="ltx_bibblock">Tree of thoughts: Deliberate problem solving with large language models, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et al. (2023b)</span>
<span class="ltx_bibblock">
Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik R Narasimhan, and Yuan Cao.

</span>
<span class="ltx_bibblock">React: Synergizing reasoning and acting in language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">The Eleventh International Conference on Learning Representations</em>, 2023b.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=WE_vluYUL-X" title="">https://openreview.net/forum?id=WE_vluYUL-X</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2023)</span>
<span class="ltx_bibblock">
Beichen Zhang, Kun Zhou, Xilin Wei, Wayne Xin Zhao, Jing Sha, Shijin Wang, and Ji-Rong Wen.

</span>
<span class="ltx_bibblock">Evaluating and improving tool-augmented computation-intensive math reasoning, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang (2023)</span>
<span class="ltx_bibblock">
Jiawei Zhang.

</span>
<span class="ltx_bibblock">Graph-toolformer: To empower llms with graph reasoning ability via prompt augmented by chatgpt.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">arXiv preprint arXiv:2304.11116</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al. (2023)</span>
<span class="ltx_bibblock">
Lianmin Zheng, Wei-Lin Chiang, Ying Sheng, Siyuan Zhuang, Zhanghao Wu, Yonghao Zhuang, Zi Lin, Zhuohan Li, Dacheng Li, Eric. P Xing, Hao Zhang, Joseph E. Gonzalez, and Ion Stoica.

</span>
<span class="ltx_bibblock">Judging llm-as-a-judge with mt-bench and chatbot arena, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al. (2022)</span>
<span class="ltx_bibblock">
Denny Zhou, Nathanael Schärli, Le Hou, Jason Wei, Nathan Scales, Xuezhi Wang, Dale Schuurmans, Claire Cui, Olivier Bousquet, Quoc Le, and Ed Chi.

</span>
<span class="ltx_bibblock">Least-to-most prompting enables complex reasoning in large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib59.1.1">arXiv</em>, pp.  2205.10625v2, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. (2023)</span>
<span class="ltx_bibblock">
Xinyu Zhu, Junjie Wang, Lin Zhang, Yuxiang Zhang, Yongfeng Huang, Ruyi Gan, Jiaxing Zhang, and Yujiu Yang.

</span>
<span class="ltx_bibblock">Solving math word problems via cooperative reasoning induced language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib60.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  4471–4485, Toronto, Canada, July 2023. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <a class="ltx_ref ltx_Url" href="10.18653/v1/2023.acl-long.245" title="">10.18653/v1/2023.acl-long.245</a>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.acl-long.245" title="">https://aclanthology.org/2023.acl-long.245</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuang et al. (2023)</span>
<span class="ltx_bibblock">
Yuchen Zhuang, Yue Yu, Kuan Wang, Haotian Sun, and Chao Zhang.

</span>
<span class="ltx_bibblock">Toolqa: A dataset for llm question answering with external tools, 2023.

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Broader Impacts and Limitations</h2>
<div class="ltx_para ltx_noindent" id="A1.p1">
<p class="ltx_p" id="A1.p1.3">In this study, we introduce ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A1.p1.1.m1.1"><semantics id="A1.p1.1.m1.1a"><msup id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml"><mi id="A1.p1.1.m1.1.1a" xref="A1.p1.1.m1.1.1.cmml"></mi><mo id="A1.p1.1.m1.1.1.1" xref="A1.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><apply id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1"><times id="A1.p1.1.m1.1.1.1.cmml" xref="A1.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A1.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>, an efficient tree search-based planning algorithm
for LLMs-based agents tackling challenging tasks involving tool usage. As a flexible plug-and-play framework with compositional planning and reasoning capabilities, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A1.p1.2.m2.1"><semantics id="A1.p1.2.m2.1a"><msup id="A1.p1.2.m2.1.1" xref="A1.p1.2.m2.1.1.cmml"><mi id="A1.p1.2.m2.1.1a" xref="A1.p1.2.m2.1.1.cmml"></mi><mo id="A1.p1.2.m2.1.1.1" xref="A1.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A1.p1.2.m2.1b"><apply id="A1.p1.2.m2.1.1.cmml" xref="A1.p1.2.m2.1.1"><times id="A1.p1.2.m2.1.1.1.cmml" xref="A1.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A1.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> holds considerable promise for positive social impact across diverse domains, including but not limited to real-world tool utilization and complex decision-making processes.
One potential limitation to consider is that, while the efficiency of our proposed ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A1.p1.3.m3.1"><semantics id="A1.p1.3.m3.1a"><msup id="A1.p1.3.m3.1.1" xref="A1.p1.3.m3.1.1.cmml"><mi id="A1.p1.3.m3.1.1a" xref="A1.p1.3.m3.1.1.cmml"></mi><mo id="A1.p1.3.m3.1.1.1" xref="A1.p1.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A1.p1.3.m3.1b"><apply id="A1.p1.3.m3.1.1.cmml" xref="A1.p1.3.m3.1.1"><times id="A1.p1.3.m3.1.1.1.cmml" xref="A1.p1.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A1.p1.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> surpasses other tree search methods and is even comparable to closed-loop systems, it still cannot match the efficiency of open-loop systems. Given the demands for efficiency in real-world applications, we intend to further refine our tree structure and search strategy in future work.
</p>
</div>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Implementation Details</h2>
<section class="ltx_subsection" id="A2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Hardware Information</h3>
<div class="ltx_para ltx_noindent" id="A2.SS1.p1">
<p class="ltx_p" id="A2.SS1.p1.1">All experiments are conducted on CPU: Intel(R) Xeon(R) Platinum 8275CL CPU @ 3.00GHz and GPU: NVIDIA A100 SXM4 80 GB using Python 3.8.13.</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Parameter Configuration</h3>
<div class="ltx_para ltx_noindent" id="A2.SS2.p1">
<p class="ltx_p" id="A2.SS2.p1.5">We chose the GPT-3.5-turbo engine for ChatGPT and the GPT-4 engine for GPT-4 when structuring the LLM-based agent.
The maximum length for generated solutions is set to 512, and the temperature is set to 1 for flexibility in self-consistency frequency function <math alttext="g_{t,1}" class="ltx_Math" display="inline" id="A2.SS2.p1.1.m1.2"><semantics id="A2.SS2.p1.1.m1.2a"><msub id="A2.SS2.p1.1.m1.2.3" xref="A2.SS2.p1.1.m1.2.3.cmml"><mi id="A2.SS2.p1.1.m1.2.3.2" xref="A2.SS2.p1.1.m1.2.3.2.cmml">g</mi><mrow id="A2.SS2.p1.1.m1.2.2.2.4" xref="A2.SS2.p1.1.m1.2.2.2.3.cmml"><mi id="A2.SS2.p1.1.m1.1.1.1.1" xref="A2.SS2.p1.1.m1.1.1.1.1.cmml">t</mi><mo id="A2.SS2.p1.1.m1.2.2.2.4.1" xref="A2.SS2.p1.1.m1.2.2.2.3.cmml">,</mo><mn id="A2.SS2.p1.1.m1.2.2.2.2" xref="A2.SS2.p1.1.m1.2.2.2.2.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.1.m1.2b"><apply id="A2.SS2.p1.1.m1.2.3.cmml" xref="A2.SS2.p1.1.m1.2.3"><csymbol cd="ambiguous" id="A2.SS2.p1.1.m1.2.3.1.cmml" xref="A2.SS2.p1.1.m1.2.3">subscript</csymbol><ci id="A2.SS2.p1.1.m1.2.3.2.cmml" xref="A2.SS2.p1.1.m1.2.3.2">𝑔</ci><list id="A2.SS2.p1.1.m1.2.2.2.3.cmml" xref="A2.SS2.p1.1.m1.2.2.2.4"><ci id="A2.SS2.p1.1.m1.1.1.1.1.cmml" xref="A2.SS2.p1.1.m1.1.1.1.1">𝑡</ci><cn id="A2.SS2.p1.1.m1.2.2.2.2.cmml" type="integer" xref="A2.SS2.p1.1.m1.2.2.2.2">1</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.1.m1.2c">g_{t,1}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p1.1.m1.2d">italic_g start_POSTSUBSCRIPT italic_t , 1 end_POSTSUBSCRIPT</annotation></semantics></math> (Section <a class="ltx_ref" href="#S3.SS2" title="3.2 Design of Cumulative Cost 𝑔⁢(𝑛) ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">3.2</span></a>).
For LLaMA-2 experiments, the maximum length for generated solutions is set as 256 and the temperature is set to 1.
We use 8 NVIDIA A100 SXM4 80 GB GPUs and FastChat <cite class="ltx_cite ltx_citemacro_citep">(Zheng et al., <a class="ltx_ref" href="#bib.bib58" title="">2023</a>)</cite> to tune the LLaMA-2 7B and 13B models on the training data discussed in Appendix <a class="ltx_ref" href="#A6" title="Appendix F Open-Source LLMs ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">F</span></a>.
For ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A2.SS2.p1.2.m2.1"><semantics id="A2.SS2.p1.2.m2.1a"><msup id="A2.SS2.p1.2.m2.1.1" xref="A2.SS2.p1.2.m2.1.1.cmml"><mi id="A2.SS2.p1.2.m2.1.1a" xref="A2.SS2.p1.2.m2.1.1.cmml"></mi><mo id="A2.SS2.p1.2.m2.1.1.1" xref="A2.SS2.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.2.m2.1b"><apply id="A2.SS2.p1.2.m2.1.1.cmml" xref="A2.SS2.p1.2.m2.1.1"><times id="A2.SS2.p1.2.m2.1.1.1.cmml" xref="A2.SS2.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>, we set the weights of geometric means between heuristic and non-heuristic parts in cumulative and future costs as <math alttext="\alpha=\beta=0.5" class="ltx_Math" display="inline" id="A2.SS2.p1.3.m3.1"><semantics id="A2.SS2.p1.3.m3.1a"><mrow id="A2.SS2.p1.3.m3.1.1" xref="A2.SS2.p1.3.m3.1.1.cmml"><mi id="A2.SS2.p1.3.m3.1.1.2" xref="A2.SS2.p1.3.m3.1.1.2.cmml">α</mi><mo id="A2.SS2.p1.3.m3.1.1.3" xref="A2.SS2.p1.3.m3.1.1.3.cmml">=</mo><mi id="A2.SS2.p1.3.m3.1.1.4" xref="A2.SS2.p1.3.m3.1.1.4.cmml">β</mi><mo id="A2.SS2.p1.3.m3.1.1.5" xref="A2.SS2.p1.3.m3.1.1.5.cmml">=</mo><mn id="A2.SS2.p1.3.m3.1.1.6" xref="A2.SS2.p1.3.m3.1.1.6.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.3.m3.1b"><apply id="A2.SS2.p1.3.m3.1.1.cmml" xref="A2.SS2.p1.3.m3.1.1"><and id="A2.SS2.p1.3.m3.1.1a.cmml" xref="A2.SS2.p1.3.m3.1.1"></and><apply id="A2.SS2.p1.3.m3.1.1b.cmml" xref="A2.SS2.p1.3.m3.1.1"><eq id="A2.SS2.p1.3.m3.1.1.3.cmml" xref="A2.SS2.p1.3.m3.1.1.3"></eq><ci id="A2.SS2.p1.3.m3.1.1.2.cmml" xref="A2.SS2.p1.3.m3.1.1.2">𝛼</ci><ci id="A2.SS2.p1.3.m3.1.1.4.cmml" xref="A2.SS2.p1.3.m3.1.1.4">𝛽</ci></apply><apply id="A2.SS2.p1.3.m3.1.1c.cmml" xref="A2.SS2.p1.3.m3.1.1"><eq id="A2.SS2.p1.3.m3.1.1.5.cmml" xref="A2.SS2.p1.3.m3.1.1.5"></eq><share href="#A2.SS2.p1.3.m3.1.1.4.cmml" id="A2.SS2.p1.3.m3.1.1d.cmml" xref="A2.SS2.p1.3.m3.1.1"></share><cn id="A2.SS2.p1.3.m3.1.1.6.cmml" type="float" xref="A2.SS2.p1.3.m3.1.1.6">0.5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.3.m3.1c">\alpha=\beta=0.5</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p1.3.m3.1d">italic_α = italic_β = 0.5</annotation></semantics></math> by default.
The number of potential actions in self-consistency frequency is set as <math alttext="k=10" class="ltx_Math" display="inline" id="A2.SS2.p1.4.m4.1"><semantics id="A2.SS2.p1.4.m4.1a"><mrow id="A2.SS2.p1.4.m4.1.1" xref="A2.SS2.p1.4.m4.1.1.cmml"><mi id="A2.SS2.p1.4.m4.1.1.2" xref="A2.SS2.p1.4.m4.1.1.2.cmml">k</mi><mo id="A2.SS2.p1.4.m4.1.1.1" xref="A2.SS2.p1.4.m4.1.1.1.cmml">=</mo><mn id="A2.SS2.p1.4.m4.1.1.3" xref="A2.SS2.p1.4.m4.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.4.m4.1b"><apply id="A2.SS2.p1.4.m4.1.1.cmml" xref="A2.SS2.p1.4.m4.1.1"><eq id="A2.SS2.p1.4.m4.1.1.1.cmml" xref="A2.SS2.p1.4.m4.1.1.1"></eq><ci id="A2.SS2.p1.4.m4.1.1.2.cmml" xref="A2.SS2.p1.4.m4.1.1.2">𝑘</ci><cn id="A2.SS2.p1.4.m4.1.1.3.cmml" type="integer" xref="A2.SS2.p1.4.m4.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.4.m4.1c">k=10</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p1.4.m4.1d">italic_k = 10</annotation></semantics></math> and the maximum step limit is set as <math alttext="T=20" class="ltx_Math" display="inline" id="A2.SS2.p1.5.m5.1"><semantics id="A2.SS2.p1.5.m5.1a"><mrow id="A2.SS2.p1.5.m5.1.1" xref="A2.SS2.p1.5.m5.1.1.cmml"><mi id="A2.SS2.p1.5.m5.1.1.2" xref="A2.SS2.p1.5.m5.1.1.2.cmml">T</mi><mo id="A2.SS2.p1.5.m5.1.1.1" xref="A2.SS2.p1.5.m5.1.1.1.cmml">=</mo><mn id="A2.SS2.p1.5.m5.1.1.3" xref="A2.SS2.p1.5.m5.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.5.m5.1b"><apply id="A2.SS2.p1.5.m5.1.1.cmml" xref="A2.SS2.p1.5.m5.1.1"><eq id="A2.SS2.p1.5.m5.1.1.1.cmml" xref="A2.SS2.p1.5.m5.1.1.1"></eq><ci id="A2.SS2.p1.5.m5.1.1.2.cmml" xref="A2.SS2.p1.5.m5.1.1.2">𝑇</ci><cn id="A2.SS2.p1.5.m5.1.1.3.cmml" type="integer" xref="A2.SS2.p1.5.m5.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.5.m5.1c">T=20</annotation><annotation encoding="application/x-llamapun" id="A2.SS2.p1.5.m5.1d">italic_T = 20</annotation></semantics></math> by default.
Our code repository is presently undergoing an internal review within the company for public release. Upon receiving approval, we will make both the code and data available on GitHub.
</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>Task Setup for ToolBench</h3>
<div class="ltx_para ltx_noindent" id="A2.SS3.p1">
<p class="ltx_p" id="A2.SS3.p1.1">We define the nodes in the decision tree as function API calls.
From the root node, which corresponds to the input task description, we represent the complex process of identifying a successful solution as navigating a valid path in the tree search space.
To expand from the current node, we prompt LLMs with API definitions, demonstration examples, the given query, and action history, thereby generating multiple i.i.d. next steps.
In order to precisely evaluate plan quality and gauge the proximity of the current action to the goal, we employ task-specific heuristic functions (Section <a class="ltx_ref" href="#S3.SS2" title="3.2 Design of Cumulative Cost 𝑔⁢(𝑛) ‣ 3 ToolChain^*: A Tree Search Perspective on External Tool Use ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">3.2</span></a>) for both cumulative and projected scores.
To ensure a fair comparison, all prompts dispatched to the baselines and ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A2.SS3.p1.1.m1.1"><semantics id="A2.SS3.p1.1.m1.1a"><msup id="A2.SS3.p1.1.m1.1.1" xref="A2.SS3.p1.1.m1.1.1.cmml"><mi id="A2.SS3.p1.1.m1.1.1a" xref="A2.SS3.p1.1.m1.1.1.cmml"></mi><mo id="A2.SS3.p1.1.m1.1.1.1" xref="A2.SS3.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A2.SS3.p1.1.m1.1b"><apply id="A2.SS3.p1.1.m1.1.1.cmml" xref="A2.SS3.p1.1.m1.1.1"><times id="A2.SS3.p1.1.m1.1.1.1.cmml" xref="A2.SS3.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A2.SS3.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> follow the configuration set by ToolBench <cite class="ltx_cite ltx_citemacro_citep">(Xu et al., <a class="ltx_ref" href="#bib.bib50" title="">2023</a>)</cite>.
Detailed descriptions of prompts are available in Appendix <a class="ltx_ref" href="#A7.SS1" title="G.1 Tool Use: ToolBench ‣ Appendix G Prompts ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">G.1</span></a>.
We adopt the success rate as the evaluation metric for Home Search, Trip Booking, and Google Sheets. For Virtual Home, we report the proportion of scripts achieving the correct end state or successfully completing the task.</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.4 </span>Task Setup for GSM8K</h3>
<div class="ltx_para ltx_noindent" id="A2.SS4.p1">
<p class="ltx_p" id="A2.SS4.p1.4">GSM8K <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et al., <a class="ltx_ref" href="#bib.bib5" title="">2021</a>)</cite> serves as a dataset for high school-level mathematical reasoning. Numerical reasoning tasks within this dataset typically comprise a descriptive component followed by a culminating question. Answering this question requires multi-step mathematical calculations based on the context of the description. Notably, the complexity directly relates to the number of mathematical reasoning steps required for a solution.
We conduct experiments on the entire set of GSM8K and also a subset of hard questions from GSM8K collected in ToolQA <cite class="ltx_cite ltx_citemacro_citep">(Zhuang et al., <a class="ltx_ref" href="#bib.bib61" title="">2023</a>)</cite>.
In adapting ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A2.SS4.p1.1.m1.1"><semantics id="A2.SS4.p1.1.m1.1a"><msup id="A2.SS4.p1.1.m1.1.1" xref="A2.SS4.p1.1.m1.1.1.cmml"><mi id="A2.SS4.p1.1.m1.1.1a" xref="A2.SS4.p1.1.m1.1.1.cmml"></mi><mo id="A2.SS4.p1.1.m1.1.1.1" xref="A2.SS4.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A2.SS4.p1.1.m1.1b"><apply id="A2.SS4.p1.1.m1.1.1.cmml" xref="A2.SS4.p1.1.m1.1.1"><times id="A2.SS4.p1.1.m1.1.1.1.cmml" xref="A2.SS4.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS4.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A2.SS4.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>, we represent reasoning steps in a solution as nodes in the decision tree.
With the math question description as the root node, complex reasoning across numerous intermediate steps is translated into navigating the decision space for a valid path.
Given the absence of seed data for long-term memory, we simplify ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A2.SS4.p1.2.m2.1"><semantics id="A2.SS4.p1.2.m2.1a"><msup id="A2.SS4.p1.2.m2.1.1" xref="A2.SS4.p1.2.m2.1.1.cmml"><mi id="A2.SS4.p1.2.m2.1.1a" xref="A2.SS4.p1.2.m2.1.1.cmml"></mi><mo id="A2.SS4.p1.2.m2.1.1.1" xref="A2.SS4.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A2.SS4.p1.2.m2.1b"><apply id="A2.SS4.p1.2.m2.1.1.cmml" xref="A2.SS4.p1.2.m2.1.1"><times id="A2.SS4.p1.2.m2.1.1.1.cmml" xref="A2.SS4.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS4.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A2.SS4.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> to leverage self-consistency frequency and LLM imagination as the cumulative score <math alttext="g(n)" class="ltx_Math" display="inline" id="A2.SS4.p1.3.m3.1"><semantics id="A2.SS4.p1.3.m3.1a"><mrow id="A2.SS4.p1.3.m3.1.2" xref="A2.SS4.p1.3.m3.1.2.cmml"><mi id="A2.SS4.p1.3.m3.1.2.2" xref="A2.SS4.p1.3.m3.1.2.2.cmml">g</mi><mo id="A2.SS4.p1.3.m3.1.2.1" xref="A2.SS4.p1.3.m3.1.2.1.cmml">⁢</mo><mrow id="A2.SS4.p1.3.m3.1.2.3.2" xref="A2.SS4.p1.3.m3.1.2.cmml"><mo id="A2.SS4.p1.3.m3.1.2.3.2.1" stretchy="false" xref="A2.SS4.p1.3.m3.1.2.cmml">(</mo><mi id="A2.SS4.p1.3.m3.1.1" xref="A2.SS4.p1.3.m3.1.1.cmml">n</mi><mo id="A2.SS4.p1.3.m3.1.2.3.2.2" stretchy="false" xref="A2.SS4.p1.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS4.p1.3.m3.1b"><apply id="A2.SS4.p1.3.m3.1.2.cmml" xref="A2.SS4.p1.3.m3.1.2"><times id="A2.SS4.p1.3.m3.1.2.1.cmml" xref="A2.SS4.p1.3.m3.1.2.1"></times><ci id="A2.SS4.p1.3.m3.1.2.2.cmml" xref="A2.SS4.p1.3.m3.1.2.2">𝑔</ci><ci id="A2.SS4.p1.3.m3.1.1.cmml" xref="A2.SS4.p1.3.m3.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS4.p1.3.m3.1c">g(n)</annotation><annotation encoding="application/x-llamapun" id="A2.SS4.p1.3.m3.1d">italic_g ( italic_n )</annotation></semantics></math> and future score <math alttext="h(n)" class="ltx_Math" display="inline" id="A2.SS4.p1.4.m4.1"><semantics id="A2.SS4.p1.4.m4.1a"><mrow id="A2.SS4.p1.4.m4.1.2" xref="A2.SS4.p1.4.m4.1.2.cmml"><mi id="A2.SS4.p1.4.m4.1.2.2" xref="A2.SS4.p1.4.m4.1.2.2.cmml">h</mi><mo id="A2.SS4.p1.4.m4.1.2.1" xref="A2.SS4.p1.4.m4.1.2.1.cmml">⁢</mo><mrow id="A2.SS4.p1.4.m4.1.2.3.2" xref="A2.SS4.p1.4.m4.1.2.cmml"><mo id="A2.SS4.p1.4.m4.1.2.3.2.1" stretchy="false" xref="A2.SS4.p1.4.m4.1.2.cmml">(</mo><mi id="A2.SS4.p1.4.m4.1.1" xref="A2.SS4.p1.4.m4.1.1.cmml">n</mi><mo id="A2.SS4.p1.4.m4.1.2.3.2.2" stretchy="false" xref="A2.SS4.p1.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS4.p1.4.m4.1b"><apply id="A2.SS4.p1.4.m4.1.2.cmml" xref="A2.SS4.p1.4.m4.1.2"><times id="A2.SS4.p1.4.m4.1.2.1.cmml" xref="A2.SS4.p1.4.m4.1.2.1"></times><ci id="A2.SS4.p1.4.m4.1.2.2.cmml" xref="A2.SS4.p1.4.m4.1.2.2">ℎ</ci><ci id="A2.SS4.p1.4.m4.1.1.cmml" xref="A2.SS4.p1.4.m4.1.1">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS4.p1.4.m4.1c">h(n)</annotation><annotation encoding="application/x-llamapun" id="A2.SS4.p1.4.m4.1d">italic_h ( italic_n )</annotation></semantics></math>, respectively.
</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>LLM-based Agents</h2>
<figure class="ltx_table" id="A3.T4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>A comparison of methods that leverage LLMs for tool-use. Each method’s features are reported into five categories: 1) Basic Information: The basic information of the method about tool-use relevance, covering the total number and type of tools used by the methods, the number of tools involved in solving each problem, the instruction type of methods, and the tasks for evaluation. 2) Planning Ability: The method will generate a complete plan to solve problems. 3) Modify Steps: The method makes changes to the next action (Taking Action). 4) Modify Plans: The method might revise the entire plan (Modifying Plan) and make changes accordingly or not. 5) Trace Back: The method can revise the past actions in the plan and make modifications to restart from previous actions. </figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A3.T4.23">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A3.T4.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="A3.T4.2.2.3" style="padding:-0.6pt 1.0pt;">Methods</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_tt" id="A3.T4.1.1.1" style="padding:-0.6pt 1.0pt;">
<math alttext="\#" class="ltx_Math" display="inline" id="A3.T4.1.1.1.m1.1"><semantics id="A3.T4.1.1.1.m1.1a"><mi id="A3.T4.1.1.1.m1.1.1" mathvariant="normal" xref="A3.T4.1.1.1.m1.1.1.cmml">#</mi><annotation-xml encoding="MathML-Content" id="A3.T4.1.1.1.m1.1b"><ci id="A3.T4.1.1.1.m1.1.1.cmml" xref="A3.T4.1.1.1.m1.1.1">#</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.1.1.1.m1.1c">\#</annotation><annotation encoding="application/x-llamapun" id="A3.T4.1.1.1.m1.1d">#</annotation></semantics></math>Tools</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_tt" id="A3.T4.2.2.4" style="padding:-0.6pt 1.0pt;">Tool Types</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.2" style="padding:-0.6pt 1.0pt;">
<math alttext="\#" class="ltx_Math" display="inline" id="A3.T4.2.2.2.m1.1"><semantics id="A3.T4.2.2.2.m1.1a"><mi id="A3.T4.2.2.2.m1.1.1" mathvariant="normal" xref="A3.T4.2.2.2.m1.1.1.cmml">#</mi><annotation-xml encoding="MathML-Content" id="A3.T4.2.2.2.m1.1b"><ci id="A3.T4.2.2.2.m1.1.1.cmml" xref="A3.T4.2.2.2.m1.1.1">#</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.2.2.2.m1.1c">\#</annotation><annotation encoding="application/x-llamapun" id="A3.T4.2.2.2.m1.1d">#</annotation></semantics></math>Tool/Task</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.5" style="padding:-0.6pt 1.0pt;">Instruction Type</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A3.T4.2.2.6" style="padding:-0.6pt 1.0pt;">Task</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A3.T4.2.2.7" style="padding:-0.6pt 1.0pt;">Planning</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A3.T4.2.2.8" style="padding:-0.6pt 1.0pt;">Modify Steps</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A3.T4.2.2.9" style="padding:-0.6pt 1.0pt;">Modify Plans</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.10" style="padding:-0.6pt 1.0pt;">Trace-Back</td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.24.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" colspan="7" id="A3.T4.23.24.1.1" style="padding:-0.6pt 1.0pt;"> <em class="ltx_emph ltx_font_italic" id="A3.T4.23.24.1.1.1">Open Loop Methods</em></th>
<td class="ltx_td ltx_border_t" id="A3.T4.23.24.1.2" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.24.1.3" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.24.1.4" style="padding:-0.6pt 1.0pt;"></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.25.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A3.T4.23.25.2.1" style="padding:-0.6pt 1.0pt;">CoT <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="#bib.bib46" title="">2022</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="A3.T4.23.25.2.2" style="padding:-0.6pt 1.0pt;">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="A3.T4.23.25.2.3" style="padding:-0.6pt 1.0pt;">-</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.23.25.2.4" style="padding:-0.6pt 1.0pt;">1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.23.25.2.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.23.25.2.6" style="padding:-0.6pt 1.0pt;">QA</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.23.25.2.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.25.2.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.23.25.2.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.25.2.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.23.25.2.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.25.2.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.23.25.2.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.25.2.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.26.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.23.26.3.1" style="padding:-0.6pt 1.0pt;">Lila <cite class="ltx_cite ltx_citemacro_citep">(Mishra et al., <a class="ltx_ref" href="#bib.bib25" title="">2022</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.26.3.2" style="padding:-0.6pt 1.0pt;">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.26.3.3" style="padding:-0.6pt 1.0pt;">Code (Math)</th>
<td class="ltx_td ltx_align_center" id="A3.T4.23.26.3.4" style="padding:-0.6pt 1.0pt;">1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.26.3.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.26.3.6" style="padding:-0.6pt 1.0pt;">MathQA</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.26.3.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.26.3.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.26.3.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.26.3.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.26.3.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.26.3.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.26.3.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.26.3.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.27.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.23.27.4.1" style="padding:-0.6pt 1.0pt;">PoT <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a class="ltx_ref" href="#bib.bib3" title="">2022</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.27.4.2" style="padding:-0.6pt 1.0pt;">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.27.4.3" style="padding:-0.6pt 1.0pt;">Code (Math)</th>
<td class="ltx_td ltx_align_center" id="A3.T4.23.27.4.4" style="padding:-0.6pt 1.0pt;">1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.27.4.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.27.4.6" style="padding:-0.6pt 1.0pt;">TabQA</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.27.4.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.27.4.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.27.4.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.27.4.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.27.4.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.27.4.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.27.4.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.27.4.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.28.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.23.28.5.1" style="padding:-0.6pt 1.0pt;">Code4Struct <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="#bib.bib43" title="">2022a</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.28.5.2" style="padding:-0.6pt 1.0pt;">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.28.5.3" style="padding:-0.6pt 1.0pt;">Code (Event)</th>
<td class="ltx_td ltx_align_center" id="A3.T4.23.28.5.4" style="padding:-0.6pt 1.0pt;">1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.28.5.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.28.5.6" style="padding:-0.6pt 1.0pt;">Extraction</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.28.5.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.28.5.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.28.5.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.28.5.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.28.5.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.28.5.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.28.5.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.28.5.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.29.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.23.29.6.1" style="padding:-0.6pt 1.0pt;">PAL <cite class="ltx_cite ltx_citemacro_citep">(Gao et al., <a class="ltx_ref" href="#bib.bib6" title="">2022</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.29.6.2" style="padding:-0.6pt 1.0pt;">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.29.6.3" style="padding:-0.6pt 1.0pt;">Code (Math)</th>
<td class="ltx_td ltx_align_center" id="A3.T4.23.29.6.4" style="padding:-0.6pt 1.0pt;">1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.29.6.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.29.6.6" style="padding:-0.6pt 1.0pt;">MathQA</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.29.6.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.29.6.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.29.6.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.29.6.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.29.6.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.29.6.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.29.6.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.29.6.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.30.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.23.30.7.1" style="padding:-0.6pt 1.0pt;">MathPrompt <cite class="ltx_cite ltx_citemacro_citep">(Imani et al., <a class="ltx_ref" href="#bib.bib13" title="">2023</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.30.7.2" style="padding:-0.6pt 1.0pt;">1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.30.7.3" style="padding:-0.6pt 1.0pt;">Code (Math)</th>
<td class="ltx_td ltx_align_center" id="A3.T4.23.30.7.4" style="padding:-0.6pt 1.0pt;">1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.30.7.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.30.7.6" style="padding:-0.6pt 1.0pt;">MathQA</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.30.7.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.30.7.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.30.7.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.30.7.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.30.7.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.30.7.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.30.7.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.30.7.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.3.3.2" style="padding:-0.6pt 1.0pt;">ToolFormer <cite class="ltx_cite ltx_citemacro_citep">(Schick et al., <a class="ltx_ref" href="#bib.bib37" title="">2023</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.3.3.3" style="padding:-0.6pt 1.0pt;">5</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.3.3.4" style="padding:-0.6pt 1.0pt;">Basic</th>
<td class="ltx_td ltx_align_center" id="A3.T4.3.3.5" style="padding:-0.6pt 1.0pt;">1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.3.3.1" style="padding:-0.6pt 1.0pt;">PR <math alttext="\&amp;" class="ltx_Math" display="inline" id="A3.T4.3.3.1.m1.1"><semantics id="A3.T4.3.3.1.m1.1a"><mo id="A3.T4.3.3.1.m1.1.1" xref="A3.T4.3.3.1.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.3.3.1.m1.1b"><and id="A3.T4.3.3.1.m1.1.1.cmml" xref="A3.T4.3.3.1.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.3.3.1.m1.1c">\&amp;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.3.3.1.m1.1d">&amp;</annotation></semantics></math> FT</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.3.3.6" style="padding:-0.6pt 1.0pt;">QA</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.3.3.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.3.3.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.3.3.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.3.3.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.3.3.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.3.3.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.3.3.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.3.3.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.4.4.2" style="padding:-0.6pt 1.0pt;">GraphToolFormer <cite class="ltx_cite ltx_citemacro_citep">(Zhang, <a class="ltx_ref" href="#bib.bib57" title="">2023</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.4.4.3" style="padding:-0.6pt 1.0pt;">5</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.4.4.4" style="padding:-0.6pt 1.0pt;">Graph</th>
<td class="ltx_td ltx_align_center" id="A3.T4.4.4.5" style="padding:-0.6pt 1.0pt;">1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.4.4.1" style="padding:-0.6pt 1.0pt;">PR <math alttext="\&amp;" class="ltx_Math" display="inline" id="A3.T4.4.4.1.m1.1"><semantics id="A3.T4.4.4.1.m1.1a"><mo id="A3.T4.4.4.1.m1.1.1" xref="A3.T4.4.4.1.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.4.4.1.m1.1b"><and id="A3.T4.4.4.1.m1.1.1.cmml" xref="A3.T4.4.4.1.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.4.4.1.m1.1c">\&amp;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.4.4.1.m1.1d">&amp;</annotation></semantics></math> FT</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.4.4.6" style="padding:-0.6pt 1.0pt;">Graph</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.4.4.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.4.4.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.4.4.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.4.4.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.4.4.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.4.4.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.4.4.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.4.4.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.5.5.2" style="padding:-0.6pt 1.0pt;">Talm <cite class="ltx_cite ltx_citemacro_citep">(Parisi et al., <a class="ltx_ref" href="#bib.bib30" title="">2022</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.5.5.3" style="padding:-0.6pt 1.0pt;">-</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.5.5.4" style="padding:-0.6pt 1.0pt;">Basic</th>
<td class="ltx_td ltx_align_center" id="A3.T4.5.5.5" style="padding:-0.6pt 1.0pt;">1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.5.5.1" style="padding:-0.6pt 1.0pt;">PR <math alttext="\&amp;" class="ltx_Math" display="inline" id="A3.T4.5.5.1.m1.1"><semantics id="A3.T4.5.5.1.m1.1a"><mo id="A3.T4.5.5.1.m1.1.1" xref="A3.T4.5.5.1.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.5.5.1.m1.1b"><and id="A3.T4.5.5.1.m1.1.1.cmml" xref="A3.T4.5.5.1.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.5.5.1.m1.1c">\&amp;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.5.5.1.m1.1d">&amp;</annotation></semantics></math> FT</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.5.5.6" style="padding:-0.6pt 1.0pt;">QA</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.5.5.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.5.5.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.5.5.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.5.5.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.5.5.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.5.5.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.5.5.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.5.5.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.7.7.3" style="padding:-0.6pt 1.0pt;">HuggingGPT <cite class="ltx_cite ltx_citemacro_citep">(Shen et al., <a class="ltx_ref" href="#bib.bib38" title="">2023</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.6.6.1" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.6.6.1.m1.1"><semantics id="A3.T4.6.6.1.m1.1a"><mo id="A3.T4.6.6.1.m1.1.1" xref="A3.T4.6.6.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.6.6.1.m1.1b"><gt id="A3.T4.6.6.1.m1.1.1.cmml" xref="A3.T4.6.6.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.6.6.1.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.6.6.1.m1.1d">&gt;</annotation></semantics></math>10</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.7.7.4" style="padding:-0.6pt 1.0pt;">Vision Models</th>
<td class="ltx_td ltx_align_center" id="A3.T4.7.7.2" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.7.7.2.m1.1"><semantics id="A3.T4.7.7.2.m1.1a"><mo id="A3.T4.7.7.2.m1.1.1" xref="A3.T4.7.7.2.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.7.7.2.m1.1b"><gt id="A3.T4.7.7.2.m1.1.1.cmml" xref="A3.T4.7.7.2.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.7.7.2.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.7.7.2.m1.1d">&gt;</annotation></semantics></math>1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.7.7.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.7.7.6" style="padding:-0.6pt 1.0pt;">VQA</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.7.7.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.7.7.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.7.7.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.7.7.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.7.7.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.7.7.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.7.7.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.7.7.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.9.9.3" style="padding:-0.6pt 1.0pt;">Chameleon <cite class="ltx_cite ltx_citemacro_citep">(Lu et al., <a class="ltx_ref" href="#bib.bib23" title="">2023</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.8.8.1" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.8.8.1.m1.1"><semantics id="A3.T4.8.8.1.m1.1a"><mo id="A3.T4.8.8.1.m1.1.1" xref="A3.T4.8.8.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.8.8.1.m1.1b"><gt id="A3.T4.8.8.1.m1.1.1.cmml" xref="A3.T4.8.8.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.8.8.1.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.8.8.1.m1.1d">&gt;</annotation></semantics></math>10</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.9.9.4" style="padding:-0.6pt 1.0pt;">NLP, Table</th>
<td class="ltx_td ltx_align_center" id="A3.T4.9.9.2" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.9.9.2.m1.1"><semantics id="A3.T4.9.9.2.m1.1a"><mo id="A3.T4.9.9.2.m1.1.1" xref="A3.T4.9.9.2.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.9.9.2.m1.1b"><gt id="A3.T4.9.9.2.m1.1.1.cmml" xref="A3.T4.9.9.2.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.9.9.2.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.9.9.2.m1.1d">&gt;</annotation></semantics></math>1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.9.9.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.9.9.6" style="padding:-0.6pt 1.0pt;">QA</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.9.9.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.9.9.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.9.9.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.9.9.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.9.9.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.9.9.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.9.9.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.9.9.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.10.10.2" style="padding:-0.6pt 1.0pt;">GeneGPT <cite class="ltx_cite ltx_citemacro_citep">(Jin et al., <a class="ltx_ref" href="#bib.bib15" title="">2023</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.10.10.3" style="padding:-0.6pt 1.0pt;">38</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.10.10.4" style="padding:-0.6pt 1.0pt;">NCBI APIs</th>
<td class="ltx_td ltx_align_center" id="A3.T4.10.10.1" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.10.10.1.m1.1"><semantics id="A3.T4.10.10.1.m1.1a"><mo id="A3.T4.10.10.1.m1.1.1" xref="A3.T4.10.10.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.10.10.1.m1.1b"><gt id="A3.T4.10.10.1.m1.1.1.cmml" xref="A3.T4.10.10.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.10.10.1.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.10.10.1.m1.1d">&gt;</annotation></semantics></math>1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.10.10.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.10.10.6" style="padding:-0.6pt 1.0pt;">Gene Tasks</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.10.10.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.10.10.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.10.10.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.10.10.8.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.10.10.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.10.10.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.10.10.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.10.10.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.31.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" colspan="6" id="A3.T4.23.31.8.1" style="padding:-0.6pt 1.0pt;"> <em class="ltx_emph ltx_font_italic" id="A3.T4.23.31.8.1.1">Greedy Closed-Loop Methods</em></th>
<td class="ltx_td ltx_border_t" id="A3.T4.23.31.8.2" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.31.8.3" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.31.8.4" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.31.8.5" style="padding:-0.6pt 1.0pt;"></td>
</tr>
<tr class="ltx_tr" id="A3.T4.11.11">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A3.T4.11.11.2" style="padding:-0.6pt 1.0pt;">WebGPT <cite class="ltx_cite ltx_citemacro_citep">(Nakano et al., <a class="ltx_ref" href="#bib.bib26" title="">2021</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="A3.T4.11.11.3" style="padding:-0.6pt 1.0pt;">10</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="A3.T4.11.11.4" style="padding:-0.6pt 1.0pt;">Web Operations</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.11.11.1" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.11.11.1.m1.1"><semantics id="A3.T4.11.11.1.m1.1a"><mo id="A3.T4.11.11.1.m1.1.1" xref="A3.T4.11.11.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.11.11.1.m1.1b"><gt id="A3.T4.11.11.1.m1.1.1.cmml" xref="A3.T4.11.11.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.11.11.1.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.11.11.1.m1.1d">&gt;</annotation></semantics></math>1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.11.11.5" style="padding:-0.6pt 1.0pt;">Fine-tuning</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.11.11.6" style="padding:-0.6pt 1.0pt;">QA</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.11.11.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.11.11.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.11.11.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.11.11.8.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.11.11.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.11.11.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.11.11.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.11.11.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.12.12">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.12.12.2" style="padding:-0.6pt 1.0pt;">ART <cite class="ltx_cite ltx_citemacro_citep">(Paranjape et al., <a class="ltx_ref" href="#bib.bib29" title="">2023</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.12.12.3" style="padding:-0.6pt 1.0pt;">8</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.12.12.4" style="padding:-0.6pt 1.0pt;">Code, Basic</th>
<td class="ltx_td ltx_align_center" id="A3.T4.12.12.1" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.12.12.1.m1.1"><semantics id="A3.T4.12.12.1.m1.1a"><mo id="A3.T4.12.12.1.m1.1.1" xref="A3.T4.12.12.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.12.12.1.m1.1b"><gt id="A3.T4.12.12.1.m1.1.1.cmml" xref="A3.T4.12.12.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.12.12.1.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.12.12.1.m1.1d">&gt;</annotation></semantics></math>1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.12.12.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.12.12.6" style="padding:-0.6pt 1.0pt;">BigBench</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.12.12.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.12.12.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.12.12.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.12.12.8.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.12.12.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.12.12.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.12.12.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.12.12.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.14.14">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.14.14.3" style="padding:-0.6pt 1.0pt;">ReAct <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.14.14.4" style="padding:-0.6pt 1.0pt;">3</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.14.14.5" style="padding:-0.6pt 1.0pt;">Retriever</th>
<td class="ltx_td ltx_align_center" id="A3.T4.13.13.1" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.13.13.1.m1.1"><semantics id="A3.T4.13.13.1.m1.1a"><mo id="A3.T4.13.13.1.m1.1.1" xref="A3.T4.13.13.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.13.13.1.m1.1b"><gt id="A3.T4.13.13.1.m1.1.1.cmml" xref="A3.T4.13.13.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.13.13.1.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.13.13.1.m1.1d">&gt;</annotation></semantics></math>1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.14.14.2" style="padding:-0.6pt 1.0pt;">PR <math alttext="\&amp;" class="ltx_Math" display="inline" id="A3.T4.14.14.2.m1.1"><semantics id="A3.T4.14.14.2.m1.1a"><mo id="A3.T4.14.14.2.m1.1.1" xref="A3.T4.14.14.2.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.14.14.2.m1.1b"><and id="A3.T4.14.14.2.m1.1.1.cmml" xref="A3.T4.14.14.2.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.14.14.2.m1.1c">\&amp;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.14.14.2.m1.1d">&amp;</annotation></semantics></math> FT</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.14.14.6" style="padding:-0.6pt 1.0pt;">QA, Env</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.14.14.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.14.14.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.14.14.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.14.14.8.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.14.14.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.14.14.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.14.14.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.14.14.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.16.16">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.16.16.3" style="padding:-0.6pt 1.0pt;">MM-ReAct <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="#bib.bib53" title="">2023c</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.15.15.1" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.15.15.1.m1.1"><semantics id="A3.T4.15.15.1.m1.1a"><mo id="A3.T4.15.15.1.m1.1.1" xref="A3.T4.15.15.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.15.15.1.m1.1b"><gt id="A3.T4.15.15.1.m1.1.1.cmml" xref="A3.T4.15.15.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.15.15.1.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.15.15.1.m1.1d">&gt;</annotation></semantics></math>10</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.16.16.4" style="padding:-0.6pt 1.0pt;">Vision Models</th>
<td class="ltx_td ltx_align_center" id="A3.T4.16.16.2" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.16.16.2.m1.1"><semantics id="A3.T4.16.16.2.m1.1a"><mo id="A3.T4.16.16.2.m1.1.1" xref="A3.T4.16.16.2.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.16.16.2.m1.1b"><gt id="A3.T4.16.16.2.m1.1.1.cmml" xref="A3.T4.16.16.2.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.16.16.2.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.16.16.2.m1.1d">&gt;</annotation></semantics></math>1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.16.16.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.16.16.6" style="padding:-0.6pt 1.0pt;">CV tasks</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.16.16.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.16.16.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.16.16.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.16.16.8.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.16.16.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.16.16.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.16.16.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.16.16.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.18.18">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.18.18.3" style="padding:-0.6pt 1.0pt;">Visual ChatGPT <cite class="ltx_cite ltx_citemacro_citep">(Wu et al., <a class="ltx_ref" href="#bib.bib48" title="">2023</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.17.17.1" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.17.17.1.m1.1"><semantics id="A3.T4.17.17.1.m1.1a"><mo id="A3.T4.17.17.1.m1.1.1" xref="A3.T4.17.17.1.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.17.17.1.m1.1b"><gt id="A3.T4.17.17.1.m1.1.1.cmml" xref="A3.T4.17.17.1.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.17.17.1.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.17.17.1.m1.1d">&gt;</annotation></semantics></math>10</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.18.18.4" style="padding:-0.6pt 1.0pt;">Vision Models</th>
<td class="ltx_td ltx_align_center" id="A3.T4.18.18.2" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.18.18.2.m1.1"><semantics id="A3.T4.18.18.2.m1.1a"><mo id="A3.T4.18.18.2.m1.1.1" xref="A3.T4.18.18.2.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.18.18.2.m1.1b"><gt id="A3.T4.18.18.2.m1.1.1.cmml" xref="A3.T4.18.18.2.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.18.18.2.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.18.18.2.m1.1d">&gt;</annotation></semantics></math>1</td>
<td class="ltx_td ltx_align_center" id="A3.T4.18.18.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.18.18.6" style="padding:-0.6pt 1.0pt;">CV tasks</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.18.18.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.18.18.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.18.18.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.18.18.8.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.18.18.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.18.18.9.1" style="color:#FF0000;">✗</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.18.18.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.18.18.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.32.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" colspan="6" id="A3.T4.23.32.9.1" style="padding:-0.6pt 1.0pt;"> <em class="ltx_emph ltx_font_italic" id="A3.T4.23.32.9.1.1">Closed-Loop Methods</em></th>
<td class="ltx_td ltx_border_t" id="A3.T4.23.32.9.2" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.32.9.3" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.32.9.4" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.32.9.5" style="padding:-0.6pt 1.0pt;"></td>
</tr>
<tr class="ltx_tr" id="A3.T4.19.19">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A3.T4.19.19.2" style="padding:-0.6pt 1.0pt;">DEPS <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="#bib.bib45" title="">2023</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="A3.T4.19.19.3" style="padding:-0.6pt 1.0pt;">-</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="A3.T4.19.19.4" style="padding:-0.6pt 1.0pt;">Game</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.19.19.5" style="padding:-0.6pt 1.0pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.19.19.1" style="padding:-0.6pt 1.0pt;">PR <math alttext="\&amp;" class="ltx_Math" display="inline" id="A3.T4.19.19.1.m1.1"><semantics id="A3.T4.19.19.1.m1.1a"><mo id="A3.T4.19.19.1.m1.1.1" xref="A3.T4.19.19.1.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.19.19.1.m1.1b"><and id="A3.T4.19.19.1.m1.1.1.cmml" xref="A3.T4.19.19.1.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.19.19.1.m1.1c">\&amp;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.19.19.1.m1.1d">&amp;</annotation></semantics></math> FT</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.19.19.6" style="padding:-0.6pt 1.0pt;">Game</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.19.19.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.19.19.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.19.19.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.19.19.8.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.19.19.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.19.19.9.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.19.19.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.19.19.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.33.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.23.33.10.1" style="padding:-0.6pt 1.0pt;">AdaPlanner <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a class="ltx_ref" href="#bib.bib41" title="">2023</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.33.10.2" style="padding:-0.6pt 1.0pt;">-</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.33.10.3" style="padding:-0.6pt 1.0pt;">Actions</th>
<td class="ltx_td ltx_align_center" id="A3.T4.23.33.10.4" style="padding:-0.6pt 1.0pt;">-</td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.33.10.5" style="padding:-0.6pt 1.0pt;">Prompting</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.33.10.6" style="padding:-0.6pt 1.0pt;">Envs</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.33.10.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.33.10.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.33.10.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.33.10.8.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.33.10.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.33.10.9.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.33.10.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.33.10.10.1" style="color:#FF0000;">✗</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.34.11">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" colspan="6" id="A3.T4.23.34.11.1" style="padding:-0.6pt 1.0pt;"> <em class="ltx_emph ltx_font_italic" id="A3.T4.23.34.11.1.1">Tree Search-based Methods</em></th>
<td class="ltx_td ltx_border_t" id="A3.T4.23.34.11.2" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.34.11.3" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.34.11.4" style="padding:-0.6pt 1.0pt;"></td>
<td class="ltx_td ltx_border_t" id="A3.T4.23.34.11.5" style="padding:-0.6pt 1.0pt;"></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.35.12">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A3.T4.23.35.12.1" style="padding:-0.6pt 1.0pt;">ToT <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="A3.T4.23.35.12.2" style="padding:-0.6pt 1.0pt;">-</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="A3.T4.23.35.12.3" style="padding:-0.6pt 1.0pt;">Thoughts</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.23.35.12.4" style="padding:-0.6pt 1.0pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.23.35.12.5" style="padding:-0.6pt 1.0pt;">PR</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.23.35.12.6" style="padding:-0.6pt 1.0pt;">Planning</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.23.35.12.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.35.12.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.23.35.12.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.35.12.8.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T4.23.35.12.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.35.12.9.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.23.35.12.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.35.12.10.1" style="color:#009B55;">✔</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.36.13">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A3.T4.23.36.13.1" style="padding:-0.6pt 1.0pt;">MCTS <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.36.13.2" style="padding:-0.6pt 1.0pt;">-</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="A3.T4.23.36.13.3" style="padding:-0.6pt 1.0pt;">Thoughts</th>
<td class="ltx_td ltx_align_center" id="A3.T4.23.36.13.4" style="padding:-0.6pt 1.0pt;">-</td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.36.13.5" style="padding:-0.6pt 1.0pt;">PR</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.36.13.6" style="padding:-0.6pt 1.0pt;">Planning</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.36.13.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.36.13.7.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.36.13.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.36.13.8.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T4.23.36.13.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.36.13.9.1" style="color:#009B55;">✔</span></td>
<td class="ltx_td ltx_align_center" id="A3.T4.23.36.13.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.36.13.10.1" style="color:#009B55;">✔</span></td>
</tr>
<tr class="ltx_tr" id="A3.T4.23.23" style="background-color:#E6F2F2;">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A3.T4.20.20.1" style="padding:-0.6pt 1.0pt;"><span class="ltx_text ltx_font_bold" id="A3.T4.20.20.1.1" style="background-color:#E6F2F2;">ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A3.T4.20.20.1.1.m1.1"><semantics id="A3.T4.20.20.1.1.m1.1a"><msup id="A3.T4.20.20.1.1.m1.1.1" xref="A3.T4.20.20.1.1.m1.1.1.cmml"><mi id="A3.T4.20.20.1.1.m1.1.1a" xref="A3.T4.20.20.1.1.m1.1.1.cmml"></mi><mo id="A3.T4.20.20.1.1.m1.1.1.1" mathbackground="#E6F2F2" mathvariant="normal" xref="A3.T4.20.20.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A3.T4.20.20.1.1.m1.1b"><apply id="A3.T4.20.20.1.1.m1.1.1.cmml" xref="A3.T4.20.20.1.1.m1.1.1"><times id="A3.T4.20.20.1.1.m1.1.1.1.cmml" xref="A3.T4.20.20.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.20.20.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A3.T4.20.20.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math></span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="A3.T4.21.21.2" style="padding:-0.6pt 1.0pt;">
<math alttext="&gt;" class="ltx_Math" display="inline" id="A3.T4.21.21.2.m1.1" style="background-color:#E6F2F2;"><semantics id="A3.T4.21.21.2.m1.1a"><mo id="A3.T4.21.21.2.m1.1.1" mathbackground="#E6F2F2" xref="A3.T4.21.21.2.m1.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.21.21.2.m1.1b"><gt id="A3.T4.21.21.2.m1.1.1.cmml" xref="A3.T4.21.21.2.m1.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.21.21.2.m1.1c">&gt;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.21.21.2.m1.1d">&gt;</annotation></semantics></math><span class="ltx_text" id="A3.T4.21.21.2.1" style="background-color:#E6F2F2;">10</span>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="A3.T4.23.23.5" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.23.5.1" style="background-color:#E6F2F2;">General</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.22.22.3" style="padding:-0.6pt 1.0pt;"><math alttext="&gt;1" class="ltx_Math" display="inline" id="A3.T4.22.22.3.m1.1" style="background-color:#E6F2F2;"><semantics id="A3.T4.22.22.3.m1.1a"><mrow id="A3.T4.22.22.3.m1.1.1" xref="A3.T4.22.22.3.m1.1.1.cmml"><mi id="A3.T4.22.22.3.m1.1.1.2" xref="A3.T4.22.22.3.m1.1.1.2.cmml"></mi><mo id="A3.T4.22.22.3.m1.1.1.1" mathbackground="#E6F2F2" xref="A3.T4.22.22.3.m1.1.1.1.cmml">&gt;</mo><mn id="A3.T4.22.22.3.m1.1.1.3" mathbackground="#E6F2F2" xref="A3.T4.22.22.3.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.T4.22.22.3.m1.1b"><apply id="A3.T4.22.22.3.m1.1.1.cmml" xref="A3.T4.22.22.3.m1.1.1"><gt id="A3.T4.22.22.3.m1.1.1.1.cmml" xref="A3.T4.22.22.3.m1.1.1.1"></gt><csymbol cd="latexml" id="A3.T4.22.22.3.m1.1.1.2.cmml" xref="A3.T4.22.22.3.m1.1.1.2">absent</csymbol><cn id="A3.T4.22.22.3.m1.1.1.3.cmml" type="integer" xref="A3.T4.22.22.3.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.22.22.3.m1.1c">&gt;1</annotation><annotation encoding="application/x-llamapun" id="A3.T4.22.22.3.m1.1d">&gt; 1</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.23.23.4" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.23.4.1" style="background-color:#E6F2F2;">PR <math alttext="\&amp;" class="ltx_Math" display="inline" id="A3.T4.23.23.4.1.m1.1"><semantics id="A3.T4.23.23.4.1.m1.1a"><mo id="A3.T4.23.23.4.1.m1.1.1" mathbackground="#E6F2F2" xref="A3.T4.23.23.4.1.m1.1.1.cmml">&amp;</mo><annotation-xml encoding="MathML-Content" id="A3.T4.23.23.4.1.m1.1b"><and id="A3.T4.23.23.4.1.m1.1.1.cmml" xref="A3.T4.23.23.4.1.m1.1.1"></and></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.23.23.4.1.m1.1c">\&amp;</annotation><annotation encoding="application/x-llamapun" id="A3.T4.23.23.4.1.m1.1d">&amp;</annotation></semantics></math> FT</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A3.T4.23.23.6" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.23.6.1" style="background-color:#E6F2F2;">Envs, MathQA</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A3.T4.23.23.7" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.23.7.1" style="color:#009B55;background-color:#E6F2F2;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A3.T4.23.23.8" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.23.8.1" style="color:#009B55;background-color:#E6F2F2;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A3.T4.23.23.9" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.23.9.1" style="color:#009B55;background-color:#E6F2F2;">✔</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.23.23.10" style="padding:-0.6pt 1.0pt;"><span class="ltx_text" id="A3.T4.23.23.10.1" style="color:#009B55;background-color:#E6F2F2;">✔</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para ltx_noindent" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">We summarize existing LLM-based Agents for tool-use scenarios in Table <a class="ltx_ref" href="#A3.T4" title="Table 4 ‣ Appendix C LLM-based Agents ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">4</span></a>, with a detailed definition and related works of open- and closed-loop systems in the following sections.</p>
</div>
<section class="ltx_subsection" id="A3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1 </span>Open-Loop System</h3>
<div class="ltx_para ltx_noindent" id="A3.SS1.p1">
<p class="ltx_p" id="A3.SS1.p1.8"><span class="ltx_text ltx_font_bold" id="A3.SS1.p1.8.1">Open-loop Systems</span> <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="#bib.bib46" title="">2022</a>; Zhou et al., <a class="ltx_ref" href="#bib.bib59" title="">2022</a>)</cite> generate pre-defined plans to explore over coherent intermediate steps toward problem-solving.
Given the initial states <math alttext="s_{0}" class="ltx_Math" display="inline" id="A3.SS1.p1.1.m1.1"><semantics id="A3.SS1.p1.1.m1.1a"><msub id="A3.SS1.p1.1.m1.1.1" xref="A3.SS1.p1.1.m1.1.1.cmml"><mi id="A3.SS1.p1.1.m1.1.1.2" xref="A3.SS1.p1.1.m1.1.1.2.cmml">s</mi><mn id="A3.SS1.p1.1.m1.1.1.3" xref="A3.SS1.p1.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.1.m1.1b"><apply id="A3.SS1.p1.1.m1.1.1.cmml" xref="A3.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A3.SS1.p1.1.m1.1.1.1.cmml" xref="A3.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="A3.SS1.p1.1.m1.1.1.2.cmml" xref="A3.SS1.p1.1.m1.1.1.2">𝑠</ci><cn id="A3.SS1.p1.1.m1.1.1.3.cmml" type="integer" xref="A3.SS1.p1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.1.m1.1c">s_{0}</annotation><annotation encoding="application/x-llamapun" id="A3.SS1.p1.1.m1.1d">italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math>, which are usually the problem description <math alttext="x" class="ltx_Math" display="inline" id="A3.SS1.p1.2.m2.1"><semantics id="A3.SS1.p1.2.m2.1a"><mi id="A3.SS1.p1.2.m2.1.1" xref="A3.SS1.p1.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.2.m2.1b"><ci id="A3.SS1.p1.2.m2.1.1.cmml" xref="A3.SS1.p1.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.2.m2.1c">x</annotation><annotation encoding="application/x-llamapun" id="A3.SS1.p1.2.m2.1d">italic_x</annotation></semantics></math> in the format of natural language, the systems generate the entire <math alttext="T" class="ltx_Math" display="inline" id="A3.SS1.p1.3.m3.1"><semantics id="A3.SS1.p1.3.m3.1a"><mi id="A3.SS1.p1.3.m3.1.1" xref="A3.SS1.p1.3.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.3.m3.1b"><ci id="A3.SS1.p1.3.m3.1.1.cmml" xref="A3.SS1.p1.3.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.3.m3.1c">T</annotation><annotation encoding="application/x-llamapun" id="A3.SS1.p1.3.m3.1d">italic_T</annotation></semantics></math>-step plans as the solution <math alttext="\rho(a_{1},a_{2},\cdots,a_{T}|s_{0}):\mathcal{S}\to\Delta(\mathcal{A}^{T})" class="ltx_Math" display="inline" id="A3.SS1.p1.4.m4.5"><semantics id="A3.SS1.p1.4.m4.5a"><mrow id="A3.SS1.p1.4.m4.5.5" xref="A3.SS1.p1.4.m4.5.5.cmml"><mrow id="A3.SS1.p1.4.m4.4.4.3" xref="A3.SS1.p1.4.m4.4.4.3.cmml"><mi id="A3.SS1.p1.4.m4.4.4.3.5" xref="A3.SS1.p1.4.m4.4.4.3.5.cmml">ρ</mi><mo id="A3.SS1.p1.4.m4.4.4.3.4" xref="A3.SS1.p1.4.m4.4.4.3.4.cmml">⁢</mo><mrow id="A3.SS1.p1.4.m4.4.4.3.3.3" xref="A3.SS1.p1.4.m4.4.4.3.3.4.cmml"><mo id="A3.SS1.p1.4.m4.4.4.3.3.3.4" stretchy="false" xref="A3.SS1.p1.4.m4.4.4.3.3.4.cmml">(</mo><msub id="A3.SS1.p1.4.m4.2.2.1.1.1.1" xref="A3.SS1.p1.4.m4.2.2.1.1.1.1.cmml"><mi id="A3.SS1.p1.4.m4.2.2.1.1.1.1.2" xref="A3.SS1.p1.4.m4.2.2.1.1.1.1.2.cmml">a</mi><mn id="A3.SS1.p1.4.m4.2.2.1.1.1.1.3" xref="A3.SS1.p1.4.m4.2.2.1.1.1.1.3.cmml">1</mn></msub><mo id="A3.SS1.p1.4.m4.4.4.3.3.3.5" xref="A3.SS1.p1.4.m4.4.4.3.3.4.cmml">,</mo><msub id="A3.SS1.p1.4.m4.3.3.2.2.2.2" xref="A3.SS1.p1.4.m4.3.3.2.2.2.2.cmml"><mi id="A3.SS1.p1.4.m4.3.3.2.2.2.2.2" xref="A3.SS1.p1.4.m4.3.3.2.2.2.2.2.cmml">a</mi><mn id="A3.SS1.p1.4.m4.3.3.2.2.2.2.3" xref="A3.SS1.p1.4.m4.3.3.2.2.2.2.3.cmml">2</mn></msub><mo id="A3.SS1.p1.4.m4.4.4.3.3.3.6" xref="A3.SS1.p1.4.m4.4.4.3.3.4.cmml">,</mo><mi id="A3.SS1.p1.4.m4.1.1" mathvariant="normal" xref="A3.SS1.p1.4.m4.1.1.cmml">⋯</mi><mo id="A3.SS1.p1.4.m4.4.4.3.3.3.7" xref="A3.SS1.p1.4.m4.4.4.3.3.4.cmml">,</mo><mrow id="A3.SS1.p1.4.m4.4.4.3.3.3.3" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.cmml"><msub id="A3.SS1.p1.4.m4.4.4.3.3.3.3.2" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.cmml"><mi id="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.2" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.2.cmml">a</mi><mi id="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.3" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.3.cmml">T</mi></msub><mo fence="false" id="A3.SS1.p1.4.m4.4.4.3.3.3.3.1" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.1.cmml">|</mo><msub id="A3.SS1.p1.4.m4.4.4.3.3.3.3.3" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.cmml"><mi id="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.2" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.2.cmml">s</mi><mn id="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.3" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.3.cmml">0</mn></msub></mrow><mo id="A3.SS1.p1.4.m4.4.4.3.3.3.8" rspace="0.278em" stretchy="false" xref="A3.SS1.p1.4.m4.4.4.3.3.4.cmml">)</mo></mrow></mrow><mo id="A3.SS1.p1.4.m4.5.5.5" rspace="0.278em" xref="A3.SS1.p1.4.m4.5.5.5.cmml">:</mo><mrow id="A3.SS1.p1.4.m4.5.5.4" xref="A3.SS1.p1.4.m4.5.5.4.cmml"><mi class="ltx_font_mathcaligraphic" id="A3.SS1.p1.4.m4.5.5.4.3" xref="A3.SS1.p1.4.m4.5.5.4.3.cmml">𝒮</mi><mo id="A3.SS1.p1.4.m4.5.5.4.2" stretchy="false" xref="A3.SS1.p1.4.m4.5.5.4.2.cmml">→</mo><mrow id="A3.SS1.p1.4.m4.5.5.4.1" xref="A3.SS1.p1.4.m4.5.5.4.1.cmml"><mi id="A3.SS1.p1.4.m4.5.5.4.1.3" mathvariant="normal" xref="A3.SS1.p1.4.m4.5.5.4.1.3.cmml">Δ</mi><mo id="A3.SS1.p1.4.m4.5.5.4.1.2" xref="A3.SS1.p1.4.m4.5.5.4.1.2.cmml">⁢</mo><mrow id="A3.SS1.p1.4.m4.5.5.4.1.1.1" xref="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.cmml"><mo id="A3.SS1.p1.4.m4.5.5.4.1.1.1.2" stretchy="false" xref="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.cmml">(</mo><msup id="A3.SS1.p1.4.m4.5.5.4.1.1.1.1" xref="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.2" xref="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.2.cmml">𝒜</mi><mi id="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.3" xref="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.3.cmml">T</mi></msup><mo id="A3.SS1.p1.4.m4.5.5.4.1.1.1.3" stretchy="false" xref="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.4.m4.5b"><apply id="A3.SS1.p1.4.m4.5.5.cmml" xref="A3.SS1.p1.4.m4.5.5"><ci id="A3.SS1.p1.4.m4.5.5.5.cmml" xref="A3.SS1.p1.4.m4.5.5.5">:</ci><apply id="A3.SS1.p1.4.m4.4.4.3.cmml" xref="A3.SS1.p1.4.m4.4.4.3"><times id="A3.SS1.p1.4.m4.4.4.3.4.cmml" xref="A3.SS1.p1.4.m4.4.4.3.4"></times><ci id="A3.SS1.p1.4.m4.4.4.3.5.cmml" xref="A3.SS1.p1.4.m4.4.4.3.5">𝜌</ci><vector id="A3.SS1.p1.4.m4.4.4.3.3.4.cmml" xref="A3.SS1.p1.4.m4.4.4.3.3.3"><apply id="A3.SS1.p1.4.m4.2.2.1.1.1.1.cmml" xref="A3.SS1.p1.4.m4.2.2.1.1.1.1"><csymbol cd="ambiguous" id="A3.SS1.p1.4.m4.2.2.1.1.1.1.1.cmml" xref="A3.SS1.p1.4.m4.2.2.1.1.1.1">subscript</csymbol><ci id="A3.SS1.p1.4.m4.2.2.1.1.1.1.2.cmml" xref="A3.SS1.p1.4.m4.2.2.1.1.1.1.2">𝑎</ci><cn id="A3.SS1.p1.4.m4.2.2.1.1.1.1.3.cmml" type="integer" xref="A3.SS1.p1.4.m4.2.2.1.1.1.1.3">1</cn></apply><apply id="A3.SS1.p1.4.m4.3.3.2.2.2.2.cmml" xref="A3.SS1.p1.4.m4.3.3.2.2.2.2"><csymbol cd="ambiguous" id="A3.SS1.p1.4.m4.3.3.2.2.2.2.1.cmml" xref="A3.SS1.p1.4.m4.3.3.2.2.2.2">subscript</csymbol><ci id="A3.SS1.p1.4.m4.3.3.2.2.2.2.2.cmml" xref="A3.SS1.p1.4.m4.3.3.2.2.2.2.2">𝑎</ci><cn id="A3.SS1.p1.4.m4.3.3.2.2.2.2.3.cmml" type="integer" xref="A3.SS1.p1.4.m4.3.3.2.2.2.2.3">2</cn></apply><ci id="A3.SS1.p1.4.m4.1.1.cmml" xref="A3.SS1.p1.4.m4.1.1">⋯</ci><apply id="A3.SS1.p1.4.m4.4.4.3.3.3.3.cmml" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3"><csymbol cd="latexml" id="A3.SS1.p1.4.m4.4.4.3.3.3.3.1.cmml" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.1">conditional</csymbol><apply id="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.cmml" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.2"><csymbol cd="ambiguous" id="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.1.cmml" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.2">subscript</csymbol><ci id="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.2.cmml" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.2">𝑎</ci><ci id="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.3.cmml" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.2.3">𝑇</ci></apply><apply id="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.cmml" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.3"><csymbol cd="ambiguous" id="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.1.cmml" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.3">subscript</csymbol><ci id="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.2.cmml" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.2">𝑠</ci><cn id="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.3.cmml" type="integer" xref="A3.SS1.p1.4.m4.4.4.3.3.3.3.3.3">0</cn></apply></apply></vector></apply><apply id="A3.SS1.p1.4.m4.5.5.4.cmml" xref="A3.SS1.p1.4.m4.5.5.4"><ci id="A3.SS1.p1.4.m4.5.5.4.2.cmml" xref="A3.SS1.p1.4.m4.5.5.4.2">→</ci><ci id="A3.SS1.p1.4.m4.5.5.4.3.cmml" xref="A3.SS1.p1.4.m4.5.5.4.3">𝒮</ci><apply id="A3.SS1.p1.4.m4.5.5.4.1.cmml" xref="A3.SS1.p1.4.m4.5.5.4.1"><times id="A3.SS1.p1.4.m4.5.5.4.1.2.cmml" xref="A3.SS1.p1.4.m4.5.5.4.1.2"></times><ci id="A3.SS1.p1.4.m4.5.5.4.1.3.cmml" xref="A3.SS1.p1.4.m4.5.5.4.1.3">Δ</ci><apply id="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.cmml" xref="A3.SS1.p1.4.m4.5.5.4.1.1.1"><csymbol cd="ambiguous" id="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.1.cmml" xref="A3.SS1.p1.4.m4.5.5.4.1.1.1">superscript</csymbol><ci id="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.2.cmml" xref="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.2">𝒜</ci><ci id="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.3.cmml" xref="A3.SS1.p1.4.m4.5.5.4.1.1.1.1.3">𝑇</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.4.m4.5c">\rho(a_{1},a_{2},\cdots,a_{T}|s_{0}):\mathcal{S}\to\Delta(\mathcal{A}^{T})</annotation><annotation encoding="application/x-llamapun" id="A3.SS1.p1.4.m4.5d">italic_ρ ( italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ) : caligraphic_S → roman_Δ ( caligraphic_A start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT )</annotation></semantics></math>, where <math alttext="\mathcal{S}" class="ltx_Math" display="inline" id="A3.SS1.p1.5.m5.1"><semantics id="A3.SS1.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="A3.SS1.p1.5.m5.1.1" xref="A3.SS1.p1.5.m5.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.5.m5.1b"><ci id="A3.SS1.p1.5.m5.1.1.cmml" xref="A3.SS1.p1.5.m5.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.5.m5.1c">\mathcal{S}</annotation><annotation encoding="application/x-llamapun" id="A3.SS1.p1.5.m5.1d">caligraphic_S</annotation></semantics></math> is the state space, <math alttext="\mathcal{A}" class="ltx_Math" display="inline" id="A3.SS1.p1.6.m6.1"><semantics id="A3.SS1.p1.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="A3.SS1.p1.6.m6.1.1" xref="A3.SS1.p1.6.m6.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.6.m6.1b"><ci id="A3.SS1.p1.6.m6.1.1.cmml" xref="A3.SS1.p1.6.m6.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.6.m6.1c">\mathcal{A}</annotation><annotation encoding="application/x-llamapun" id="A3.SS1.p1.6.m6.1d">caligraphic_A</annotation></semantics></math> is the action space, and <math alttext="\Delta(\cdot)" class="ltx_Math" display="inline" id="A3.SS1.p1.7.m7.1"><semantics id="A3.SS1.p1.7.m7.1a"><mrow id="A3.SS1.p1.7.m7.1.2" xref="A3.SS1.p1.7.m7.1.2.cmml"><mi id="A3.SS1.p1.7.m7.1.2.2" mathvariant="normal" xref="A3.SS1.p1.7.m7.1.2.2.cmml">Δ</mi><mo id="A3.SS1.p1.7.m7.1.2.1" xref="A3.SS1.p1.7.m7.1.2.1.cmml">⁢</mo><mrow id="A3.SS1.p1.7.m7.1.2.3.2" xref="A3.SS1.p1.7.m7.1.2.cmml"><mo id="A3.SS1.p1.7.m7.1.2.3.2.1" stretchy="false" xref="A3.SS1.p1.7.m7.1.2.cmml">(</mo><mo id="A3.SS1.p1.7.m7.1.1" lspace="0em" rspace="0em" xref="A3.SS1.p1.7.m7.1.1.cmml">⋅</mo><mo id="A3.SS1.p1.7.m7.1.2.3.2.2" stretchy="false" xref="A3.SS1.p1.7.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.7.m7.1b"><apply id="A3.SS1.p1.7.m7.1.2.cmml" xref="A3.SS1.p1.7.m7.1.2"><times id="A3.SS1.p1.7.m7.1.2.1.cmml" xref="A3.SS1.p1.7.m7.1.2.1"></times><ci id="A3.SS1.p1.7.m7.1.2.2.cmml" xref="A3.SS1.p1.7.m7.1.2.2">Δ</ci><ci id="A3.SS1.p1.7.m7.1.1.cmml" xref="A3.SS1.p1.7.m7.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.7.m7.1c">\Delta(\cdot)</annotation><annotation encoding="application/x-llamapun" id="A3.SS1.p1.7.m7.1d">roman_Δ ( ⋅ )</annotation></semantics></math> is probability simplex function.
The final output is obtained after executing the entire plan <math alttext="y\sim p(y|s_{0},a_{1},a_{2},\cdots,a_{T})" class="ltx_Math" display="inline" id="A3.SS1.p1.8.m8.2"><semantics id="A3.SS1.p1.8.m8.2a"><mrow id="A3.SS1.p1.8.m8.2.2" xref="A3.SS1.p1.8.m8.2.2.cmml"><mi id="A3.SS1.p1.8.m8.2.2.3" xref="A3.SS1.p1.8.m8.2.2.3.cmml">y</mi><mo id="A3.SS1.p1.8.m8.2.2.2" xref="A3.SS1.p1.8.m8.2.2.2.cmml">∼</mo><mrow id="A3.SS1.p1.8.m8.2.2.1" xref="A3.SS1.p1.8.m8.2.2.1.cmml"><mi id="A3.SS1.p1.8.m8.2.2.1.3" xref="A3.SS1.p1.8.m8.2.2.1.3.cmml">p</mi><mo id="A3.SS1.p1.8.m8.2.2.1.2" xref="A3.SS1.p1.8.m8.2.2.1.2.cmml">⁢</mo><mrow id="A3.SS1.p1.8.m8.2.2.1.1.1" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.cmml"><mo id="A3.SS1.p1.8.m8.2.2.1.1.1.2" stretchy="false" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.cmml">(</mo><mrow id="A3.SS1.p1.8.m8.2.2.1.1.1.1" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.cmml"><mi id="A3.SS1.p1.8.m8.2.2.1.1.1.1.6" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.6.cmml">y</mi><mo fence="false" id="A3.SS1.p1.8.m8.2.2.1.1.1.1.5" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.5.cmml">|</mo><mrow id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.5.cmml"><msub id="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.cmml"><mi id="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.2" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.2.cmml">s</mi><mn id="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.3" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.5" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.cmml"><mi id="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.2" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.2.cmml">a</mi><mn id="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.3" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.6" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.cmml"><mi id="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.2" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.2.cmml">a</mi><mn id="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.3" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.3.cmml">2</mn></msub><mo id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.7" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.5.cmml">,</mo><mi id="A3.SS1.p1.8.m8.1.1" mathvariant="normal" xref="A3.SS1.p1.8.m8.1.1.cmml">⋯</mi><mo id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.8" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.cmml"><mi id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.2" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.2.cmml">a</mi><mi id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.3" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.3.cmml">T</mi></msub></mrow></mrow><mo id="A3.SS1.p1.8.m8.2.2.1.1.1.3" stretchy="false" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS1.p1.8.m8.2b"><apply id="A3.SS1.p1.8.m8.2.2.cmml" xref="A3.SS1.p1.8.m8.2.2"><csymbol cd="latexml" id="A3.SS1.p1.8.m8.2.2.2.cmml" xref="A3.SS1.p1.8.m8.2.2.2">similar-to</csymbol><ci id="A3.SS1.p1.8.m8.2.2.3.cmml" xref="A3.SS1.p1.8.m8.2.2.3">𝑦</ci><apply id="A3.SS1.p1.8.m8.2.2.1.cmml" xref="A3.SS1.p1.8.m8.2.2.1"><times id="A3.SS1.p1.8.m8.2.2.1.2.cmml" xref="A3.SS1.p1.8.m8.2.2.1.2"></times><ci id="A3.SS1.p1.8.m8.2.2.1.3.cmml" xref="A3.SS1.p1.8.m8.2.2.1.3">𝑝</ci><apply id="A3.SS1.p1.8.m8.2.2.1.1.1.1.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1"><csymbol cd="latexml" id="A3.SS1.p1.8.m8.2.2.1.1.1.1.5.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.5">conditional</csymbol><ci id="A3.SS1.p1.8.m8.2.2.1.1.1.1.6.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.6">𝑦</ci><list id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.5.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4"><apply id="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.1.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.2.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.2">𝑠</ci><cn id="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.3.cmml" type="integer" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.1.1.1.3">0</cn></apply><apply id="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.1.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.2.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.2">𝑎</ci><cn id="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.3.cmml" type="integer" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.2.2.2.3">1</cn></apply><apply id="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.1.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3">subscript</csymbol><ci id="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.2.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.2">𝑎</ci><cn id="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.3.cmml" type="integer" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.3.3.3.3">2</cn></apply><ci id="A3.SS1.p1.8.m8.1.1.cmml" xref="A3.SS1.p1.8.m8.1.1">⋯</ci><apply id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4"><csymbol cd="ambiguous" id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.1.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4">subscript</csymbol><ci id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.2.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.2">𝑎</ci><ci id="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.3.cmml" xref="A3.SS1.p1.8.m8.2.2.1.1.1.1.4.4.4.3">𝑇</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS1.p1.8.m8.2c">y\sim p(y|s_{0},a_{1},a_{2},\cdots,a_{T})</annotation><annotation encoding="application/x-llamapun" id="A3.SS1.p1.8.m8.2d">italic_y ∼ italic_p ( italic_y | italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT )</annotation></semantics></math>.</p>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS1.p2">
<p class="ltx_p" id="A3.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="A3.SS1.p2.1.1">LLMs for Open-Loop Planning.</span>
Trained on vast world knowledge and human examples, LLMs have emerged with smart planning and decision-making capabilities.
Leveraging LLMs as autonomous agents to accomplish decision-making tasks has gained attention and shown potential.
Earlier studies apply the open-loop framework to directly generate the entire plan as the solution.
One line of works, including Chain-of-Thought <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="#bib.bib46" title="">2022</a>)</cite> and Zero-Shot Planner <cite class="ltx_cite ltx_citemacro_citep">(Huang et al., <a class="ltx_ref" href="#bib.bib11" title="">2022a</a>)</cite>, generate intermediate reasoning steps all at once to solve the problem.
Another line of works selects the opposite direction (<em class="ltx_emph ltx_font_italic" id="A3.SS1.p2.1.2">e.g.</em>, least-to-most prompting <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al., <a class="ltx_ref" href="#bib.bib59" title="">2022</a>)</cite>) that decomposes the complicated problems into relatively easier sub-problems.
For more complex tasks, methods like HuggingGPT <cite class="ltx_cite ltx_citemacro_citep">(Shen et al., <a class="ltx_ref" href="#bib.bib38" title="">2023</a>)</cite> and Chameleon <cite class="ltx_cite ltx_citemacro_citep">(Lu et al., <a class="ltx_ref" href="#bib.bib23" title="">2023</a>)</cite> incorporate a set of functional tools and directly generate the plan of API calls in a sequence for execution.
However, all these aforementioned methods explore a predetermined single path in the decision space, leaving the rest potential plans not considered when solving the problems.</p>
</div>
</section>
<section class="ltx_subsection" id="A3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.2 </span>Closed-Loop System</h3>
<div class="ltx_para ltx_noindent" id="A3.SS2.p1">
<p class="ltx_p" id="A3.SS2.p1.7"><span class="ltx_text ltx_font_bold" id="A3.SS2.p1.7.1">Closed-loop Systems</span> follow a more step-by-step plan modification and execution manner, interleaving intermediate observations with decisions over the action space.
When the agent interacts with the environment at the <math alttext="t" class="ltx_Math" display="inline" id="A3.SS2.p1.1.m1.1"><semantics id="A3.SS2.p1.1.m1.1a"><mi id="A3.SS2.p1.1.m1.1.1" xref="A3.SS2.p1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.1.m1.1b"><ci id="A3.SS2.p1.1.m1.1.1.cmml" xref="A3.SS2.p1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.1.m1.1c">t</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p1.1.m1.1d">italic_t</annotation></semantics></math>-th step, the agent is aware of the current observation <math alttext="o_{t}\in\mathcal{O}" class="ltx_Math" display="inline" id="A3.SS2.p1.2.m2.1"><semantics id="A3.SS2.p1.2.m2.1a"><mrow id="A3.SS2.p1.2.m2.1.1" xref="A3.SS2.p1.2.m2.1.1.cmml"><msub id="A3.SS2.p1.2.m2.1.1.2" xref="A3.SS2.p1.2.m2.1.1.2.cmml"><mi id="A3.SS2.p1.2.m2.1.1.2.2" xref="A3.SS2.p1.2.m2.1.1.2.2.cmml">o</mi><mi id="A3.SS2.p1.2.m2.1.1.2.3" xref="A3.SS2.p1.2.m2.1.1.2.3.cmml">t</mi></msub><mo id="A3.SS2.p1.2.m2.1.1.1" xref="A3.SS2.p1.2.m2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A3.SS2.p1.2.m2.1.1.3" xref="A3.SS2.p1.2.m2.1.1.3.cmml">𝒪</mi></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.2.m2.1b"><apply id="A3.SS2.p1.2.m2.1.1.cmml" xref="A3.SS2.p1.2.m2.1.1"><in id="A3.SS2.p1.2.m2.1.1.1.cmml" xref="A3.SS2.p1.2.m2.1.1.1"></in><apply id="A3.SS2.p1.2.m2.1.1.2.cmml" xref="A3.SS2.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="A3.SS2.p1.2.m2.1.1.2.1.cmml" xref="A3.SS2.p1.2.m2.1.1.2">subscript</csymbol><ci id="A3.SS2.p1.2.m2.1.1.2.2.cmml" xref="A3.SS2.p1.2.m2.1.1.2.2">𝑜</ci><ci id="A3.SS2.p1.2.m2.1.1.2.3.cmml" xref="A3.SS2.p1.2.m2.1.1.2.3">𝑡</ci></apply><ci id="A3.SS2.p1.2.m2.1.1.3.cmml" xref="A3.SS2.p1.2.m2.1.1.3">𝒪</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.2.m2.1c">o_{t}\in\mathcal{O}</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p1.2.m2.1d">italic_o start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∈ caligraphic_O</annotation></semantics></math> from the environment and generates a trajectory-like context <math alttext="c_{t}=(s_{0},a_{1},o_{1},a_{2},\cdots,o_{t})" class="ltx_Math" display="inline" id="A3.SS2.p1.3.m3.6"><semantics id="A3.SS2.p1.3.m3.6a"><mrow id="A3.SS2.p1.3.m3.6.6" xref="A3.SS2.p1.3.m3.6.6.cmml"><msub id="A3.SS2.p1.3.m3.6.6.7" xref="A3.SS2.p1.3.m3.6.6.7.cmml"><mi id="A3.SS2.p1.3.m3.6.6.7.2" xref="A3.SS2.p1.3.m3.6.6.7.2.cmml">c</mi><mi id="A3.SS2.p1.3.m3.6.6.7.3" xref="A3.SS2.p1.3.m3.6.6.7.3.cmml">t</mi></msub><mo id="A3.SS2.p1.3.m3.6.6.6" xref="A3.SS2.p1.3.m3.6.6.6.cmml">=</mo><mrow id="A3.SS2.p1.3.m3.6.6.5.5" xref="A3.SS2.p1.3.m3.6.6.5.6.cmml"><mo id="A3.SS2.p1.3.m3.6.6.5.5.6" stretchy="false" xref="A3.SS2.p1.3.m3.6.6.5.6.cmml">(</mo><msub id="A3.SS2.p1.3.m3.2.2.1.1.1" xref="A3.SS2.p1.3.m3.2.2.1.1.1.cmml"><mi id="A3.SS2.p1.3.m3.2.2.1.1.1.2" xref="A3.SS2.p1.3.m3.2.2.1.1.1.2.cmml">s</mi><mn id="A3.SS2.p1.3.m3.2.2.1.1.1.3" xref="A3.SS2.p1.3.m3.2.2.1.1.1.3.cmml">0</mn></msub><mo id="A3.SS2.p1.3.m3.6.6.5.5.7" xref="A3.SS2.p1.3.m3.6.6.5.6.cmml">,</mo><msub id="A3.SS2.p1.3.m3.3.3.2.2.2" xref="A3.SS2.p1.3.m3.3.3.2.2.2.cmml"><mi id="A3.SS2.p1.3.m3.3.3.2.2.2.2" xref="A3.SS2.p1.3.m3.3.3.2.2.2.2.cmml">a</mi><mn id="A3.SS2.p1.3.m3.3.3.2.2.2.3" xref="A3.SS2.p1.3.m3.3.3.2.2.2.3.cmml">1</mn></msub><mo id="A3.SS2.p1.3.m3.6.6.5.5.8" xref="A3.SS2.p1.3.m3.6.6.5.6.cmml">,</mo><msub id="A3.SS2.p1.3.m3.4.4.3.3.3" xref="A3.SS2.p1.3.m3.4.4.3.3.3.cmml"><mi id="A3.SS2.p1.3.m3.4.4.3.3.3.2" xref="A3.SS2.p1.3.m3.4.4.3.3.3.2.cmml">o</mi><mn id="A3.SS2.p1.3.m3.4.4.3.3.3.3" xref="A3.SS2.p1.3.m3.4.4.3.3.3.3.cmml">1</mn></msub><mo id="A3.SS2.p1.3.m3.6.6.5.5.9" xref="A3.SS2.p1.3.m3.6.6.5.6.cmml">,</mo><msub id="A3.SS2.p1.3.m3.5.5.4.4.4" xref="A3.SS2.p1.3.m3.5.5.4.4.4.cmml"><mi id="A3.SS2.p1.3.m3.5.5.4.4.4.2" xref="A3.SS2.p1.3.m3.5.5.4.4.4.2.cmml">a</mi><mn id="A3.SS2.p1.3.m3.5.5.4.4.4.3" xref="A3.SS2.p1.3.m3.5.5.4.4.4.3.cmml">2</mn></msub><mo id="A3.SS2.p1.3.m3.6.6.5.5.10" xref="A3.SS2.p1.3.m3.6.6.5.6.cmml">,</mo><mi id="A3.SS2.p1.3.m3.1.1" mathvariant="normal" xref="A3.SS2.p1.3.m3.1.1.cmml">⋯</mi><mo id="A3.SS2.p1.3.m3.6.6.5.5.11" xref="A3.SS2.p1.3.m3.6.6.5.6.cmml">,</mo><msub id="A3.SS2.p1.3.m3.6.6.5.5.5" xref="A3.SS2.p1.3.m3.6.6.5.5.5.cmml"><mi id="A3.SS2.p1.3.m3.6.6.5.5.5.2" xref="A3.SS2.p1.3.m3.6.6.5.5.5.2.cmml">o</mi><mi id="A3.SS2.p1.3.m3.6.6.5.5.5.3" xref="A3.SS2.p1.3.m3.6.6.5.5.5.3.cmml">t</mi></msub><mo id="A3.SS2.p1.3.m3.6.6.5.5.12" stretchy="false" xref="A3.SS2.p1.3.m3.6.6.5.6.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.3.m3.6b"><apply id="A3.SS2.p1.3.m3.6.6.cmml" xref="A3.SS2.p1.3.m3.6.6"><eq id="A3.SS2.p1.3.m3.6.6.6.cmml" xref="A3.SS2.p1.3.m3.6.6.6"></eq><apply id="A3.SS2.p1.3.m3.6.6.7.cmml" xref="A3.SS2.p1.3.m3.6.6.7"><csymbol cd="ambiguous" id="A3.SS2.p1.3.m3.6.6.7.1.cmml" xref="A3.SS2.p1.3.m3.6.6.7">subscript</csymbol><ci id="A3.SS2.p1.3.m3.6.6.7.2.cmml" xref="A3.SS2.p1.3.m3.6.6.7.2">𝑐</ci><ci id="A3.SS2.p1.3.m3.6.6.7.3.cmml" xref="A3.SS2.p1.3.m3.6.6.7.3">𝑡</ci></apply><vector id="A3.SS2.p1.3.m3.6.6.5.6.cmml" xref="A3.SS2.p1.3.m3.6.6.5.5"><apply id="A3.SS2.p1.3.m3.2.2.1.1.1.cmml" xref="A3.SS2.p1.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="A3.SS2.p1.3.m3.2.2.1.1.1.1.cmml" xref="A3.SS2.p1.3.m3.2.2.1.1.1">subscript</csymbol><ci id="A3.SS2.p1.3.m3.2.2.1.1.1.2.cmml" xref="A3.SS2.p1.3.m3.2.2.1.1.1.2">𝑠</ci><cn id="A3.SS2.p1.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="A3.SS2.p1.3.m3.2.2.1.1.1.3">0</cn></apply><apply id="A3.SS2.p1.3.m3.3.3.2.2.2.cmml" xref="A3.SS2.p1.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="A3.SS2.p1.3.m3.3.3.2.2.2.1.cmml" xref="A3.SS2.p1.3.m3.3.3.2.2.2">subscript</csymbol><ci id="A3.SS2.p1.3.m3.3.3.2.2.2.2.cmml" xref="A3.SS2.p1.3.m3.3.3.2.2.2.2">𝑎</ci><cn id="A3.SS2.p1.3.m3.3.3.2.2.2.3.cmml" type="integer" xref="A3.SS2.p1.3.m3.3.3.2.2.2.3">1</cn></apply><apply id="A3.SS2.p1.3.m3.4.4.3.3.3.cmml" xref="A3.SS2.p1.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="A3.SS2.p1.3.m3.4.4.3.3.3.1.cmml" xref="A3.SS2.p1.3.m3.4.4.3.3.3">subscript</csymbol><ci id="A3.SS2.p1.3.m3.4.4.3.3.3.2.cmml" xref="A3.SS2.p1.3.m3.4.4.3.3.3.2">𝑜</ci><cn id="A3.SS2.p1.3.m3.4.4.3.3.3.3.cmml" type="integer" xref="A3.SS2.p1.3.m3.4.4.3.3.3.3">1</cn></apply><apply id="A3.SS2.p1.3.m3.5.5.4.4.4.cmml" xref="A3.SS2.p1.3.m3.5.5.4.4.4"><csymbol cd="ambiguous" id="A3.SS2.p1.3.m3.5.5.4.4.4.1.cmml" xref="A3.SS2.p1.3.m3.5.5.4.4.4">subscript</csymbol><ci id="A3.SS2.p1.3.m3.5.5.4.4.4.2.cmml" xref="A3.SS2.p1.3.m3.5.5.4.4.4.2">𝑎</ci><cn id="A3.SS2.p1.3.m3.5.5.4.4.4.3.cmml" type="integer" xref="A3.SS2.p1.3.m3.5.5.4.4.4.3">2</cn></apply><ci id="A3.SS2.p1.3.m3.1.1.cmml" xref="A3.SS2.p1.3.m3.1.1">⋯</ci><apply id="A3.SS2.p1.3.m3.6.6.5.5.5.cmml" xref="A3.SS2.p1.3.m3.6.6.5.5.5"><csymbol cd="ambiguous" id="A3.SS2.p1.3.m3.6.6.5.5.5.1.cmml" xref="A3.SS2.p1.3.m3.6.6.5.5.5">subscript</csymbol><ci id="A3.SS2.p1.3.m3.6.6.5.5.5.2.cmml" xref="A3.SS2.p1.3.m3.6.6.5.5.5.2">𝑜</ci><ci id="A3.SS2.p1.3.m3.6.6.5.5.5.3.cmml" xref="A3.SS2.p1.3.m3.6.6.5.5.5.3">𝑡</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.3.m3.6c">c_{t}=(s_{0},a_{1},o_{1},a_{2},\cdots,o_{t})</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p1.3.m3.6d">italic_c start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = ( italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_o start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , ⋯ , italic_o start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>.
In tool-use scenarios, the intermediate observations are obtained during the execution of the previous actions in the plan <math alttext="o_{t}\sim\pi(o_{t}|s_{0},a_{1},o_{1},\cdots,a_{t-1})" class="ltx_Math" display="inline" id="A3.SS2.p1.4.m4.2"><semantics id="A3.SS2.p1.4.m4.2a"><mrow id="A3.SS2.p1.4.m4.2.2" xref="A3.SS2.p1.4.m4.2.2.cmml"><msub id="A3.SS2.p1.4.m4.2.2.3" xref="A3.SS2.p1.4.m4.2.2.3.cmml"><mi id="A3.SS2.p1.4.m4.2.2.3.2" xref="A3.SS2.p1.4.m4.2.2.3.2.cmml">o</mi><mi id="A3.SS2.p1.4.m4.2.2.3.3" xref="A3.SS2.p1.4.m4.2.2.3.3.cmml">t</mi></msub><mo id="A3.SS2.p1.4.m4.2.2.2" xref="A3.SS2.p1.4.m4.2.2.2.cmml">∼</mo><mrow id="A3.SS2.p1.4.m4.2.2.1" xref="A3.SS2.p1.4.m4.2.2.1.cmml"><mi id="A3.SS2.p1.4.m4.2.2.1.3" xref="A3.SS2.p1.4.m4.2.2.1.3.cmml">π</mi><mo id="A3.SS2.p1.4.m4.2.2.1.2" xref="A3.SS2.p1.4.m4.2.2.1.2.cmml">⁢</mo><mrow id="A3.SS2.p1.4.m4.2.2.1.1.1" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.cmml"><mo id="A3.SS2.p1.4.m4.2.2.1.1.1.2" stretchy="false" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.cmml">(</mo><mrow id="A3.SS2.p1.4.m4.2.2.1.1.1.1" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.cmml"><msub id="A3.SS2.p1.4.m4.2.2.1.1.1.1.6" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.cmml"><mi id="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.2" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.2.cmml">o</mi><mi id="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.3" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.3.cmml">t</mi></msub><mo fence="false" id="A3.SS2.p1.4.m4.2.2.1.1.1.1.5" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.5.cmml">|</mo><mrow id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.5.cmml"><msub id="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.cmml"><mi id="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.2" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.2.cmml">s</mi><mn id="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.3" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.5" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.cmml"><mi id="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.2" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.2.cmml">a</mi><mn id="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.3" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.6" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.cmml"><mi id="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.2" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.2.cmml">o</mi><mn id="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.3" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.3.cmml">1</mn></msub><mo id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.7" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.5.cmml">,</mo><mi id="A3.SS2.p1.4.m4.1.1" mathvariant="normal" xref="A3.SS2.p1.4.m4.1.1.cmml">⋯</mi><mo id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.8" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.cmml"><mi id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.2" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.2.cmml">a</mi><mrow id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.cmml"><mi id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.2" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.2.cmml">t</mi><mo id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.1" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.1.cmml">−</mo><mn id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.3" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo id="A3.SS2.p1.4.m4.2.2.1.1.1.3" stretchy="false" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.4.m4.2b"><apply id="A3.SS2.p1.4.m4.2.2.cmml" xref="A3.SS2.p1.4.m4.2.2"><csymbol cd="latexml" id="A3.SS2.p1.4.m4.2.2.2.cmml" xref="A3.SS2.p1.4.m4.2.2.2">similar-to</csymbol><apply id="A3.SS2.p1.4.m4.2.2.3.cmml" xref="A3.SS2.p1.4.m4.2.2.3"><csymbol cd="ambiguous" id="A3.SS2.p1.4.m4.2.2.3.1.cmml" xref="A3.SS2.p1.4.m4.2.2.3">subscript</csymbol><ci id="A3.SS2.p1.4.m4.2.2.3.2.cmml" xref="A3.SS2.p1.4.m4.2.2.3.2">𝑜</ci><ci id="A3.SS2.p1.4.m4.2.2.3.3.cmml" xref="A3.SS2.p1.4.m4.2.2.3.3">𝑡</ci></apply><apply id="A3.SS2.p1.4.m4.2.2.1.cmml" xref="A3.SS2.p1.4.m4.2.2.1"><times id="A3.SS2.p1.4.m4.2.2.1.2.cmml" xref="A3.SS2.p1.4.m4.2.2.1.2"></times><ci id="A3.SS2.p1.4.m4.2.2.1.3.cmml" xref="A3.SS2.p1.4.m4.2.2.1.3">𝜋</ci><apply id="A3.SS2.p1.4.m4.2.2.1.1.1.1.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1"><csymbol cd="latexml" id="A3.SS2.p1.4.m4.2.2.1.1.1.1.5.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.5">conditional</csymbol><apply id="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.6"><csymbol cd="ambiguous" id="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.1.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.6">subscript</csymbol><ci id="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.2.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.2">𝑜</ci><ci id="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.3.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.6.3">𝑡</ci></apply><list id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.5.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4"><apply id="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.1.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.2.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.2">𝑠</ci><cn id="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.3.cmml" type="integer" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.1.1.1.3">0</cn></apply><apply id="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.1.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.2.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.2">𝑎</ci><cn id="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.3.cmml" type="integer" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.2.2.2.3">1</cn></apply><apply id="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.1.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3">subscript</csymbol><ci id="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.2.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.2">𝑜</ci><cn id="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.3.cmml" type="integer" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.3.3.3.3">1</cn></apply><ci id="A3.SS2.p1.4.m4.1.1.cmml" xref="A3.SS2.p1.4.m4.1.1">⋯</ci><apply id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4"><csymbol cd="ambiguous" id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.1.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4">subscript</csymbol><ci id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.2.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.2">𝑎</ci><apply id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3"><minus id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.1.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.1"></minus><ci id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.2.cmml" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.2">𝑡</ci><cn id="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.3.cmml" type="integer" xref="A3.SS2.p1.4.m4.2.2.1.1.1.1.4.4.4.3.3">1</cn></apply></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.4.m4.2c">o_{t}\sim\pi(o_{t}|s_{0},a_{1},o_{1},\cdots,a_{t-1})</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p1.4.m4.2d">italic_o start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∼ italic_π ( italic_o start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_o start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT )</annotation></semantics></math>.
According to the environment feedback <math alttext="o_{t}" class="ltx_Math" display="inline" id="A3.SS2.p1.5.m5.1"><semantics id="A3.SS2.p1.5.m5.1a"><msub id="A3.SS2.p1.5.m5.1.1" xref="A3.SS2.p1.5.m5.1.1.cmml"><mi id="A3.SS2.p1.5.m5.1.1.2" xref="A3.SS2.p1.5.m5.1.1.2.cmml">o</mi><mi id="A3.SS2.p1.5.m5.1.1.3" xref="A3.SS2.p1.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.5.m5.1b"><apply id="A3.SS2.p1.5.m5.1.1.cmml" xref="A3.SS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="A3.SS2.p1.5.m5.1.1.1.cmml" xref="A3.SS2.p1.5.m5.1.1">subscript</csymbol><ci id="A3.SS2.p1.5.m5.1.1.2.cmml" xref="A3.SS2.p1.5.m5.1.1.2">𝑜</ci><ci id="A3.SS2.p1.5.m5.1.1.3.cmml" xref="A3.SS2.p1.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.5.m5.1c">o_{t}</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p1.5.m5.1d">italic_o start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, two levels of refinements can be applied:
greedy closed-loop methods <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>; Shinn et al., <a class="ltx_ref" href="#bib.bib39" title="">2023</a>)</cite> only decide the next single step <math alttext="a_{t}\sim\rho(a_{t}|s_{0},c_{t};\mathcal{I},\mathcal{D})" class="ltx_Math" display="inline" id="A3.SS2.p1.6.m6.3"><semantics id="A3.SS2.p1.6.m6.3a"><mrow id="A3.SS2.p1.6.m6.3.3" xref="A3.SS2.p1.6.m6.3.3.cmml"><msub id="A3.SS2.p1.6.m6.3.3.3" xref="A3.SS2.p1.6.m6.3.3.3.cmml"><mi id="A3.SS2.p1.6.m6.3.3.3.2" xref="A3.SS2.p1.6.m6.3.3.3.2.cmml">a</mi><mi id="A3.SS2.p1.6.m6.3.3.3.3" xref="A3.SS2.p1.6.m6.3.3.3.3.cmml">t</mi></msub><mo id="A3.SS2.p1.6.m6.3.3.2" xref="A3.SS2.p1.6.m6.3.3.2.cmml">∼</mo><mrow id="A3.SS2.p1.6.m6.3.3.1" xref="A3.SS2.p1.6.m6.3.3.1.cmml"><mi id="A3.SS2.p1.6.m6.3.3.1.3" xref="A3.SS2.p1.6.m6.3.3.1.3.cmml">ρ</mi><mo id="A3.SS2.p1.6.m6.3.3.1.2" xref="A3.SS2.p1.6.m6.3.3.1.2.cmml">⁢</mo><mrow id="A3.SS2.p1.6.m6.3.3.1.1.1" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.cmml"><mo id="A3.SS2.p1.6.m6.3.3.1.1.1.2" stretchy="false" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.cmml">(</mo><mrow id="A3.SS2.p1.6.m6.3.3.1.1.1.1" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.cmml"><msub id="A3.SS2.p1.6.m6.3.3.1.1.1.1.4" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.cmml"><mi id="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.2" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.2.cmml">a</mi><mi id="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.3" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.3.cmml">t</mi></msub><mo fence="false" id="A3.SS2.p1.6.m6.3.3.1.1.1.1.3" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.3.cmml">|</mo><mrow id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.3.cmml"><msub id="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.cmml"><mi id="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.2" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.cmml">s</mi><mn id="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.3" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.3" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.3.cmml">,</mo><msub id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.cmml"><mi id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.2" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.2.cmml">c</mi><mi id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.3" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.3.cmml">t</mi></msub><mo id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.4" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.3.cmml">;</mo><mi class="ltx_font_mathcaligraphic" id="A3.SS2.p1.6.m6.1.1" xref="A3.SS2.p1.6.m6.1.1.cmml">ℐ</mi><mo id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.5" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.3.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="A3.SS2.p1.6.m6.2.2" xref="A3.SS2.p1.6.m6.2.2.cmml">𝒟</mi></mrow></mrow><mo id="A3.SS2.p1.6.m6.3.3.1.1.1.3" stretchy="false" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.6.m6.3b"><apply id="A3.SS2.p1.6.m6.3.3.cmml" xref="A3.SS2.p1.6.m6.3.3"><csymbol cd="latexml" id="A3.SS2.p1.6.m6.3.3.2.cmml" xref="A3.SS2.p1.6.m6.3.3.2">similar-to</csymbol><apply id="A3.SS2.p1.6.m6.3.3.3.cmml" xref="A3.SS2.p1.6.m6.3.3.3"><csymbol cd="ambiguous" id="A3.SS2.p1.6.m6.3.3.3.1.cmml" xref="A3.SS2.p1.6.m6.3.3.3">subscript</csymbol><ci id="A3.SS2.p1.6.m6.3.3.3.2.cmml" xref="A3.SS2.p1.6.m6.3.3.3.2">𝑎</ci><ci id="A3.SS2.p1.6.m6.3.3.3.3.cmml" xref="A3.SS2.p1.6.m6.3.3.3.3">𝑡</ci></apply><apply id="A3.SS2.p1.6.m6.3.3.1.cmml" xref="A3.SS2.p1.6.m6.3.3.1"><times id="A3.SS2.p1.6.m6.3.3.1.2.cmml" xref="A3.SS2.p1.6.m6.3.3.1.2"></times><ci id="A3.SS2.p1.6.m6.3.3.1.3.cmml" xref="A3.SS2.p1.6.m6.3.3.1.3">𝜌</ci><apply id="A3.SS2.p1.6.m6.3.3.1.1.1.1.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1"><csymbol cd="latexml" id="A3.SS2.p1.6.m6.3.3.1.1.1.1.3.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.3">conditional</csymbol><apply id="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.4"><csymbol cd="ambiguous" id="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.1.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.4">subscript</csymbol><ci id="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.2.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.2">𝑎</ci><ci id="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.3.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.4.3">𝑡</ci></apply><list id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.3.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2"><apply id="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.1.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.2.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.2">𝑠</ci><cn id="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.3.cmml" type="integer" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.1.1.1.3">0</cn></apply><apply id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.1.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2">subscript</csymbol><ci id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.2.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.2">𝑐</ci><ci id="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.3.cmml" xref="A3.SS2.p1.6.m6.3.3.1.1.1.1.2.2.2.3">𝑡</ci></apply><ci id="A3.SS2.p1.6.m6.1.1.cmml" xref="A3.SS2.p1.6.m6.1.1">ℐ</ci><ci id="A3.SS2.p1.6.m6.2.2.cmml" xref="A3.SS2.p1.6.m6.2.2">𝒟</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.6.m6.3c">a_{t}\sim\rho(a_{t}|s_{0},c_{t};\mathcal{I},\mathcal{D})</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p1.6.m6.3d">italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∼ italic_ρ ( italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ; caligraphic_I , caligraphic_D )</annotation></semantics></math>, while the standard ones <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="#bib.bib45" title="">2023</a>; Sun et al., <a class="ltx_ref" href="#bib.bib41" title="">2023</a>)</cite> will modify the entire future plans <math alttext="\pi(a_{t+1},a_{t+2},\cdots,a_{T_{g}}|s_{0},c_{t};\mathcal{I},\mathcal{D})" class="ltx_Math" display="inline" id="A3.SS2.p1.7.m7.6"><semantics id="A3.SS2.p1.7.m7.6a"><mrow id="A3.SS2.p1.7.m7.6.6" xref="A3.SS2.p1.7.m7.6.6.cmml"><mi id="A3.SS2.p1.7.m7.6.6.5" xref="A3.SS2.p1.7.m7.6.6.5.cmml">π</mi><mo id="A3.SS2.p1.7.m7.6.6.4" xref="A3.SS2.p1.7.m7.6.6.4.cmml">⁢</mo><mrow id="A3.SS2.p1.7.m7.6.6.3.3" xref="A3.SS2.p1.7.m7.6.6.3.4.cmml"><mo id="A3.SS2.p1.7.m7.6.6.3.3.4" stretchy="false" xref="A3.SS2.p1.7.m7.6.6.3.4.cmml">(</mo><msub id="A3.SS2.p1.7.m7.4.4.1.1.1" xref="A3.SS2.p1.7.m7.4.4.1.1.1.cmml"><mi id="A3.SS2.p1.7.m7.4.4.1.1.1.2" xref="A3.SS2.p1.7.m7.4.4.1.1.1.2.cmml">a</mi><mrow id="A3.SS2.p1.7.m7.4.4.1.1.1.3" xref="A3.SS2.p1.7.m7.4.4.1.1.1.3.cmml"><mi id="A3.SS2.p1.7.m7.4.4.1.1.1.3.2" xref="A3.SS2.p1.7.m7.4.4.1.1.1.3.2.cmml">t</mi><mo id="A3.SS2.p1.7.m7.4.4.1.1.1.3.1" xref="A3.SS2.p1.7.m7.4.4.1.1.1.3.1.cmml">+</mo><mn id="A3.SS2.p1.7.m7.4.4.1.1.1.3.3" xref="A3.SS2.p1.7.m7.4.4.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="A3.SS2.p1.7.m7.6.6.3.3.5" xref="A3.SS2.p1.7.m7.6.6.3.4.cmml">,</mo><msub id="A3.SS2.p1.7.m7.5.5.2.2.2" xref="A3.SS2.p1.7.m7.5.5.2.2.2.cmml"><mi id="A3.SS2.p1.7.m7.5.5.2.2.2.2" xref="A3.SS2.p1.7.m7.5.5.2.2.2.2.cmml">a</mi><mrow id="A3.SS2.p1.7.m7.5.5.2.2.2.3" xref="A3.SS2.p1.7.m7.5.5.2.2.2.3.cmml"><mi id="A3.SS2.p1.7.m7.5.5.2.2.2.3.2" xref="A3.SS2.p1.7.m7.5.5.2.2.2.3.2.cmml">t</mi><mo id="A3.SS2.p1.7.m7.5.5.2.2.2.3.1" xref="A3.SS2.p1.7.m7.5.5.2.2.2.3.1.cmml">+</mo><mn id="A3.SS2.p1.7.m7.5.5.2.2.2.3.3" xref="A3.SS2.p1.7.m7.5.5.2.2.2.3.3.cmml">2</mn></mrow></msub><mo id="A3.SS2.p1.7.m7.6.6.3.3.6" xref="A3.SS2.p1.7.m7.6.6.3.4.cmml">,</mo><mi id="A3.SS2.p1.7.m7.3.3" mathvariant="normal" xref="A3.SS2.p1.7.m7.3.3.cmml">⋯</mi><mo id="A3.SS2.p1.7.m7.6.6.3.3.7" xref="A3.SS2.p1.7.m7.6.6.3.4.cmml">,</mo><mrow id="A3.SS2.p1.7.m7.6.6.3.3.3" xref="A3.SS2.p1.7.m7.6.6.3.3.3.cmml"><msub id="A3.SS2.p1.7.m7.6.6.3.3.3.4" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4.cmml"><mi id="A3.SS2.p1.7.m7.6.6.3.3.3.4.2" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4.2.cmml">a</mi><msub id="A3.SS2.p1.7.m7.6.6.3.3.3.4.3" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.cmml"><mi id="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.2" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.2.cmml">T</mi><mi id="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.3" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.3.cmml">g</mi></msub></msub><mo fence="false" id="A3.SS2.p1.7.m7.6.6.3.3.3.3" xref="A3.SS2.p1.7.m7.6.6.3.3.3.3.cmml">|</mo><mrow id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.3.cmml"><msub id="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1" xref="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.cmml"><mi id="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.2" xref="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.2.cmml">s</mi><mn id="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.3" xref="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.3.cmml">0</mn></msub><mo id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.3" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.3.cmml">,</mo><msub id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.cmml"><mi id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.2" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.2.cmml">c</mi><mi id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.3" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.3.cmml">t</mi></msub><mo id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.4" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.3.cmml">;</mo><mi class="ltx_font_mathcaligraphic" id="A3.SS2.p1.7.m7.1.1" xref="A3.SS2.p1.7.m7.1.1.cmml">ℐ</mi><mo id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.5" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.3.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="A3.SS2.p1.7.m7.2.2" xref="A3.SS2.p1.7.m7.2.2.cmml">𝒟</mi></mrow></mrow><mo id="A3.SS2.p1.7.m7.6.6.3.3.8" stretchy="false" xref="A3.SS2.p1.7.m7.6.6.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.7.m7.6b"><apply id="A3.SS2.p1.7.m7.6.6.cmml" xref="A3.SS2.p1.7.m7.6.6"><times id="A3.SS2.p1.7.m7.6.6.4.cmml" xref="A3.SS2.p1.7.m7.6.6.4"></times><ci id="A3.SS2.p1.7.m7.6.6.5.cmml" xref="A3.SS2.p1.7.m7.6.6.5">𝜋</ci><vector id="A3.SS2.p1.7.m7.6.6.3.4.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3"><apply id="A3.SS2.p1.7.m7.4.4.1.1.1.cmml" xref="A3.SS2.p1.7.m7.4.4.1.1.1"><csymbol cd="ambiguous" id="A3.SS2.p1.7.m7.4.4.1.1.1.1.cmml" xref="A3.SS2.p1.7.m7.4.4.1.1.1">subscript</csymbol><ci id="A3.SS2.p1.7.m7.4.4.1.1.1.2.cmml" xref="A3.SS2.p1.7.m7.4.4.1.1.1.2">𝑎</ci><apply id="A3.SS2.p1.7.m7.4.4.1.1.1.3.cmml" xref="A3.SS2.p1.7.m7.4.4.1.1.1.3"><plus id="A3.SS2.p1.7.m7.4.4.1.1.1.3.1.cmml" xref="A3.SS2.p1.7.m7.4.4.1.1.1.3.1"></plus><ci id="A3.SS2.p1.7.m7.4.4.1.1.1.3.2.cmml" xref="A3.SS2.p1.7.m7.4.4.1.1.1.3.2">𝑡</ci><cn id="A3.SS2.p1.7.m7.4.4.1.1.1.3.3.cmml" type="integer" xref="A3.SS2.p1.7.m7.4.4.1.1.1.3.3">1</cn></apply></apply><apply id="A3.SS2.p1.7.m7.5.5.2.2.2.cmml" xref="A3.SS2.p1.7.m7.5.5.2.2.2"><csymbol cd="ambiguous" id="A3.SS2.p1.7.m7.5.5.2.2.2.1.cmml" xref="A3.SS2.p1.7.m7.5.5.2.2.2">subscript</csymbol><ci id="A3.SS2.p1.7.m7.5.5.2.2.2.2.cmml" xref="A3.SS2.p1.7.m7.5.5.2.2.2.2">𝑎</ci><apply id="A3.SS2.p1.7.m7.5.5.2.2.2.3.cmml" xref="A3.SS2.p1.7.m7.5.5.2.2.2.3"><plus id="A3.SS2.p1.7.m7.5.5.2.2.2.3.1.cmml" xref="A3.SS2.p1.7.m7.5.5.2.2.2.3.1"></plus><ci id="A3.SS2.p1.7.m7.5.5.2.2.2.3.2.cmml" xref="A3.SS2.p1.7.m7.5.5.2.2.2.3.2">𝑡</ci><cn id="A3.SS2.p1.7.m7.5.5.2.2.2.3.3.cmml" type="integer" xref="A3.SS2.p1.7.m7.5.5.2.2.2.3.3">2</cn></apply></apply><ci id="A3.SS2.p1.7.m7.3.3.cmml" xref="A3.SS2.p1.7.m7.3.3">⋯</ci><apply id="A3.SS2.p1.7.m7.6.6.3.3.3.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3"><csymbol cd="latexml" id="A3.SS2.p1.7.m7.6.6.3.3.3.3.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.3">conditional</csymbol><apply id="A3.SS2.p1.7.m7.6.6.3.3.3.4.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4"><csymbol cd="ambiguous" id="A3.SS2.p1.7.m7.6.6.3.3.3.4.1.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4">subscript</csymbol><ci id="A3.SS2.p1.7.m7.6.6.3.3.3.4.2.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4.2">𝑎</ci><apply id="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4.3"><csymbol cd="ambiguous" id="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.1.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4.3">subscript</csymbol><ci id="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.2.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.2">𝑇</ci><ci id="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.3.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.4.3.3">𝑔</ci></apply></apply><list id="A3.SS2.p1.7.m7.6.6.3.3.3.2.3.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.2"><apply id="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1"><csymbol cd="ambiguous" id="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.1.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1">subscript</csymbol><ci id="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.2.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.2">𝑠</ci><cn id="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.3.cmml" type="integer" xref="A3.SS2.p1.7.m7.6.6.3.3.3.1.1.1.3">0</cn></apply><apply id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2"><csymbol cd="ambiguous" id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.1.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2">subscript</csymbol><ci id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.2.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.2">𝑐</ci><ci id="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.3.cmml" xref="A3.SS2.p1.7.m7.6.6.3.3.3.2.2.2.3">𝑡</ci></apply><ci id="A3.SS2.p1.7.m7.1.1.cmml" xref="A3.SS2.p1.7.m7.1.1">ℐ</ci><ci id="A3.SS2.p1.7.m7.2.2.cmml" xref="A3.SS2.p1.7.m7.2.2">𝒟</ci></list></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.7.m7.6c">\pi(a_{t+1},a_{t+2},\cdots,a_{T_{g}}|s_{0},c_{t};\mathcal{I},\mathcal{D})</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p1.7.m7.6d">italic_π ( italic_a start_POSTSUBSCRIPT italic_t + 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_t + 2 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT end_POSTSUBSCRIPT | italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ; caligraphic_I , caligraphic_D )</annotation></semantics></math>.
</p>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p2">
<p class="ltx_p" id="A3.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="A3.SS2.p2.1.1">LLMs for Closed-Loop Planning.</span>
Inspired by traditional reinforcement learning approaches that heavily rely on interaction with the environment (either simulator or real world), researchers start to improve the plan via refinement according to the environment feedback.
Initially, ReAct <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>)</cite> and Inner Monologue <cite class="ltx_cite ltx_citemacro_citep">(Huang et al., <a class="ltx_ref" href="#bib.bib12" title="">2022b</a>)</cite> allow LLM agents to refine a single step greedily according to the environment feedback.
Considering that solely modifying the immediate action being executed is easy to fall into local sub-optimal actions, improvements like DEPS <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="#bib.bib45" title="">2023</a>)</cite> and AdaPlanner <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a class="ltx_ref" href="#bib.bib41" title="">2023</a>)</cite> are proposed to recursively modify the entire future plans according to the environment feedback.
However, without a tracing-back mechanism to check the already executed plans, these efforts in the closed-loop framework still only explore a small proportion of decision space.
To mitigate these issues, we propose ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A3.SS2.p2.1.m1.1"><semantics id="A3.SS2.p2.1.m1.1a"><msup id="A3.SS2.p2.1.m1.1.1" xref="A3.SS2.p2.1.m1.1.1.cmml"><mi id="A3.SS2.p2.1.m1.1.1a" xref="A3.SS2.p2.1.m1.1.1.cmml"></mi><mo id="A3.SS2.p2.1.m1.1.1.1" xref="A3.SS2.p2.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A3.SS2.p2.1.m1.1b"><apply id="A3.SS2.p2.1.m1.1.1.cmml" xref="A3.SS2.p2.1.m1.1.1"><times id="A3.SS2.p2.1.m1.1.1.1.cmml" xref="A3.SS2.p2.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p2.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p2.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>, that enables tree search in planning and can record multiple branches in the decision space.</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Experimental Details</h2>
<section class="ltx_subsection" id="A4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.1 </span>Dataset Details</h3>
<div class="ltx_para" id="A4.SS1.p1">
<p class="ltx_p" id="A4.SS1.p1.1">We evaluate ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS1.p1.1.m1.1"><semantics id="A4.SS1.p1.1.m1.1a"><msup id="A4.SS1.p1.1.m1.1.1" xref="A4.SS1.p1.1.m1.1.1.cmml"><mi id="A4.SS1.p1.1.m1.1.1a" xref="A4.SS1.p1.1.m1.1.1.cmml"></mi><mo id="A4.SS1.p1.1.m1.1.1.1" xref="A4.SS1.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS1.p1.1.m1.1b"><apply id="A4.SS1.p1.1.m1.1.1.cmml" xref="A4.SS1.p1.1.m1.1.1"><times id="A4.SS1.p1.1.m1.1.1.1.cmml" xref="A4.SS1.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> on four tool-use environments in ToolBench <cite class="ltx_cite ltx_citemacro_citep">(Xu et al., <a class="ltx_ref" href="#bib.bib50" title="">2023</a>)</cite> and one reasoning task in GSM8K <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et al., <a class="ltx_ref" href="#bib.bib5" title="">2021</a>)</cite>. Table <a class="ltx_ref" href="#A4.T5" title="Table 5 ‣ D.1 Dataset Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">5</span></a> provides examples of task descriptions and output actions and reports the number of APIs and questions incorporated in the environment.</p>
</div>
<figure class="ltx_table" id="A4.T5">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Task overview of (1) Home Search, (2) Trip Booking, (3) Google Sheets, (4) Virtual Home, and (5) GSM8K datasets. We provide examples of task descriptions with output actions, and report the number of APIs (# APIs) and questions (# Ques) within each dataset.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A4.T5.7">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A4.T5.7.8.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="A4.T5.7.8.1.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.7.8.1.1.1">Datasets</span></td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_tt" id="A4.T5.7.8.1.2" style="width:173.4pt;padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold ltx_align_top" id="A4.T5.7.8.1.2.1">Task Descriptions</span></td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_tt" id="A4.T5.7.8.1.3" style="width:130.1pt;padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold ltx_align_top" id="A4.T5.7.8.1.3.1">Output Actions</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A4.T5.7.8.1.4" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.7.8.1.4.1"># APIs</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A4.T5.7.8.1.5" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.7.8.1.5.1"># Ques</span></td>
</tr>
<tr class="ltx_tr" id="A4.T5.1.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A4.T5.1.1.2" style="padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.1.1.2.1">
<tr class="ltx_tr" id="A4.T5.1.1.2.1.1">
<td class="ltx_td ltx_align_left" id="A4.T5.1.1.2.1.1.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.1.1.2.1.1.1.1">Home</span></td>
</tr>
<tr class="ltx_tr" id="A4.T5.1.1.2.1.2">
<td class="ltx_td ltx_align_left" id="A4.T5.1.1.2.1.2.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.1.1.2.1.2.1.1">Search</span></td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A4.T5.1.1.3" style="width:173.4pt;padding:-0.6pt 3.0pt;">
<p class="ltx_p ltx_align_top" id="A4.T5.1.1.3.1">I want to <span class="ltx_text" id="A4.T5.1.1.3.1.1" style="color:#0000FF;">buy</span> a townhouse, mobile or co-op in <span class="ltx_text" id="A4.T5.1.1.3.1.2" style="color:#0000FF;">Pittsburgh</span> with 4 rooms. My budget is $1385000.</p>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A4.T5.1.1.1" style="width:130.1pt;padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.1.1.1.1">
<tr class="ltx_tr" id="A4.T5.1.1.1.1.2">
<td class="ltx_td ltx_align_left" id="A4.T5.1.1.1.1.2.1" style="padding:-0.6pt 3.0pt;">API.set_location(”<span class="ltx_text" id="A4.T5.1.1.1.1.2.1.1" style="color:#0000FF;">Pittsburgh</span>”)</td>
</tr>
<tr class="ltx_tr" id="A4.T5.1.1.1.1.1">
<td class="ltx_td ltx_align_left" id="A4.T5.1.1.1.1.1.1" style="padding:-0.6pt 3.0pt;">API.set_buy_or_rent(”<span class="ltx_text" id="A4.T5.1.1.1.1.1.1.1" style="color:#0000FF;">buy</span>”)<math alttext="\cdots" class="ltx_Math" display="inline" id="A4.T5.1.1.1.1.1.1.m1.1"><semantics id="A4.T5.1.1.1.1.1.1.m1.1a"><mi id="A4.T5.1.1.1.1.1.1.m1.1.1" mathvariant="normal" xref="A4.T5.1.1.1.1.1.1.m1.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.T5.1.1.1.1.1.1.m1.1b"><ci id="A4.T5.1.1.1.1.1.1.m1.1.1.cmml" xref="A4.T5.1.1.1.1.1.1.m1.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.1.1.1.1.1.1.m1.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.T5.1.1.1.1.1.1.m1.1d">⋯</annotation></semantics></math>
</td>
</tr>
</table></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A4.T5.1.1.4" style="padding:-0.6pt 3.0pt;">15</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T5.1.1.5" style="padding:-0.6pt 3.0pt;">100</td>
</tr>
<tr class="ltx_tr" id="A4.T5.4.4">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A4.T5.4.4.4" style="padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.4.4.4.1">
<tr class="ltx_tr" id="A4.T5.4.4.4.1.1">
<td class="ltx_td ltx_align_left" id="A4.T5.4.4.4.1.1.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.4.4.4.1.1.1.1">Trip</span></td>
</tr>
<tr class="ltx_tr" id="A4.T5.4.4.4.1.2">
<td class="ltx_td ltx_align_left" id="A4.T5.4.4.4.1.2.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.4.4.4.1.2.1.1">Booking</span></td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A4.T5.4.4.5" style="width:173.4pt;padding:-0.6pt 3.0pt;">
<p class="ltx_p ltx_align_top" id="A4.T5.4.4.5.1">Could you help me find <span class="ltx_text" id="A4.T5.4.4.5.1.1" style="color:#0000FF;">train tickets</span> for 3 children and 5 adults from Des Moines to Cape Coral on July 07, 2022?</p>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A4.T5.4.4.3" style="width:130.1pt;padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.4.4.3.3">
<tr class="ltx_tr" id="A4.T5.3.3.2.2.2">
<td class="ltx_td ltx_align_left" id="A4.T5.3.3.2.2.2.2" style="padding:-0.6pt 3.0pt;">API.select<math alttext="\_" class="ltx_Math" display="inline" id="A4.T5.2.2.1.1.1.1.m1.1"><semantics id="A4.T5.2.2.1.1.1.1.m1.1a"><mi id="A4.T5.2.2.1.1.1.1.m1.1.1" mathvariant="normal" xref="A4.T5.2.2.1.1.1.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="A4.T5.2.2.1.1.1.1.m1.1b"><ci id="A4.T5.2.2.1.1.1.1.m1.1.1.cmml" xref="A4.T5.2.2.1.1.1.1.m1.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.2.2.1.1.1.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="A4.T5.2.2.1.1.1.1.m1.1d">_</annotation></semantics></math>booking<math alttext="\_" class="ltx_Math" display="inline" id="A4.T5.3.3.2.2.2.2.m2.1"><semantics id="A4.T5.3.3.2.2.2.2.m2.1a"><mi id="A4.T5.3.3.2.2.2.2.m2.1.1" mathvariant="normal" xref="A4.T5.3.3.2.2.2.2.m2.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="A4.T5.3.3.2.2.2.2.m2.1b"><ci id="A4.T5.3.3.2.2.2.2.m2.1.1.cmml" xref="A4.T5.3.3.2.2.2.2.m2.1.1">_</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.3.3.2.2.2.2.m2.1c">\_</annotation><annotation encoding="application/x-llamapun" id="A4.T5.3.3.2.2.2.2.m2.1d">_</annotation></semantics></math>type(”<span class="ltx_text" id="A4.T5.3.3.2.2.2.2.1" style="color:#0000FF;">trip tickets</span>”)</td>
</tr>
<tr class="ltx_tr" id="A4.T5.4.4.3.3.3">
<td class="ltx_td ltx_align_left" id="A4.T5.4.4.3.3.3.1" style="padding:-0.6pt 3.0pt;">API.select_transportation(”<span class="ltx_text" id="A4.T5.4.4.3.3.3.1.1" style="color:#0000FF;">train</span>”)<math alttext="\cdots" class="ltx_Math" display="inline" id="A4.T5.4.4.3.3.3.1.m1.1"><semantics id="A4.T5.4.4.3.3.3.1.m1.1a"><mi id="A4.T5.4.4.3.3.3.1.m1.1.1" mathvariant="normal" xref="A4.T5.4.4.3.3.3.1.m1.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.T5.4.4.3.3.3.1.m1.1b"><ci id="A4.T5.4.4.3.3.3.1.m1.1.1.cmml" xref="A4.T5.4.4.3.3.3.1.m1.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.4.4.3.3.3.1.m1.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.T5.4.4.3.3.3.1.m1.1d">⋯</annotation></semantics></math>
</td>
</tr>
</table></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A4.T5.4.4.6" style="padding:-0.6pt 3.0pt;">20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T5.4.4.7" style="padding:-0.6pt 3.0pt;">120</td>
</tr>
<tr class="ltx_tr" id="A4.T5.5.5">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A4.T5.5.5.2" style="padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.5.5.2.1">
<tr class="ltx_tr" id="A4.T5.5.5.2.1.1">
<td class="ltx_td ltx_align_left" id="A4.T5.5.5.2.1.1.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.5.5.2.1.1.1.1">Google</span></td>
</tr>
<tr class="ltx_tr" id="A4.T5.5.5.2.1.2">
<td class="ltx_td ltx_align_left" id="A4.T5.5.5.2.1.2.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.5.5.2.1.2.1.1">Sheets</span></td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A4.T5.5.5.3" style="width:173.4pt;padding:-0.6pt 3.0pt;">
<p class="ltx_p ltx_align_top" id="A4.T5.5.5.3.1">Update <span class="ltx_text" id="A4.T5.5.5.3.1.1" style="color:#0000FF;">chicken</span>’s <span class="ltx_text" id="A4.T5.5.5.3.1.2" style="color:#0000FF;">price</span> by <span class="ltx_text" id="A4.T5.5.5.3.1.3" style="color:#0000FF;">2</span>. [A table is flattened in the context.]</p>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A4.T5.5.5.1" style="width:130.1pt;padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.5.5.1.1">
<tr class="ltx_tr" id="A4.T5.5.5.1.1.2">
<td class="ltx_td ltx_align_left" id="A4.T5.5.5.1.1.2.1" style="padding:-0.6pt 3.0pt;">df = get_as_dataframe(worksheet)</td>
</tr>
<tr class="ltx_tr" id="A4.T5.5.5.1.1.1">
<td class="ltx_td ltx_align_left" id="A4.T5.5.5.1.1.1.1" style="padding:-0.6pt 3.0pt;">df.loc[df[’Product’] == ’<span class="ltx_text" id="A4.T5.5.5.1.1.1.1.2" style="color:#0000FF;">chicken</span>’, ’<span class="ltx_text" id="A4.T5.5.5.1.1.1.1.3" style="color:#0000FF;">Price</span>’] += <span class="ltx_text" id="A4.T5.5.5.1.1.1.1.1" style="color:#0000FF;">2<math alttext="\cdots" class="ltx_Math" display="inline" id="A4.T5.5.5.1.1.1.1.1.m1.1"><semantics id="A4.T5.5.5.1.1.1.1.1.m1.1a"><mi id="A4.T5.5.5.1.1.1.1.1.m1.1.1" mathcolor="black" mathvariant="normal" xref="A4.T5.5.5.1.1.1.1.1.m1.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.T5.5.5.1.1.1.1.1.m1.1b"><ci id="A4.T5.5.5.1.1.1.1.1.m1.1.1.cmml" xref="A4.T5.5.5.1.1.1.1.1.m1.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.5.5.1.1.1.1.1.m1.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.T5.5.5.1.1.1.1.1.m1.1d">⋯</annotation></semantics></math></span>
</td>
</tr>
</table></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A4.T5.5.5.4" style="padding:-0.6pt 3.0pt;">108</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T5.5.5.5" style="padding:-0.6pt 3.0pt;">70</td>
</tr>
<tr class="ltx_tr" id="A4.T5.6.6">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="A4.T5.6.6.2" style="padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.6.6.2.1">
<tr class="ltx_tr" id="A4.T5.6.6.2.1.1">
<td class="ltx_td ltx_align_left" id="A4.T5.6.6.2.1.1.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.6.6.2.1.1.1.1">Virtual</span></td>
</tr>
<tr class="ltx_tr" id="A4.T5.6.6.2.1.2">
<td class="ltx_td ltx_align_left" id="A4.T5.6.6.2.1.2.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.6.6.2.1.2.1.1">Home</span></td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A4.T5.6.6.3" style="width:173.4pt;padding:-0.6pt 3.0pt;">
<p class="ltx_p ltx_align_top" id="A4.T5.6.6.3.1">Read <span class="ltx_text" id="A4.T5.6.6.3.1.1" style="color:#0000FF;">book</span></p>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A4.T5.6.6.1" style="width:130.1pt;padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.6.6.1.1">
<tr class="ltx_tr" id="A4.T5.6.6.1.1.2">
<td class="ltx_td ltx_align_left" id="A4.T5.6.6.1.1.2.1" style="padding:-0.6pt 3.0pt;">Agent.Find(<span class="ltx_text" id="A4.T5.6.6.1.1.2.1.1" style="color:#0000FF;">novel</span>)</td>
</tr>
<tr class="ltx_tr" id="A4.T5.6.6.1.1.1">
<td class="ltx_td ltx_align_left" id="A4.T5.6.6.1.1.1.1" style="padding:-0.6pt 3.0pt;">Agent.TurnTo(<span class="ltx_text" id="A4.T5.6.6.1.1.1.1.1" style="color:#0000FF;">novel</span>)<math alttext="\cdots" class="ltx_Math" display="inline" id="A4.T5.6.6.1.1.1.1.m1.1"><semantics id="A4.T5.6.6.1.1.1.1.m1.1a"><mi id="A4.T5.6.6.1.1.1.1.m1.1.1" mathvariant="normal" xref="A4.T5.6.6.1.1.1.1.m1.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.T5.6.6.1.1.1.1.m1.1b"><ci id="A4.T5.6.6.1.1.1.1.m1.1.1.cmml" xref="A4.T5.6.6.1.1.1.1.m1.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.6.6.1.1.1.1.m1.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.T5.6.6.1.1.1.1.m1.1d">⋯</annotation></semantics></math>
</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A4.T5.6.6.4" style="padding:-0.6pt 3.0pt;">40</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A4.T5.6.6.5" style="padding:-0.6pt 3.0pt;">100</td>
</tr>
<tr class="ltx_tr" id="A4.T5.7.7">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="A4.T5.7.7.2" style="padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.7.7.2.1">
<tr class="ltx_tr" id="A4.T5.7.7.2.1.1">
<td class="ltx_td ltx_align_left" id="A4.T5.7.7.2.1.1.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.7.7.2.1.1.1.1">GSM8K</span></td>
</tr>
<tr class="ltx_tr" id="A4.T5.7.7.2.1.2">
<td class="ltx_td ltx_align_left" id="A4.T5.7.7.2.1.2.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text ltx_font_bold" id="A4.T5.7.7.2.1.2.1.1">(ToolQA)</span></td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_bb ltx_border_r ltx_border_t" id="A4.T5.7.7.3" style="width:173.4pt;padding:-0.6pt 3.0pt;">
<p class="ltx_p ltx_align_top" id="A4.T5.7.7.3.1">Elsa has 5 apples. <span class="ltx_text" id="A4.T5.7.7.3.1.1" style="color:#0000FF;">Anna has 2 more apples than Elsa.</span> How many apples do they have together?</p>
</td>
<td class="ltx_td ltx_align_justify ltx_border_bb ltx_border_r ltx_border_t" id="A4.T5.7.7.1" style="width:130.1pt;padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.7.7.1.1">
<tr class="ltx_tr" id="A4.T5.7.7.1.1.2">
<td class="ltx_td ltx_align_left" id="A4.T5.7.7.1.1.2.1" style="padding:-0.6pt 3.0pt;"><span class="ltx_text" id="A4.T5.7.7.1.1.2.1.1" style="color:#0000FF;">1. Anna has 2 more apples than Elsa.</span></td>
</tr>
<tr class="ltx_tr" id="A4.T5.7.7.1.1.1">
<td class="ltx_td ltx_align_left" id="A4.T5.7.7.1.1.1.1" style="padding:-0.6pt 3.0pt;">2. So Anna has 2 + 5 = 7 apples.<math alttext="\cdots" class="ltx_Math" display="inline" id="A4.T5.7.7.1.1.1.1.m1.1"><semantics id="A4.T5.7.7.1.1.1.1.m1.1a"><mi id="A4.T5.7.7.1.1.1.1.m1.1.1" mathvariant="normal" xref="A4.T5.7.7.1.1.1.1.m1.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="A4.T5.7.7.1.1.1.1.m1.1b"><ci id="A4.T5.7.7.1.1.1.1.m1.1.1.cmml" xref="A4.T5.7.7.1.1.1.1.m1.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T5.7.7.1.1.1.1.m1.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="A4.T5.7.7.1.1.1.1.m1.1d">⋯</annotation></semantics></math>
</td>
</tr>
</table></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="A4.T5.7.7.4" style="padding:-0.6pt 3.0pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="A4.T5.7.7.5" style="padding:-0.6pt 3.0pt;">
<table class="ltx_tabular ltx_align_top" id="A4.T5.7.7.5.1">
<tr class="ltx_tr" id="A4.T5.7.7.5.1.1">
<td class="ltx_td ltx_align_left" id="A4.T5.7.7.5.1.1.1" style="padding:-0.6pt 3.0pt;">1319</td>
</tr>
<tr class="ltx_tr" id="A4.T5.7.7.5.1.2">
<td class="ltx_td ltx_align_left" id="A4.T5.7.7.5.1.2.1" style="padding:-0.6pt 3.0pt;">(100)</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para ltx_noindent" id="A4.SS1.p2">
<p class="ltx_p" id="A4.SS1.p2.3"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS1.p2.1.m1.1"><semantics id="A4.SS1.p2.1.m1.1a"><mo id="A4.SS1.p2.1.m1.1.1" xref="A4.SS1.p2.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS1.p2.1.m1.1b"><ci id="A4.SS1.p2.1.m1.1.1.cmml" xref="A4.SS1.p2.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p2.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p2.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS1.p2.3.2">Home Search</span> simulates the process of locating homes in a specific area based on certain criteria. Agents are required to leverage <math alttext="15" class="ltx_Math" display="inline" id="A4.SS1.p2.2.m2.1"><semantics id="A4.SS1.p2.2.m2.1a"><mn id="A4.SS1.p2.2.m2.1.1" xref="A4.SS1.p2.2.m2.1.1.cmml">15</mn><annotation-xml encoding="MathML-Content" id="A4.SS1.p2.2.m2.1b"><cn id="A4.SS1.p2.2.m2.1.1.cmml" type="integer" xref="A4.SS1.p2.2.m2.1.1">15</cn></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p2.2.m2.1c">15</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p2.2.m2.1d">15</annotation></semantics></math> functions (<em class="ltx_emph ltx_font_italic" id="A4.SS1.p2.3.3">e.g.</em>, <span class="ltx_text ltx_font_typewriter" id="A4.SS1.p2.3.1">set<math alttext="\_" class="ltx_Math" display="inline" id="A4.SS1.p2.3.1.m1.1"><semantics id="A4.SS1.p2.3.1.m1.1a"><mi id="A4.SS1.p2.3.1.m1.1.1" mathvariant="normal" xref="A4.SS1.p2.3.1.m1.1.1.cmml">_</mi><annotation-xml encoding="MathML-Content" id="A4.SS1.p2.3.1.m1.1b"><ci id="A4.SS1.p2.3.1.m1.1.1.cmml" xref="A4.SS1.p2.3.1.m1.1.1">normal-_</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p2.3.1.m1.1c">\_</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p2.3.1.m1.1d">_</annotation></semantics></math>location</span>, <span class="ltx_text ltx_font_typewriter" id="A4.SS1.p2.3.4">search</span>, <em class="ltx_emph ltx_font_italic" id="A4.SS1.p2.3.5">etc.</em>), to aid users in completing the search.
</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS1.p3">
<p class="ltx_p" id="A4.SS1.p3.2"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS1.p3.1.m1.1"><semantics id="A4.SS1.p3.1.m1.1a"><mo id="A4.SS1.p3.1.m1.1.1" xref="A4.SS1.p3.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS1.p3.1.m1.1b"><ci id="A4.SS1.p3.1.m1.1.1.cmml" xref="A4.SS1.p3.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p3.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p3.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS1.p3.2.1">Trip Booking</span> is a task that parallels the Home Search but incorporates more advanced dependencies between function calls. This task simulates the process of submitting search requests for transportation tickets, hotel rooms, or a combination of both. Specifically, it is guided by specific searching conditions or parameters like locations, dates, and the number of tickets. The API includes a total of <math alttext="20" class="ltx_Math" display="inline" id="A4.SS1.p3.2.m2.1"><semantics id="A4.SS1.p3.2.m2.1a"><mn id="A4.SS1.p3.2.m2.1.1" xref="A4.SS1.p3.2.m2.1.1.cmml">20</mn><annotation-xml encoding="MathML-Content" id="A4.SS1.p3.2.m2.1b"><cn id="A4.SS1.p3.2.m2.1.1.cmml" type="integer" xref="A4.SS1.p3.2.m2.1.1">20</cn></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p3.2.m2.1c">20</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p3.2.m2.1d">20</annotation></semantics></math> functions related to trip booking scenarios.</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS1.p4">
<p class="ltx_p" id="A4.SS1.p4.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS1.p4.1.m1.1"><semantics id="A4.SS1.p4.1.m1.1a"><mo id="A4.SS1.p4.1.m1.1.1" xref="A4.SS1.p4.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS1.p4.1.m1.1b"><ci id="A4.SS1.p4.1.m1.1.1.cmml" xref="A4.SS1.p4.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p4.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p4.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS1.p4.1.1">Google Sheets</span> involves manipulating actual worksheets from Google Sheets <span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.google.com/sheets/about/" title="">https://www.google.com/sheets/about/</a></span></span></span> via the gspread library <span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://docs.gspread.org/en/latest/" title="">https://docs.gspread.org/en/latest/</a></span></span></span>, including common operations such as updating cell values, sorting, <em class="ltx_emph ltx_font_italic" id="A4.SS1.p4.1.2">etc.</em>.</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS1.p5">
<p class="ltx_p" id="A4.SS1.p5.2"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS1.p5.1.m1.1"><semantics id="A4.SS1.p5.1.m1.1a"><mo id="A4.SS1.p5.1.m1.1.1" xref="A4.SS1.p5.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS1.p5.1.m1.1b"><ci id="A4.SS1.p5.1.m1.1.1.cmml" xref="A4.SS1.p5.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p5.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p5.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS1.p5.2.1">Virtual Home</span> derives from the setting of the VirtualHome simulator  <cite class="ltx_cite ltx_citemacro_citep">(Puig et al., <a class="ltx_ref" href="#bib.bib32" title="">2018</a>)</cite>. It requires the LLM agents to generate sequences of actions with multiple function calls for completing household activities. It consists of <math alttext="40" class="ltx_Math" display="inline" id="A4.SS1.p5.2.m2.1"><semantics id="A4.SS1.p5.2.m2.1a"><mn id="A4.SS1.p5.2.m2.1.1" xref="A4.SS1.p5.2.m2.1.1.cmml">40</mn><annotation-xml encoding="MathML-Content" id="A4.SS1.p5.2.m2.1b"><cn id="A4.SS1.p5.2.m2.1.1.cmml" type="integer" xref="A4.SS1.p5.2.m2.1.1">40</cn></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p5.2.m2.1c">40</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p5.2.m2.1d">40</annotation></semantics></math> functions (<em class="ltx_emph ltx_font_italic" id="A4.SS1.p5.2.2">e.g.</em>, <span class="ltx_text ltx_font_typewriter" id="A4.SS1.p5.2.3">Sleep()</span>, <span class="ltx_text ltx_font_typewriter" id="A4.SS1.p5.2.4">Push(object)</span>, and <span class="ltx_text ltx_font_typewriter" id="A4.SS1.p5.2.5">PourInto(object1, object2)</span>), each corresponding to a specific action exemplified in the simulator. Every function can take up to two arguments, representing valid objects within the household settings.</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS1.p6">
<p class="ltx_p" id="A4.SS1.p6.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS1.p6.1.m1.1"><semantics id="A4.SS1.p6.1.m1.1a"><mo id="A4.SS1.p6.1.m1.1.1" xref="A4.SS1.p6.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS1.p6.1.m1.1b"><ci id="A4.SS1.p6.1.m1.1.1.cmml" xref="A4.SS1.p6.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS1.p6.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS1.p6.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS1.p6.1.1">GSM8K</span> <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et al., <a class="ltx_ref" href="#bib.bib5" title="">2021</a>)</cite> is a dataset of high-quality linguistically diverse grade school math word problems. To evaluate the model performance on the GSM8K dataset, we evaluate the accuracy at which models are able to obtain the final correct answer. In addition, we also report model performance on a subset of hard questions in GSM8K, curated by <span class="ltx_text ltx_font_bold" id="A4.SS1.p6.1.2">ToolQA</span> <cite class="ltx_cite ltx_citemacro_citep">(Zhuang et al., <a class="ltx_ref" href="#bib.bib61" title="">2023</a>)</cite>. The hard questions are sampled from the error cases made by ChatGPT on the original GSM8K dataset.</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.2 </span>Baseline Details</h3>
<div class="ltx_para ltx_noindent" id="A4.SS2.p1">
<p class="ltx_p" id="A4.SS2.p1.2">For tool-use tasks in ToolBench, we compare ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS2.p1.1.m1.1"><semantics id="A4.SS2.p1.1.m1.1a"><msup id="A4.SS2.p1.1.m1.1.1" xref="A4.SS2.p1.1.m1.1.1.cmml"><mi id="A4.SS2.p1.1.m1.1.1a" xref="A4.SS2.p1.1.m1.1.1.cmml"></mi><mo id="A4.SS2.p1.1.m1.1.1.1" xref="A4.SS2.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS2.p1.1.m1.1b"><apply id="A4.SS2.p1.1.m1.1.1.cmml" xref="A4.SS2.p1.1.m1.1.1"><times id="A4.SS2.p1.1.m1.1.1.1.cmml" xref="A4.SS2.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> with GPT <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="#bib.bib28" title="">2023</a>)</cite>, ReAct <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>)</cite>, AdaPlanner <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a class="ltx_ref" href="#bib.bib41" title="">2023</a>)</cite>, Tree-of-Thoughts <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite>, and MCTS <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite>.
For math reasoning tasks in GSM8K, we compare ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS2.p1.2.m2.1"><semantics id="A4.SS2.p1.2.m2.1a"><msup id="A4.SS2.p1.2.m2.1.1" xref="A4.SS2.p1.2.m2.1.1.cmml"><mi id="A4.SS2.p1.2.m2.1.1a" xref="A4.SS2.p1.2.m2.1.1.cmml"></mi><mo id="A4.SS2.p1.2.m2.1.1.1" xref="A4.SS2.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS2.p1.2.m2.1b"><apply id="A4.SS2.p1.2.m2.1.1.cmml" xref="A4.SS2.p1.2.m2.1.1"><times id="A4.SS2.p1.2.m2.1.1.1.cmml" xref="A4.SS2.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> with the state-of-the-art reasoning approaches, including GPT <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="#bib.bib28" title="">2023</a>)</cite>, Chain-of-Thought <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="#bib.bib46" title="">2022</a>)</cite>, Self-Consistency <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="#bib.bib44" title="">2022b</a>)</cite>, ReAct <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>)</cite>, Tree-of-Thoughts <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite>, and MCTS <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS2.p2">
<p class="ltx_p" id="A4.SS2.p2.1">We provide details of each baseline as follows:</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS2.p3">
<p class="ltx_p" id="A4.SS2.p3.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS2.p3.1.m1.1"><semantics id="A4.SS2.p3.1.m1.1a"><mo id="A4.SS2.p3.1.m1.1.1" xref="A4.SS2.p3.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS2.p3.1.m1.1b"><ci id="A4.SS2.p3.1.m1.1.1.cmml" xref="A4.SS2.p3.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p3.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.p3.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS2.p3.1.1">GPT</span> <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="#bib.bib28" title="">2023</a>)</cite> is a standard input-output prompt with four in-context examples. We directly send the four-shot examples with the task description together to GPT-3.5-turbo and GPT-4. GPT series serve as open-loop systems with closed-source LLMs as backbones.</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS2.p4">
<p class="ltx_p" id="A4.SS2.p4.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS2.p4.1.m1.1"><semantics id="A4.SS2.p4.1.m1.1a"><mo id="A4.SS2.p4.1.m1.1.1" xref="A4.SS2.p4.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS2.p4.1.m1.1b"><ci id="A4.SS2.p4.1.m1.1.1.cmml" xref="A4.SS2.p4.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p4.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.p4.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS2.p4.1.1">Chain-of-Thought</span> <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="#bib.bib46" title="">2022</a>)</cite> prompting is an open-loop mechanism to enhance reasoning in language models. Chain-of-thought prompting breaks down multi-step problems, allocating additional computational resources for extensive reasoning stages step by step.</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS2.p5">
<p class="ltx_p" id="A4.SS2.p5.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS2.p5.1.m1.1"><semantics id="A4.SS2.p5.1.m1.1a"><mo id="A4.SS2.p5.1.m1.1.1" xref="A4.SS2.p5.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS2.p5.1.m1.1b"><ci id="A4.SS2.p5.1.m1.1.1.cmml" xref="A4.SS2.p5.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p5.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.p5.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS2.p5.1.1">Self-Consistency</span> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="#bib.bib44" title="">2022b</a>)</cite> is an open-loop decoding strategy to replace the conventional greedy decoding typically employed in chain-of-thought prompting. It initially samples an array of diverse reasoning paths rather than solely relying on the most probable one. Subsequently, by marginalizing over these sampled reasoning trajectories, it pinpoints the most coherent answer.</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS2.p6">
<p class="ltx_p" id="A4.SS2.p6.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS2.p6.1.m1.1"><semantics id="A4.SS2.p6.1.m1.1a"><mo id="A4.SS2.p6.1.m1.1.1" xref="A4.SS2.p6.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS2.p6.1.m1.1b"><ci id="A4.SS2.p6.1.m1.1.1.cmml" xref="A4.SS2.p6.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p6.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.p6.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS2.p6.1.1">ReAct</span> <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib55" title="">2023b</a>)</cite> integrates reasoning with tool use by prompting LLMs to generate interleaved verbal reasoning traces and tool calls. ReAct is a closed-loop system for LLM-based agents in tool usage.</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS2.p7">
<p class="ltx_p" id="A4.SS2.p7.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS2.p7.1.m1.1"><semantics id="A4.SS2.p7.1.m1.1a"><mo id="A4.SS2.p7.1.m1.1.1" xref="A4.SS2.p7.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS2.p7.1.m1.1b"><ci id="A4.SS2.p7.1.m1.1.1.cmml" xref="A4.SS2.p7.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p7.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.p7.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS2.p7.1.1">AdaPlanner</span> <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a class="ltx_ref" href="#bib.bib41" title="">2023</a>)</cite> is a closed-loop system that enables the LLM agent to adaptively refine its self-conceived plan based on feedback from the environment. This refinement process leverages both in-plan and out-of-plan strategies.</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS2.p8">
<p class="ltx_p" id="A4.SS2.p8.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS2.p8.1.m1.1"><semantics id="A4.SS2.p8.1.m1.1a"><mo id="A4.SS2.p8.1.m1.1.1" xref="A4.SS2.p8.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS2.p8.1.m1.1b"><ci id="A4.SS2.p8.1.m1.1.1.cmml" xref="A4.SS2.p8.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p8.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.p8.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS2.p8.1.1">Tree-of-Thoughts</span> <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite> is a tree search-based LLM reasoning framework that built upon chain-of-thought prompting. It facilitates exploration across cohesive textual segments, which act as intermediary steps in the problem-solving process. Unlike linear reasoning pathways in open- or closed-loop systems, ToT enables language models to engage in decision-making by examining various reasoning trajectories. With the ability to self-assess choices for the subsequent steps, ToT provides the flexibility to anticipate future steps or revisit previous ones to make holistic decisions.</p>
</div>
<div class="ltx_para ltx_noindent" id="A4.SS2.p9">
<p class="ltx_p" id="A4.SS2.p9.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="A4.SS2.p9.1.m1.1"><semantics id="A4.SS2.p9.1.m1.1a"><mo id="A4.SS2.p9.1.m1.1.1" xref="A4.SS2.p9.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="A4.SS2.p9.1.m1.1b"><ci id="A4.SS2.p9.1.m1.1.1.cmml" xref="A4.SS2.p9.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.SS2.p9.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="A4.SS2.p9.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="A4.SS2.p9.1.1">MCTS</span> <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite> is a tree search-based LLM reasoning framework, repurposing LLM and functioning both as a world model and a reasoning agent. It integrates a principled planning algorithm, specifically based on MCTS, facilitating strategic exploration in the expansive reasoning space. LLM-based agent systematically constructs a reasoning tree, guided by its inherent world model and task-specific rewards.</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.3 </span>Additional Analysis on ToolBench</h3>
<div class="ltx_para ltx_noindent" id="A4.SS3.p1">
<p class="ltx_p" id="A4.SS3.p1.1">We observe that closed-loop methods typically perform better than tree search-based methods on the Home Search and Trip Booking datasets.
Conversely, for the Google Sheets and Virtual Home datasets, tree search-based methods perform better.
This discrepancy can be attributed to the nature of feedback provided by the datasets.
For instance, the Home Search and Trip Booking datasets offer precise environmental feedback regarding plan errors (<em class="ltx_emph ltx_font_italic" id="A4.SS3.p1.1.1">e.g.</em>, “<span class="ltx_text ltx_font_italic" id="A4.SS3.p1.1.2">Task execution error: ’HomeSearchAPI’ object has no attribute ’set_min_baths’</span>”), enabling closed-loop systems to effectively modify their plans.
In contrast, the Google Sheets and Virtual Home datasets, with their extensive API function calls (108 and 40, respectively), present a notably larger action space than Home Search and Trip Booking (15 and 20, respectively).</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.4 </span>Case Studies</h3>
<figure class="ltx_figure" id="A4.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="700" id="A4.F7.g1" src="x9.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Case study comparing Chain-of-Thought and ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.F7.4.m1.1"><semantics id="A4.F7.4.m1.1b"><msup id="A4.F7.4.m1.1.1" xref="A4.F7.4.m1.1.1.cmml"><mi id="A4.F7.4.m1.1.1b" xref="A4.F7.4.m1.1.1.cmml"></mi><mo id="A4.F7.4.m1.1.1.1" xref="A4.F7.4.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.F7.4.m1.1c"><apply id="A4.F7.4.m1.1.1.cmml" xref="A4.F7.4.m1.1.1"><times id="A4.F7.4.m1.1.1.1.cmml" xref="A4.F7.4.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F7.4.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.F7.4.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> on GSM8K dataset. We offer comparison in exploration space (upper part) and planning ordering (lower part). Given the input query, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.F7.5.m2.1"><semantics id="A4.F7.5.m2.1b"><msup id="A4.F7.5.m2.1.1" xref="A4.F7.5.m2.1.1.cmml"><mi id="A4.F7.5.m2.1.1b" xref="A4.F7.5.m2.1.1.cmml"></mi><mo id="A4.F7.5.m2.1.1.1" xref="A4.F7.5.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.F7.5.m2.1c"><apply id="A4.F7.5.m2.1.1.cmml" xref="A4.F7.5.m2.1.1"><times id="A4.F7.5.m2.1.1.1.cmml" xref="A4.F7.5.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F7.5.m2.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.F7.5.m2.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> explores a wide range of potential nodes (blue shadowed area) in the decision tree, while Chain-of-Thought only explores one direction (red shadowed area). During the planning process, a chain of thought can fall into a faulty loop or a dead end with a previous incorrect action. However, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.F7.6.m3.1"><semantics id="A4.F7.6.m3.1b"><msup id="A4.F7.6.m3.1.1" xref="A4.F7.6.m3.1.1.cmml"><mi id="A4.F7.6.m3.1.1b" xref="A4.F7.6.m3.1.1.cmml"></mi><mo id="A4.F7.6.m3.1.1.1" xref="A4.F7.6.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.F7.6.m3.1c"><apply id="A4.F7.6.m3.1.1.cmml" xref="A4.F7.6.m3.1.1"><times id="A4.F7.6.m3.1.1.1.cmml" xref="A4.F7.6.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F7.6.m3.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.F7.6.m3.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> can gradually abandon the faulty path by increasing the cost after the incorrect action. This enables it to revise previous actions and jump out of the faulty path to try another plan.</figcaption>
</figure>
<figure class="ltx_figure" id="A4.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="424" id="A4.F8.g1" src="x10.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Case study comparison between Chain-of-Thought and ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.F8.3.m1.1"><semantics id="A4.F8.3.m1.1b"><msup id="A4.F8.3.m1.1.1" xref="A4.F8.3.m1.1.1.cmml"><mi id="A4.F8.3.m1.1.1b" xref="A4.F8.3.m1.1.1.cmml"></mi><mo id="A4.F8.3.m1.1.1.1" xref="A4.F8.3.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.F8.3.m1.1c"><apply id="A4.F8.3.m1.1.1.cmml" xref="A4.F8.3.m1.1.1"><times id="A4.F8.3.m1.1.1.1.cmml" xref="A4.F8.3.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.3.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.F8.3.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> on the GSM8K dataset. The exploration space is illustrated in the upper section, and the planning order is depicted in the lower section. For a given input query, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.F8.4.m2.1"><semantics id="A4.F8.4.m2.1b"><msup id="A4.F8.4.m2.1.1" xref="A4.F8.4.m2.1.1.cmml"><mi id="A4.F8.4.m2.1.1b" xref="A4.F8.4.m2.1.1.cmml"></mi><mo id="A4.F8.4.m2.1.1.1" xref="A4.F8.4.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.F8.4.m2.1c"><apply id="A4.F8.4.m2.1.1.cmml" xref="A4.F8.4.m2.1.1"><times id="A4.F8.4.m2.1.1.1.cmml" xref="A4.F8.4.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F8.4.m2.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.F8.4.m2.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> explores an expansive set of potential nodes (blue) with correct answers, whereas Chain-of-Thought primarily navigates in a singular direction (red). </figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="A4.SS4.p1">
<p class="ltx_p" id="A4.SS4.p1.3">We include additional case studies with visualizations comparing the Chain-of-Thought and ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS4.p1.1.m1.1"><semantics id="A4.SS4.p1.1.m1.1a"><msup id="A4.SS4.p1.1.m1.1.1" xref="A4.SS4.p1.1.m1.1.1.cmml"><mi id="A4.SS4.p1.1.m1.1.1a" xref="A4.SS4.p1.1.m1.1.1.cmml"></mi><mo id="A4.SS4.p1.1.m1.1.1.1" xref="A4.SS4.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS4.p1.1.m1.1b"><apply id="A4.SS4.p1.1.m1.1.1.cmml" xref="A4.SS4.p1.1.m1.1.1"><times id="A4.SS4.p1.1.m1.1.1.1.cmml" xref="A4.SS4.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS4.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS4.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> on the GSM8K dataset. As shown in Figures <a class="ltx_ref" href="#A4.F7" title="Figure 7 ‣ D.4 Case Studies ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">7</span></a> and <a class="ltx_ref" href="#A4.F8" title="Figure 8 ‣ D.4 Case Studies ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">8</span></a>, we compare the exploration space (upper part) and planning ordering (lower part) of both methods on the same problem. Given the input query, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS4.p1.2.m2.1"><semantics id="A4.SS4.p1.2.m2.1a"><msup id="A4.SS4.p1.2.m2.1.1" xref="A4.SS4.p1.2.m2.1.1.cmml"><mi id="A4.SS4.p1.2.m2.1.1a" xref="A4.SS4.p1.2.m2.1.1.cmml"></mi><mo id="A4.SS4.p1.2.m2.1.1.1" xref="A4.SS4.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS4.p1.2.m2.1b"><apply id="A4.SS4.p1.2.m2.1.1.cmml" xref="A4.SS4.p1.2.m2.1.1"><times id="A4.SS4.p1.2.m2.1.1.1.cmml" xref="A4.SS4.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS4.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS4.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> explores a wide range of potential nodes (blue) in the decision tree, while Chain-of-Thought only explores one direction (red). Moreover, from a step-by-step visualization of the planning process in Figure <a class="ltx_ref" href="#A4.F7" title="Figure 7 ‣ D.4 Case Studies ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">7</span></a>, we notice that chain-of-thought falls into a faulty loop or a dead end with a previous incorrect action. However, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS4.p1.3.m3.1"><semantics id="A4.SS4.p1.3.m3.1a"><msup id="A4.SS4.p1.3.m3.1.1" xref="A4.SS4.p1.3.m3.1.1.cmml"><mi id="A4.SS4.p1.3.m3.1.1a" xref="A4.SS4.p1.3.m3.1.1.cmml"></mi><mo id="A4.SS4.p1.3.m3.1.1.1" xref="A4.SS4.p1.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS4.p1.3.m3.1b"><apply id="A4.SS4.p1.3.m3.1.1.cmml" xref="A4.SS4.p1.3.m3.1.1"><times id="A4.SS4.p1.3.m3.1.1.1.cmml" xref="A4.SS4.p1.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS4.p1.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS4.p1.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> can gradually discard the faulty path by increasing the cost after the incorrect action. This allows our method to re-evaluate and adjust prior actions, facilitating a shift away from erroneous paths to explore alternative plans. More importantly, it mitigates the error propagation along the action plan, which usually occurs in linear or unidirectional solutions (<span class="ltx_text ltx_font_italic" id="A4.SS4.p1.3.1">i.e.</span>, open- and closed-loop systems).</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.5 </span>Efficiency Details</h3>
<figure class="ltx_figure" id="A4.F9">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_flex_size_2 ltx_align_center" id="A4.F9.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="185" id="A4.F9.sf1.g1" src="x11.png" width="374"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>ToolBench</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_flex_size_2 ltx_align_center" id="A4.F9.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="185" id="A4.F9.sf2.g1" src="x12.png" width="374"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>GSM8K</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Additional time efficiency evaluation on ToolBench and GSM8K. (a) We report additional average running time in seconds over all instances in the dataset using GPT-4 backbone. (b) We calculate the average number of valid actions in GSM8K for math reasoning efficiency analysis. In both cases, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.F9.2.m1.1"><semantics id="A4.F9.2.m1.1b"><msup id="A4.F9.2.m1.1.1" xref="A4.F9.2.m1.1.1.cmml"><mi id="A4.F9.2.m1.1.1b" xref="A4.F9.2.m1.1.1.cmml"></mi><mo id="A4.F9.2.m1.1.1.1" xref="A4.F9.2.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.F9.2.m1.1c"><apply id="A4.F9.2.m1.1.1.cmml" xref="A4.F9.2.m1.1.1"><times id="A4.F9.2.m1.1.1.1.cmml" xref="A4.F9.2.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F9.2.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.F9.2.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> shows close efficiency to closed-loop systems without a tree structure and outperforms other tree-search algorithms in terms of efficiency.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="A4.SS5.p1">
<p class="ltx_p" id="A4.SS5.p1.3">In terms of additional efficiency analysis in tool use, we evaluate the running time of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS5.p1.1.m1.1"><semantics id="A4.SS5.p1.1.m1.1a"><msup id="A4.SS5.p1.1.m1.1.1" xref="A4.SS5.p1.1.m1.1.1.cmml"><mi id="A4.SS5.p1.1.m1.1.1a" xref="A4.SS5.p1.1.m1.1.1.cmml"></mi><mo id="A4.SS5.p1.1.m1.1.1.1" xref="A4.SS5.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS5.p1.1.m1.1b"><apply id="A4.SS5.p1.1.m1.1.1.cmml" xref="A4.SS5.p1.1.m1.1.1"><times id="A4.SS5.p1.1.m1.1.1.1.cmml" xref="A4.SS5.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS5.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS5.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> against all the baselines based on GPT-4, as shown in Figure <a class="ltx_ref" href="#A4.F9.sf1" title="9(a) ‣ Figure 9 ‣ D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">9(a)</span></a>.
Consistent with our previous results, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS5.p1.2.m2.1"><semantics id="A4.SS5.p1.2.m2.1a"><msup id="A4.SS5.p1.2.m2.1.1" xref="A4.SS5.p1.2.m2.1.1.cmml"><mi id="A4.SS5.p1.2.m2.1.1a" xref="A4.SS5.p1.2.m2.1.1.cmml"></mi><mo id="A4.SS5.p1.2.m2.1.1.1" xref="A4.SS5.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS5.p1.2.m2.1b"><apply id="A4.SS5.p1.2.m2.1.1.cmml" xref="A4.SS5.p1.2.m2.1.1"><times id="A4.SS5.p1.2.m2.1.1.1.cmml" xref="A4.SS5.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS5.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS5.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> is faster than the most efficient tree search-based method, Tree-of-Thoughts (BFS).
For the math reasoning task, we conduct efficiency analysis with a number of valid actions in Figure <a class="ltx_ref" href="#A4.F9.sf2" title="9(b) ‣ Figure 9 ‣ D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">9(b)</span></a>. We calculate the average number of valid actions in GSM8K for math reasoning efficiency analysis. Similarly, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS5.p1.3.m3.1"><semantics id="A4.SS5.p1.3.m3.1a"><msup id="A4.SS5.p1.3.m3.1.1" xref="A4.SS5.p1.3.m3.1.1.cmml"><mi id="A4.SS5.p1.3.m3.1.1a" xref="A4.SS5.p1.3.m3.1.1.cmml"></mi><mo id="A4.SS5.p1.3.m3.1.1.1" xref="A4.SS5.p1.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS5.p1.3.m3.1b"><apply id="A4.SS5.p1.3.m3.1.1.cmml" xref="A4.SS5.p1.3.m3.1.1"><times id="A4.SS5.p1.3.m3.1.1.1.cmml" xref="A4.SS5.p1.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS5.p1.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS5.p1.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> shows close efficiency to closed-loop systems without a tree structure and outperforms other tree-search algorithms in terms of efficiency.</p>
</div>
<figure class="ltx_figure" id="A4.F10">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_flex_size_2 ltx_align_center" id="A4.F10.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="193" id="A4.F10.sf1.g1" src="x13.png" width="249"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Performance</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_flex_size_2 ltx_align_center" id="A4.F10.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="195" id="A4.F10.sf2.g1" src="x14.png" width="257"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Running Time</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>Scaling analysis of ToT-DFS <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite>, ToT-BFS <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite>, MCTS <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite>, and ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.F10.3.m1.1"><semantics id="A4.F10.3.m1.1b"><msup id="A4.F10.3.m1.1.1" xref="A4.F10.3.m1.1.1.cmml"><mi id="A4.F10.3.m1.1.1b" xref="A4.F10.3.m1.1.1.cmml"></mi><mo id="A4.F10.3.m1.1.1.1" xref="A4.F10.3.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.F10.3.m1.1c"><apply id="A4.F10.3.m1.1.1.cmml" xref="A4.F10.3.m1.1.1"><times id="A4.F10.3.m1.1.1.1.cmml" xref="A4.F10.3.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F10.3.m1.1d">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.F10.3.m1.1e">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>. (a) Performance and (b) running time on Home Search when scaling up step limitations <math alttext="T" class="ltx_Math" display="inline" id="A4.F10.4.m2.1"><semantics id="A4.F10.4.m2.1b"><mi id="A4.F10.4.m2.1.1" xref="A4.F10.4.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="A4.F10.4.m2.1c"><ci id="A4.F10.4.m2.1.1.cmml" xref="A4.F10.4.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.F10.4.m2.1d">T</annotation><annotation encoding="application/x-llamapun" id="A4.F10.4.m2.1e">italic_T</annotation></semantics></math>.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="A4.SS5.p2">
<p class="ltx_p" id="A4.SS5.p2.1">From the scaling-up analysis in Figure <a class="ltx_ref" href="#A4.F10" title="Figure 10 ‣ D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">10</span></a>, we can explicitly identify a crucial trade-off between effectiveness and efficiency in the direct application of tree search-based reasoning methods to complex tool use scenarios, including ToT-DFS <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite>, ToT-BFS <cite class="ltx_cite ltx_citemacro_citep">(Yao et al., <a class="ltx_ref" href="#bib.bib54" title="">2023a</a>)</cite>, and MCTS <cite class="ltx_cite ltx_citemacro_citep">(Hao et al., <a class="ltx_ref" href="#bib.bib7" title="">2023a</a>)</cite>. Compared with ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS5.p2.1.m1.1"><semantics id="A4.SS5.p2.1.m1.1a"><msup id="A4.SS5.p2.1.m1.1.1" xref="A4.SS5.p2.1.m1.1.1.cmml"><mi id="A4.SS5.p2.1.m1.1.1a" xref="A4.SS5.p2.1.m1.1.1.cmml"></mi><mo id="A4.SS5.p2.1.m1.1.1.1" xref="A4.SS5.p2.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS5.p2.1.m1.1b"><apply id="A4.SS5.p2.1.m1.1.1.cmml" xref="A4.SS5.p2.1.m1.1.1"><times id="A4.SS5.p2.1.m1.1.1.1.cmml" xref="A4.SS5.p2.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS5.p2.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS5.p2.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>, which quickly converges on with time efficiency and high-quality solution, the rest tree-based search methods not only suffer from relatively low success rate (Figure <a class="ltx_ref" href="#A4.F10.sf1" title="10(a) ‣ Figure 10 ‣ D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">10(a)</span></a>), but also struggle with the long running time (Figure <a class="ltx_ref" href="#A4.F10.sf2" title="10(b) ‣ Figure 10 ‣ D.5 Efficiency Details ‣ Appendix D Experimental Details ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">10(b)</span></a>). This could be further verified by experimental results in Table <a class="ltx_ref" href="#S4.T1" title="Table 1 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">1</span></a> and efficiency metrics in Figure <a class="ltx_ref" href="#S4.F5" title="Figure 5 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="A4.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.6 </span>Ablation Studies Details</h3>
<div class="ltx_para ltx_noindent" id="A4.SS6.p1">
<p class="ltx_p" id="A4.SS6.p1.10">We conduct a detailed analysis of the ablation studies for both the cumulative and future cost functions in the following, as presented in Table <a class="ltx_ref" href="#S4.T2" title="Table 2 ‣ 4.2 Tool Use: ToolBench ‣ 4 Experiments ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">2</span></a>.
First, experimental results indicate that each element within both the cumulative and future cost functions enhances the performance of ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS6.p1.1.m1.1"><semantics id="A4.SS6.p1.1.m1.1a"><msup id="A4.SS6.p1.1.m1.1.1" xref="A4.SS6.p1.1.m1.1.1.cmml"><mi id="A4.SS6.p1.1.m1.1.1a" xref="A4.SS6.p1.1.m1.1.1.cmml"></mi><mo id="A4.SS6.p1.1.m1.1.1.1" xref="A4.SS6.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS6.p1.1.m1.1b"><apply id="A4.SS6.p1.1.m1.1.1.cmml" xref="A4.SS6.p1.1.m1.1.1"><times id="A4.SS6.p1.1.m1.1.1.1.cmml" xref="A4.SS6.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS6.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS6.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>. This verifies the efficacy of our proposed cost functions in guiding the search through the decision tree.
Second, dropping either the heuristic components (<math alttext="g_{1,t}" class="ltx_Math" display="inline" id="A4.SS6.p1.2.m2.2"><semantics id="A4.SS6.p1.2.m2.2a"><msub id="A4.SS6.p1.2.m2.2.3" xref="A4.SS6.p1.2.m2.2.3.cmml"><mi id="A4.SS6.p1.2.m2.2.3.2" xref="A4.SS6.p1.2.m2.2.3.2.cmml">g</mi><mrow id="A4.SS6.p1.2.m2.2.2.2.4" xref="A4.SS6.p1.2.m2.2.2.2.3.cmml"><mn id="A4.SS6.p1.2.m2.1.1.1.1" xref="A4.SS6.p1.2.m2.1.1.1.1.cmml">1</mn><mo id="A4.SS6.p1.2.m2.2.2.2.4.1" xref="A4.SS6.p1.2.m2.2.2.2.3.cmml">,</mo><mi id="A4.SS6.p1.2.m2.2.2.2.2" xref="A4.SS6.p1.2.m2.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A4.SS6.p1.2.m2.2b"><apply id="A4.SS6.p1.2.m2.2.3.cmml" xref="A4.SS6.p1.2.m2.2.3"><csymbol cd="ambiguous" id="A4.SS6.p1.2.m2.2.3.1.cmml" xref="A4.SS6.p1.2.m2.2.3">subscript</csymbol><ci id="A4.SS6.p1.2.m2.2.3.2.cmml" xref="A4.SS6.p1.2.m2.2.3.2">𝑔</ci><list id="A4.SS6.p1.2.m2.2.2.2.3.cmml" xref="A4.SS6.p1.2.m2.2.2.2.4"><cn id="A4.SS6.p1.2.m2.1.1.1.1.cmml" type="integer" xref="A4.SS6.p1.2.m2.1.1.1.1">1</cn><ci id="A4.SS6.p1.2.m2.2.2.2.2.cmml" xref="A4.SS6.p1.2.m2.2.2.2.2">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS6.p1.2.m2.2c">g_{1,t}</annotation><annotation encoding="application/x-llamapun" id="A4.SS6.p1.2.m2.2d">italic_g start_POSTSUBSCRIPT 1 , italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="h_{1,t}" class="ltx_Math" display="inline" id="A4.SS6.p1.3.m3.2"><semantics id="A4.SS6.p1.3.m3.2a"><msub id="A4.SS6.p1.3.m3.2.3" xref="A4.SS6.p1.3.m3.2.3.cmml"><mi id="A4.SS6.p1.3.m3.2.3.2" xref="A4.SS6.p1.3.m3.2.3.2.cmml">h</mi><mrow id="A4.SS6.p1.3.m3.2.2.2.4" xref="A4.SS6.p1.3.m3.2.2.2.3.cmml"><mn id="A4.SS6.p1.3.m3.1.1.1.1" xref="A4.SS6.p1.3.m3.1.1.1.1.cmml">1</mn><mo id="A4.SS6.p1.3.m3.2.2.2.4.1" xref="A4.SS6.p1.3.m3.2.2.2.3.cmml">,</mo><mi id="A4.SS6.p1.3.m3.2.2.2.2" xref="A4.SS6.p1.3.m3.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A4.SS6.p1.3.m3.2b"><apply id="A4.SS6.p1.3.m3.2.3.cmml" xref="A4.SS6.p1.3.m3.2.3"><csymbol cd="ambiguous" id="A4.SS6.p1.3.m3.2.3.1.cmml" xref="A4.SS6.p1.3.m3.2.3">subscript</csymbol><ci id="A4.SS6.p1.3.m3.2.3.2.cmml" xref="A4.SS6.p1.3.m3.2.3.2">ℎ</ci><list id="A4.SS6.p1.3.m3.2.2.2.3.cmml" xref="A4.SS6.p1.3.m3.2.2.2.4"><cn id="A4.SS6.p1.3.m3.1.1.1.1.cmml" type="integer" xref="A4.SS6.p1.3.m3.1.1.1.1">1</cn><ci id="A4.SS6.p1.3.m3.2.2.2.2.cmml" xref="A4.SS6.p1.3.m3.2.2.2.2">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS6.p1.3.m3.2c">h_{1,t}</annotation><annotation encoding="application/x-llamapun" id="A4.SS6.p1.3.m3.2d">italic_h start_POSTSUBSCRIPT 1 , italic_t end_POSTSUBSCRIPT</annotation></semantics></math>) or the non-heuristic (<math alttext="g_{2,t}" class="ltx_Math" display="inline" id="A4.SS6.p1.4.m4.2"><semantics id="A4.SS6.p1.4.m4.2a"><msub id="A4.SS6.p1.4.m4.2.3" xref="A4.SS6.p1.4.m4.2.3.cmml"><mi id="A4.SS6.p1.4.m4.2.3.2" xref="A4.SS6.p1.4.m4.2.3.2.cmml">g</mi><mrow id="A4.SS6.p1.4.m4.2.2.2.4" xref="A4.SS6.p1.4.m4.2.2.2.3.cmml"><mn id="A4.SS6.p1.4.m4.1.1.1.1" xref="A4.SS6.p1.4.m4.1.1.1.1.cmml">2</mn><mo id="A4.SS6.p1.4.m4.2.2.2.4.1" xref="A4.SS6.p1.4.m4.2.2.2.3.cmml">,</mo><mi id="A4.SS6.p1.4.m4.2.2.2.2" xref="A4.SS6.p1.4.m4.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A4.SS6.p1.4.m4.2b"><apply id="A4.SS6.p1.4.m4.2.3.cmml" xref="A4.SS6.p1.4.m4.2.3"><csymbol cd="ambiguous" id="A4.SS6.p1.4.m4.2.3.1.cmml" xref="A4.SS6.p1.4.m4.2.3">subscript</csymbol><ci id="A4.SS6.p1.4.m4.2.3.2.cmml" xref="A4.SS6.p1.4.m4.2.3.2">𝑔</ci><list id="A4.SS6.p1.4.m4.2.2.2.3.cmml" xref="A4.SS6.p1.4.m4.2.2.2.4"><cn id="A4.SS6.p1.4.m4.1.1.1.1.cmml" type="integer" xref="A4.SS6.p1.4.m4.1.1.1.1">2</cn><ci id="A4.SS6.p1.4.m4.2.2.2.2.cmml" xref="A4.SS6.p1.4.m4.2.2.2.2">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS6.p1.4.m4.2c">g_{2,t}</annotation><annotation encoding="application/x-llamapun" id="A4.SS6.p1.4.m4.2d">italic_g start_POSTSUBSCRIPT 2 , italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="h_{2,t}" class="ltx_Math" display="inline" id="A4.SS6.p1.5.m5.2"><semantics id="A4.SS6.p1.5.m5.2a"><msub id="A4.SS6.p1.5.m5.2.3" xref="A4.SS6.p1.5.m5.2.3.cmml"><mi id="A4.SS6.p1.5.m5.2.3.2" xref="A4.SS6.p1.5.m5.2.3.2.cmml">h</mi><mrow id="A4.SS6.p1.5.m5.2.2.2.4" xref="A4.SS6.p1.5.m5.2.2.2.3.cmml"><mn id="A4.SS6.p1.5.m5.1.1.1.1" xref="A4.SS6.p1.5.m5.1.1.1.1.cmml">2</mn><mo id="A4.SS6.p1.5.m5.2.2.2.4.1" xref="A4.SS6.p1.5.m5.2.2.2.3.cmml">,</mo><mi id="A4.SS6.p1.5.m5.2.2.2.2" xref="A4.SS6.p1.5.m5.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="A4.SS6.p1.5.m5.2b"><apply id="A4.SS6.p1.5.m5.2.3.cmml" xref="A4.SS6.p1.5.m5.2.3"><csymbol cd="ambiguous" id="A4.SS6.p1.5.m5.2.3.1.cmml" xref="A4.SS6.p1.5.m5.2.3">subscript</csymbol><ci id="A4.SS6.p1.5.m5.2.3.2.cmml" xref="A4.SS6.p1.5.m5.2.3.2">ℎ</ci><list id="A4.SS6.p1.5.m5.2.2.2.3.cmml" xref="A4.SS6.p1.5.m5.2.2.2.4"><cn id="A4.SS6.p1.5.m5.1.1.1.1.cmml" type="integer" xref="A4.SS6.p1.5.m5.1.1.1.1">2</cn><ci id="A4.SS6.p1.5.m5.2.2.2.2.cmml" xref="A4.SS6.p1.5.m5.2.2.2.2">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS6.p1.5.m5.2c">h_{2,t}</annotation><annotation encoding="application/x-llamapun" id="A4.SS6.p1.5.m5.2d">italic_h start_POSTSUBSCRIPT 2 , italic_t end_POSTSUBSCRIPT</annotation></semantics></math>) components from the cumulative or future cost functions results in a decline in performance.
Specifically, when the non-heuristic components are absent, there is an average drop in the success rate of <math alttext="6.8\%" class="ltx_Math" display="inline" id="A4.SS6.p1.6.m6.1"><semantics id="A4.SS6.p1.6.m6.1a"><mrow id="A4.SS6.p1.6.m6.1.1" xref="A4.SS6.p1.6.m6.1.1.cmml"><mn id="A4.SS6.p1.6.m6.1.1.2" xref="A4.SS6.p1.6.m6.1.1.2.cmml">6.8</mn><mo id="A4.SS6.p1.6.m6.1.1.1" xref="A4.SS6.p1.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.SS6.p1.6.m6.1b"><apply id="A4.SS6.p1.6.m6.1.1.cmml" xref="A4.SS6.p1.6.m6.1.1"><csymbol cd="latexml" id="A4.SS6.p1.6.m6.1.1.1.cmml" xref="A4.SS6.p1.6.m6.1.1.1">percent</csymbol><cn id="A4.SS6.p1.6.m6.1.1.2.cmml" type="float" xref="A4.SS6.p1.6.m6.1.1.2">6.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS6.p1.6.m6.1c">6.8\%</annotation><annotation encoding="application/x-llamapun" id="A4.SS6.p1.6.m6.1d">6.8 %</annotation></semantics></math>; whereas, without the heuristic components, the decrease is <math alttext="3.3\%" class="ltx_Math" display="inline" id="A4.SS6.p1.7.m7.1"><semantics id="A4.SS6.p1.7.m7.1a"><mrow id="A4.SS6.p1.7.m7.1.1" xref="A4.SS6.p1.7.m7.1.1.cmml"><mn id="A4.SS6.p1.7.m7.1.1.2" xref="A4.SS6.p1.7.m7.1.1.2.cmml">3.3</mn><mo id="A4.SS6.p1.7.m7.1.1.1" xref="A4.SS6.p1.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.SS6.p1.7.m7.1b"><apply id="A4.SS6.p1.7.m7.1.1.cmml" xref="A4.SS6.p1.7.m7.1.1"><csymbol cd="latexml" id="A4.SS6.p1.7.m7.1.1.1.cmml" xref="A4.SS6.p1.7.m7.1.1.1">percent</csymbol><cn id="A4.SS6.p1.7.m7.1.1.2.cmml" type="float" xref="A4.SS6.p1.7.m7.1.1.2">3.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS6.p1.7.m7.1c">3.3\%</annotation><annotation encoding="application/x-llamapun" id="A4.SS6.p1.7.m7.1d">3.3 %</annotation></semantics></math>.
This suggests that in most instances, non-heuristic components have a more significant impact. This is potentially because heuristic components, relying on long-term memory, are limited in covering all test cases and may struggle to precisely estimate the cost of new actions or tasks.
In scenarios where environments offer high-quality seed data for long-term memory (<em class="ltx_emph ltx_font_italic" id="A4.SS6.p1.10.1">e.g.</em>, Virtual Home), the heuristic function plays a more important role.
Third, eliminating either the entire cumulative or future cost results in a marked decline in the success rate.
Relying exclusively on the future cost induces a sharp performance drop of <math alttext="28.2\%" class="ltx_Math" display="inline" id="A4.SS6.p1.8.m8.1"><semantics id="A4.SS6.p1.8.m8.1a"><mrow id="A4.SS6.p1.8.m8.1.1" xref="A4.SS6.p1.8.m8.1.1.cmml"><mn id="A4.SS6.p1.8.m8.1.1.2" xref="A4.SS6.p1.8.m8.1.1.2.cmml">28.2</mn><mo id="A4.SS6.p1.8.m8.1.1.1" xref="A4.SS6.p1.8.m8.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A4.SS6.p1.8.m8.1b"><apply id="A4.SS6.p1.8.m8.1.1.cmml" xref="A4.SS6.p1.8.m8.1.1"><csymbol cd="latexml" id="A4.SS6.p1.8.m8.1.1.1.cmml" xref="A4.SS6.p1.8.m8.1.1.1">percent</csymbol><cn id="A4.SS6.p1.8.m8.1.1.2.cmml" type="float" xref="A4.SS6.p1.8.m8.1.1.2">28.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS6.p1.8.m8.1c">28.2\%</annotation><annotation encoding="application/x-llamapun" id="A4.SS6.p1.8.m8.1d">28.2 %</annotation></semantics></math>, deteriorating ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS6.p1.9.m9.1"><semantics id="A4.SS6.p1.9.m9.1a"><msup id="A4.SS6.p1.9.m9.1.1" xref="A4.SS6.p1.9.m9.1.1.cmml"><mi id="A4.SS6.p1.9.m9.1.1a" xref="A4.SS6.p1.9.m9.1.1.cmml"></mi><mo id="A4.SS6.p1.9.m9.1.1.1" xref="A4.SS6.p1.9.m9.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS6.p1.9.m9.1b"><apply id="A4.SS6.p1.9.m9.1.1.cmml" xref="A4.SS6.p1.9.m9.1.1"><times id="A4.SS6.p1.9.m9.1.1.1.cmml" xref="A4.SS6.p1.9.m9.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS6.p1.9.m9.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS6.p1.9.m9.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> to a greedy strategy that favors the shortest solution plans with the least number of actions.
Conversely, if the search is guided only by the cumulative cost, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A4.SS6.p1.10.m10.1"><semantics id="A4.SS6.p1.10.m10.1a"><msup id="A4.SS6.p1.10.m10.1.1" xref="A4.SS6.p1.10.m10.1.1.cmml"><mi id="A4.SS6.p1.10.m10.1.1a" xref="A4.SS6.p1.10.m10.1.1.cmml"></mi><mo id="A4.SS6.p1.10.m10.1.1.1" xref="A4.SS6.p1.10.m10.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A4.SS6.p1.10.m10.1b"><apply id="A4.SS6.p1.10.m10.1.1.cmml" xref="A4.SS6.p1.10.m10.1.1"><times id="A4.SS6.p1.10.m10.1.1.1.cmml" xref="A4.SS6.p1.10.m10.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS6.p1.10.m10.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A4.SS6.p1.10.m10.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> essentially mirrors the behavior of the BFS algorithm, yielding similar performance outcomes.</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A5">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Additional Dataset: Science QA</h2>
<figure class="ltx_table" id="A5.T6">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Additional results on ScienceQA based on GPT-3.5-turbo.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A5.T6.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A5.T6.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A5.T6.1.2.1.1" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="A5.T6.1.2.1.1.1">Models</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A5.T6.1.2.1.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="A5.T6.1.2.1.2.1">Accuracy</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A5.T6.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A5.T6.1.3.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">CoT (GPT-3.5-turbo)</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A5.T6.1.3.1.2" style="padding-left:3.0pt;padding-right:3.0pt;">78.3</td>
</tr>
<tr class="ltx_tr" id="A5.T6.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A5.T6.1.4.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Chameleon (GPT-3.5-turbo)</th>
<td class="ltx_td ltx_align_center" id="A5.T6.1.4.2.2" style="padding-left:3.0pt;padding-right:3.0pt;">79.9</td>
</tr>
<tr class="ltx_tr" id="A5.T6.1.1" style="background-color:#E6F2F2;">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A5.T6.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="A5.T6.1.1.1.1" style="background-color:#E6F2F2;">ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A5.T6.1.1.1.1.m1.1"><semantics id="A5.T6.1.1.1.1.m1.1a"><msup id="A5.T6.1.1.1.1.m1.1.1" xref="A5.T6.1.1.1.1.m1.1.1.cmml"><mi id="A5.T6.1.1.1.1.m1.1.1a" xref="A5.T6.1.1.1.1.m1.1.1.cmml"></mi><mo id="A5.T6.1.1.1.1.m1.1.1.1" mathbackground="#E6F2F2" xref="A5.T6.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A5.T6.1.1.1.1.m1.1b"><apply id="A5.T6.1.1.1.1.m1.1.1.cmml" xref="A5.T6.1.1.1.1.m1.1.1"><times id="A5.T6.1.1.1.1.m1.1.1.1.cmml" xref="A5.T6.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.T6.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A5.T6.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> (GPT-3.5-turbo)</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A5.T6.1.1.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="A5.T6.1.1.2.1" style="background-color:#E6F2F2;">80.7</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para ltx_noindent" id="A5.p1">
<p class="ltx_p" id="A5.p1.6">We evaluate ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A5.p1.1.m1.1"><semantics id="A5.p1.1.m1.1a"><msup id="A5.p1.1.m1.1.1" xref="A5.p1.1.m1.1.1.cmml"><mi id="A5.p1.1.m1.1.1a" xref="A5.p1.1.m1.1.1.cmml"></mi><mo id="A5.p1.1.m1.1.1.1" xref="A5.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A5.p1.1.m1.1b"><apply id="A5.p1.1.m1.1.1.cmml" xref="A5.p1.1.m1.1.1"><times id="A5.p1.1.m1.1.1.1.cmml" xref="A5.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A5.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> in Science Question Answering (ScienceQA) <cite class="ltx_cite ltx_citemacro_citep">(Lu et al., <a class="ltx_ref" href="#bib.bib22" title="">2022</a>)</cite> dataset on general reasoning tasks.
ScienceQA serves as a diverse benchmark for multi-modal question answering across an array of scientific topics and contexts.
Answering its questions requires a variety of tools and capabilities, including image captioning, text detection, knowledge retrieval, online resource searches, and multi-clue visual reasoning.
Since ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A5.p1.2.m2.1"><semantics id="A5.p1.2.m2.1a"><msup id="A5.p1.2.m2.1.1" xref="A5.p1.2.m2.1.1.cmml"><mi id="A5.p1.2.m2.1.1a" xref="A5.p1.2.m2.1.1.cmml"></mi><mo id="A5.p1.2.m2.1.1.1" xref="A5.p1.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A5.p1.2.m2.1b"><apply id="A5.p1.2.m2.1.1.cmml" xref="A5.p1.2.m2.1.1"><times id="A5.p1.2.m2.1.1.1.cmml" xref="A5.p1.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.p1.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A5.p1.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> can function as a plug-and-play planner, we replace the original naive LLM-based planner in Chameleon with ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A5.p1.3.m3.1"><semantics id="A5.p1.3.m3.1a"><msup id="A5.p1.3.m3.1.1" xref="A5.p1.3.m3.1.1.cmml"><mi id="A5.p1.3.m3.1.1a" xref="A5.p1.3.m3.1.1.cmml"></mi><mo id="A5.p1.3.m3.1.1.1" xref="A5.p1.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A5.p1.3.m3.1b"><apply id="A5.p1.3.m3.1.1.cmml" xref="A5.p1.3.m3.1.1"><times id="A5.p1.3.m3.1.1.1.cmml" xref="A5.p1.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.p1.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A5.p1.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> for evaluation purposes.
For our experiments, we select the Chain-of-Thought <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="#bib.bib46" title="">2022</a>)</cite> and the original Chameleon <cite class="ltx_cite ltx_citemacro_citep">(Lu et al., <a class="ltx_ref" href="#bib.bib23" title="">2023</a>)</cite> as reference baselines.
When built upon GPT-3.5-turbo as the foundational LLM, ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A5.p1.4.m4.1"><semantics id="A5.p1.4.m4.1a"><msup id="A5.p1.4.m4.1.1" xref="A5.p1.4.m4.1.1.cmml"><mi id="A5.p1.4.m4.1.1a" xref="A5.p1.4.m4.1.1.cmml"></mi><mo id="A5.p1.4.m4.1.1.1" xref="A5.p1.4.m4.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A5.p1.4.m4.1b"><apply id="A5.p1.4.m4.1.1.cmml" xref="A5.p1.4.m4.1.1"><times id="A5.p1.4.m4.1.1.1.cmml" xref="A5.p1.4.m4.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.p1.4.m4.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A5.p1.4.m4.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> realizes an accuracy improvement of <math alttext="0.8\%" class="ltx_Math" display="inline" id="A5.p1.5.m5.1"><semantics id="A5.p1.5.m5.1a"><mrow id="A5.p1.5.m5.1.1" xref="A5.p1.5.m5.1.1.cmml"><mn id="A5.p1.5.m5.1.1.2" xref="A5.p1.5.m5.1.1.2.cmml">0.8</mn><mo id="A5.p1.5.m5.1.1.1" xref="A5.p1.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A5.p1.5.m5.1b"><apply id="A5.p1.5.m5.1.1.cmml" xref="A5.p1.5.m5.1.1"><csymbol cd="latexml" id="A5.p1.5.m5.1.1.1.cmml" xref="A5.p1.5.m5.1.1.1">percent</csymbol><cn id="A5.p1.5.m5.1.1.2.cmml" type="float" xref="A5.p1.5.m5.1.1.2">0.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.p1.5.m5.1c">0.8\%</annotation><annotation encoding="application/x-llamapun" id="A5.p1.5.m5.1d">0.8 %</annotation></semantics></math> over Chameleon.
ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A5.p1.6.m6.1"><semantics id="A5.p1.6.m6.1a"><msup id="A5.p1.6.m6.1.1" xref="A5.p1.6.m6.1.1.cmml"><mi id="A5.p1.6.m6.1.1a" xref="A5.p1.6.m6.1.1.cmml"></mi><mo id="A5.p1.6.m6.1.1.1" xref="A5.p1.6.m6.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A5.p1.6.m6.1b"><apply id="A5.p1.6.m6.1.1.cmml" xref="A5.p1.6.m6.1.1"><times id="A5.p1.6.m6.1.1.1.cmml" xref="A5.p1.6.m6.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.p1.6.m6.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A5.p1.6.m6.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> benefits from considering multiple potential paths for execution.
However, the performance gain is limited on the dataset, primarily because the logic behind calling different tools to solve the problem from the dataset is quite rigid.</p>
</div>
</section>
<section class="ltx_appendix" id="A6">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix F </span>Open-Source LLMs</h2>
<figure class="ltx_table" id="A6.T7">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>Additional experimental results (success rate) on Virtual Home for tool-use evaluation based on LLaMA-2 <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al., <a class="ltx_ref" href="#bib.bib42" title="">2023</a>)</cite> 7B and 13B models.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A6.T7.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A6.T7.2.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A6.T7.2.3.1.1" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="A6.T7.2.3.1.1.1">Models</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A6.T7.2.3.1.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="A6.T7.2.3.1.2.1">Executable</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A6.T7.2.3.1.3" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="A6.T7.2.3.1.3.1">Success</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A6.T7.2.3.1.4" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="A6.T7.2.3.1.4.1">Success (E)</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A6.T7.2.4.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A6.T7.2.4.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">LLaMA-2 (7B)</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A6.T7.2.4.1.2" style="padding-left:3.0pt;padding-right:3.0pt;">31.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A6.T7.2.4.1.3" style="padding-left:3.0pt;padding-right:3.0pt;">21.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A6.T7.2.4.1.4" style="padding-left:3.0pt;padding-right:3.0pt;">-</td>
</tr>
<tr class="ltx_tr" id="A6.T7.2.5.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A6.T7.2.5.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">LLaMA-2 (13B)</th>
<td class="ltx_td ltx_align_center" id="A6.T7.2.5.2.2" style="padding-left:3.0pt;padding-right:3.0pt;">30.0</td>
<td class="ltx_td ltx_align_center" id="A6.T7.2.5.2.3" style="padding-left:3.0pt;padding-right:3.0pt;">19.8</td>
<td class="ltx_td ltx_align_center" id="A6.T7.2.5.2.4" style="padding-left:3.0pt;padding-right:3.0pt;">-</td>
</tr>
<tr class="ltx_tr" id="A6.T7.2.6.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A6.T7.2.6.3.1" style="padding-left:3.0pt;padding-right:3.0pt;">StepLLaMA-2 (7B)</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A6.T7.2.6.3.2" style="padding-left:3.0pt;padding-right:3.0pt;">57.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A6.T7.2.6.3.3" style="padding-left:3.0pt;padding-right:3.0pt;">25.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A6.T7.2.6.3.4" style="padding-left:3.0pt;padding-right:3.0pt;">29.5</td>
</tr>
<tr class="ltx_tr" id="A6.T7.2.7.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A6.T7.2.7.4.1" style="padding-left:3.0pt;padding-right:3.0pt;">StepLLaMA-2 (13B)</th>
<td class="ltx_td ltx_align_center" id="A6.T7.2.7.4.2" style="padding-left:3.0pt;padding-right:3.0pt;">56.0</td>
<td class="ltx_td ltx_align_center" id="A6.T7.2.7.4.3" style="padding-left:3.0pt;padding-right:3.0pt;">25.3</td>
<td class="ltx_td ltx_align_center" id="A6.T7.2.7.4.4" style="padding-left:3.0pt;padding-right:3.0pt;">27.4</td>
</tr>
<tr class="ltx_tr" id="A6.T7.1.1" style="background-color:#E6F2F2;">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A6.T7.1.1.1" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="A6.T7.1.1.1.1" style="background-color:#E6F2F2;">ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A6.T7.1.1.1.1.m1.1"><semantics id="A6.T7.1.1.1.1.m1.1a"><msup id="A6.T7.1.1.1.1.m1.1.1" xref="A6.T7.1.1.1.1.m1.1.1.cmml"><mi id="A6.T7.1.1.1.1.m1.1.1a" xref="A6.T7.1.1.1.1.m1.1.1.cmml"></mi><mo id="A6.T7.1.1.1.1.m1.1.1.1" mathbackground="#E6F2F2" xref="A6.T7.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A6.T7.1.1.1.1.m1.1b"><apply id="A6.T7.1.1.1.1.m1.1.1.cmml" xref="A6.T7.1.1.1.1.m1.1.1"><times id="A6.T7.1.1.1.1.m1.1.1.1.cmml" xref="A6.T7.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.T7.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A6.T7.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> (Step-LLaMA-2, 7B)</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A6.T7.1.1.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="A6.T7.1.1.2.1" style="background-color:#E6F2F2;">57.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A6.T7.1.1.3" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="A6.T7.1.1.3.1" style="background-color:#E6F2F2;">28.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A6.T7.1.1.4" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="A6.T7.1.1.4.1" style="background-color:#E6F2F2;">31.0</span></td>
</tr>
<tr class="ltx_tr" id="A6.T7.2.2" style="background-color:#E6F2F2;">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A6.T7.2.2.1" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="A6.T7.2.2.1.1" style="background-color:#E6F2F2;">ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A6.T7.2.2.1.1.m1.1"><semantics id="A6.T7.2.2.1.1.m1.1a"><msup id="A6.T7.2.2.1.1.m1.1.1" xref="A6.T7.2.2.1.1.m1.1.1.cmml"><mi id="A6.T7.2.2.1.1.m1.1.1a" xref="A6.T7.2.2.1.1.m1.1.1.cmml"></mi><mo id="A6.T7.2.2.1.1.m1.1.1.1" mathbackground="#E6F2F2" xref="A6.T7.2.2.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A6.T7.2.2.1.1.m1.1b"><apply id="A6.T7.2.2.1.1.m1.1.1.cmml" xref="A6.T7.2.2.1.1.m1.1.1"><times id="A6.T7.2.2.1.1.m1.1.1.1.cmml" xref="A6.T7.2.2.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.T7.2.2.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A6.T7.2.2.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> (Step-LLaMA-2, 13B)</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A6.T7.2.2.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="A6.T7.2.2.2.1" style="background-color:#E6F2F2;">96.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A6.T7.2.2.3" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="A6.T7.2.2.3.1" style="background-color:#E6F2F2;">30.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A6.T7.2.2.4" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text" id="A6.T7.2.2.4.1" style="background-color:#E6F2F2;">30.2</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para ltx_noindent" id="A6.p1">
<p class="ltx_p" id="A6.p1.13"><span class="ltx_text ltx_font_bold" id="A6.p1.13.1">Task Setup</span>
In this section, we explore the potential of leveraging ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A6.p1.1.m1.1"><semantics id="A6.p1.1.m1.1a"><msup id="A6.p1.1.m1.1.1" xref="A6.p1.1.m1.1.1.cmml"><mi id="A6.p1.1.m1.1.1a" xref="A6.p1.1.m1.1.1.cmml"></mi><mo id="A6.p1.1.m1.1.1.1" xref="A6.p1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A6.p1.1.m1.1b"><apply id="A6.p1.1.m1.1.1.cmml" xref="A6.p1.1.m1.1.1"><times id="A6.p1.1.m1.1.1.1.cmml" xref="A6.p1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A6.p1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> on open-source large language models.
ToolBench <cite class="ltx_cite ltx_citemacro_citep">(Xu et al., <a class="ltx_ref" href="#bib.bib50" title="">2023</a>)</cite> offers the training data for each of the datasets.
The instructions in the original training data include the task query <math alttext="g" class="ltx_Math" display="inline" id="A6.p1.2.m2.1"><semantics id="A6.p1.2.m2.1a"><mi id="A6.p1.2.m2.1.1" xref="A6.p1.2.m2.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="A6.p1.2.m2.1b"><ci id="A6.p1.2.m2.1.1.cmml" xref="A6.p1.2.m2.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.2.m2.1c">g</annotation><annotation encoding="application/x-llamapun" id="A6.p1.2.m2.1d">italic_g</annotation></semantics></math> and a simple “<span class="ltx_text ltx_font_typewriter" id="A6.p1.13.2">Action:</span>” prompt to make the model generate the entire plan <math alttext="p=(a_{0},a_{1},\cdots,a_{T_{g}})" class="ltx_Math" display="inline" id="A6.p1.3.m3.4"><semantics id="A6.p1.3.m3.4a"><mrow id="A6.p1.3.m3.4.4" xref="A6.p1.3.m3.4.4.cmml"><mi id="A6.p1.3.m3.4.4.5" xref="A6.p1.3.m3.4.4.5.cmml">p</mi><mo id="A6.p1.3.m3.4.4.4" xref="A6.p1.3.m3.4.4.4.cmml">=</mo><mrow id="A6.p1.3.m3.4.4.3.3" xref="A6.p1.3.m3.4.4.3.4.cmml"><mo id="A6.p1.3.m3.4.4.3.3.4" stretchy="false" xref="A6.p1.3.m3.4.4.3.4.cmml">(</mo><msub id="A6.p1.3.m3.2.2.1.1.1" xref="A6.p1.3.m3.2.2.1.1.1.cmml"><mi id="A6.p1.3.m3.2.2.1.1.1.2" xref="A6.p1.3.m3.2.2.1.1.1.2.cmml">a</mi><mn id="A6.p1.3.m3.2.2.1.1.1.3" xref="A6.p1.3.m3.2.2.1.1.1.3.cmml">0</mn></msub><mo id="A6.p1.3.m3.4.4.3.3.5" xref="A6.p1.3.m3.4.4.3.4.cmml">,</mo><msub id="A6.p1.3.m3.3.3.2.2.2" xref="A6.p1.3.m3.3.3.2.2.2.cmml"><mi id="A6.p1.3.m3.3.3.2.2.2.2" xref="A6.p1.3.m3.3.3.2.2.2.2.cmml">a</mi><mn id="A6.p1.3.m3.3.3.2.2.2.3" xref="A6.p1.3.m3.3.3.2.2.2.3.cmml">1</mn></msub><mo id="A6.p1.3.m3.4.4.3.3.6" xref="A6.p1.3.m3.4.4.3.4.cmml">,</mo><mi id="A6.p1.3.m3.1.1" mathvariant="normal" xref="A6.p1.3.m3.1.1.cmml">⋯</mi><mo id="A6.p1.3.m3.4.4.3.3.7" xref="A6.p1.3.m3.4.4.3.4.cmml">,</mo><msub id="A6.p1.3.m3.4.4.3.3.3" xref="A6.p1.3.m3.4.4.3.3.3.cmml"><mi id="A6.p1.3.m3.4.4.3.3.3.2" xref="A6.p1.3.m3.4.4.3.3.3.2.cmml">a</mi><msub id="A6.p1.3.m3.4.4.3.3.3.3" xref="A6.p1.3.m3.4.4.3.3.3.3.cmml"><mi id="A6.p1.3.m3.4.4.3.3.3.3.2" xref="A6.p1.3.m3.4.4.3.3.3.3.2.cmml">T</mi><mi id="A6.p1.3.m3.4.4.3.3.3.3.3" xref="A6.p1.3.m3.4.4.3.3.3.3.3.cmml">g</mi></msub></msub><mo id="A6.p1.3.m3.4.4.3.3.8" stretchy="false" xref="A6.p1.3.m3.4.4.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A6.p1.3.m3.4b"><apply id="A6.p1.3.m3.4.4.cmml" xref="A6.p1.3.m3.4.4"><eq id="A6.p1.3.m3.4.4.4.cmml" xref="A6.p1.3.m3.4.4.4"></eq><ci id="A6.p1.3.m3.4.4.5.cmml" xref="A6.p1.3.m3.4.4.5">𝑝</ci><vector id="A6.p1.3.m3.4.4.3.4.cmml" xref="A6.p1.3.m3.4.4.3.3"><apply id="A6.p1.3.m3.2.2.1.1.1.cmml" xref="A6.p1.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="A6.p1.3.m3.2.2.1.1.1.1.cmml" xref="A6.p1.3.m3.2.2.1.1.1">subscript</csymbol><ci id="A6.p1.3.m3.2.2.1.1.1.2.cmml" xref="A6.p1.3.m3.2.2.1.1.1.2">𝑎</ci><cn id="A6.p1.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="A6.p1.3.m3.2.2.1.1.1.3">0</cn></apply><apply id="A6.p1.3.m3.3.3.2.2.2.cmml" xref="A6.p1.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="A6.p1.3.m3.3.3.2.2.2.1.cmml" xref="A6.p1.3.m3.3.3.2.2.2">subscript</csymbol><ci id="A6.p1.3.m3.3.3.2.2.2.2.cmml" xref="A6.p1.3.m3.3.3.2.2.2.2">𝑎</ci><cn id="A6.p1.3.m3.3.3.2.2.2.3.cmml" type="integer" xref="A6.p1.3.m3.3.3.2.2.2.3">1</cn></apply><ci id="A6.p1.3.m3.1.1.cmml" xref="A6.p1.3.m3.1.1">⋯</ci><apply id="A6.p1.3.m3.4.4.3.3.3.cmml" xref="A6.p1.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="A6.p1.3.m3.4.4.3.3.3.1.cmml" xref="A6.p1.3.m3.4.4.3.3.3">subscript</csymbol><ci id="A6.p1.3.m3.4.4.3.3.3.2.cmml" xref="A6.p1.3.m3.4.4.3.3.3.2">𝑎</ci><apply id="A6.p1.3.m3.4.4.3.3.3.3.cmml" xref="A6.p1.3.m3.4.4.3.3.3.3"><csymbol cd="ambiguous" id="A6.p1.3.m3.4.4.3.3.3.3.1.cmml" xref="A6.p1.3.m3.4.4.3.3.3.3">subscript</csymbol><ci id="A6.p1.3.m3.4.4.3.3.3.3.2.cmml" xref="A6.p1.3.m3.4.4.3.3.3.3.2">𝑇</ci><ci id="A6.p1.3.m3.4.4.3.3.3.3.3.cmml" xref="A6.p1.3.m3.4.4.3.3.3.3.3">𝑔</ci></apply></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.3.m3.4c">p=(a_{0},a_{1},\cdots,a_{T_{g}})</annotation><annotation encoding="application/x-llamapun" id="A6.p1.3.m3.4d">italic_p = ( italic_a start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math>.
However, without any API documentation or demonstration examples provided in the instructions, generating a comprehensive plan proves challenging for models. Additionally, we strive to further refine the connections between adjacent actions in the solution plans within the training data.
Thus, we decompose the solution plans autoregressively, assembling the original task query with the previous <math alttext="t" class="ltx_Math" display="inline" id="A6.p1.4.m4.1"><semantics id="A6.p1.4.m4.1a"><mi id="A6.p1.4.m4.1.1" xref="A6.p1.4.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A6.p1.4.m4.1b"><ci id="A6.p1.4.m4.1.1.cmml" xref="A6.p1.4.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.4.m4.1c">t</annotation><annotation encoding="application/x-llamapun" id="A6.p1.4.m4.1d">italic_t</annotation></semantics></math> actions as instruction and treating the <math alttext="(t+1)" class="ltx_Math" display="inline" id="A6.p1.5.m5.1"><semantics id="A6.p1.5.m5.1a"><mrow id="A6.p1.5.m5.1.1.1" xref="A6.p1.5.m5.1.1.1.1.cmml"><mo id="A6.p1.5.m5.1.1.1.2" stretchy="false" xref="A6.p1.5.m5.1.1.1.1.cmml">(</mo><mrow id="A6.p1.5.m5.1.1.1.1" xref="A6.p1.5.m5.1.1.1.1.cmml"><mi id="A6.p1.5.m5.1.1.1.1.2" xref="A6.p1.5.m5.1.1.1.1.2.cmml">t</mi><mo id="A6.p1.5.m5.1.1.1.1.1" xref="A6.p1.5.m5.1.1.1.1.1.cmml">+</mo><mn id="A6.p1.5.m5.1.1.1.1.3" xref="A6.p1.5.m5.1.1.1.1.3.cmml">1</mn></mrow><mo id="A6.p1.5.m5.1.1.1.3" stretchy="false" xref="A6.p1.5.m5.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A6.p1.5.m5.1b"><apply id="A6.p1.5.m5.1.1.1.1.cmml" xref="A6.p1.5.m5.1.1.1"><plus id="A6.p1.5.m5.1.1.1.1.1.cmml" xref="A6.p1.5.m5.1.1.1.1.1"></plus><ci id="A6.p1.5.m5.1.1.1.1.2.cmml" xref="A6.p1.5.m5.1.1.1.1.2">𝑡</ci><cn id="A6.p1.5.m5.1.1.1.1.3.cmml" type="integer" xref="A6.p1.5.m5.1.1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.5.m5.1c">(t+1)</annotation><annotation encoding="application/x-llamapun" id="A6.p1.5.m5.1d">( italic_t + 1 )</annotation></semantics></math>-th action in the plan as the solution.
More specifically, for step <math alttext="t" class="ltx_Math" display="inline" id="A6.p1.6.m6.1"><semantics id="A6.p1.6.m6.1a"><mi id="A6.p1.6.m6.1.1" xref="A6.p1.6.m6.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A6.p1.6.m6.1b"><ci id="A6.p1.6.m6.1.1.cmml" xref="A6.p1.6.m6.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.6.m6.1c">t</annotation><annotation encoding="application/x-llamapun" id="A6.p1.6.m6.1d">italic_t</annotation></semantics></math> and the task query <math alttext="g" class="ltx_Math" display="inline" id="A6.p1.7.m7.1"><semantics id="A6.p1.7.m7.1a"><mi id="A6.p1.7.m7.1.1" xref="A6.p1.7.m7.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="A6.p1.7.m7.1b"><ci id="A6.p1.7.m7.1.1.cmml" xref="A6.p1.7.m7.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.7.m7.1c">g</annotation><annotation encoding="application/x-llamapun" id="A6.p1.7.m7.1d">italic_g</annotation></semantics></math>, the new instructions are in the format of <math alttext="(g,a_{0},a_{1},\cdots,a_{t})" class="ltx_Math" display="inline" id="A6.p1.8.m8.5"><semantics id="A6.p1.8.m8.5a"><mrow id="A6.p1.8.m8.5.5.3" xref="A6.p1.8.m8.5.5.4.cmml"><mo id="A6.p1.8.m8.5.5.3.4" stretchy="false" xref="A6.p1.8.m8.5.5.4.cmml">(</mo><mi id="A6.p1.8.m8.1.1" xref="A6.p1.8.m8.1.1.cmml">g</mi><mo id="A6.p1.8.m8.5.5.3.5" xref="A6.p1.8.m8.5.5.4.cmml">,</mo><msub id="A6.p1.8.m8.3.3.1.1" xref="A6.p1.8.m8.3.3.1.1.cmml"><mi id="A6.p1.8.m8.3.3.1.1.2" xref="A6.p1.8.m8.3.3.1.1.2.cmml">a</mi><mn id="A6.p1.8.m8.3.3.1.1.3" xref="A6.p1.8.m8.3.3.1.1.3.cmml">0</mn></msub><mo id="A6.p1.8.m8.5.5.3.6" xref="A6.p1.8.m8.5.5.4.cmml">,</mo><msub id="A6.p1.8.m8.4.4.2.2" xref="A6.p1.8.m8.4.4.2.2.cmml"><mi id="A6.p1.8.m8.4.4.2.2.2" xref="A6.p1.8.m8.4.4.2.2.2.cmml">a</mi><mn id="A6.p1.8.m8.4.4.2.2.3" xref="A6.p1.8.m8.4.4.2.2.3.cmml">1</mn></msub><mo id="A6.p1.8.m8.5.5.3.7" xref="A6.p1.8.m8.5.5.4.cmml">,</mo><mi id="A6.p1.8.m8.2.2" mathvariant="normal" xref="A6.p1.8.m8.2.2.cmml">⋯</mi><mo id="A6.p1.8.m8.5.5.3.8" xref="A6.p1.8.m8.5.5.4.cmml">,</mo><msub id="A6.p1.8.m8.5.5.3.3" xref="A6.p1.8.m8.5.5.3.3.cmml"><mi id="A6.p1.8.m8.5.5.3.3.2" xref="A6.p1.8.m8.5.5.3.3.2.cmml">a</mi><mi id="A6.p1.8.m8.5.5.3.3.3" xref="A6.p1.8.m8.5.5.3.3.3.cmml">t</mi></msub><mo id="A6.p1.8.m8.5.5.3.9" stretchy="false" xref="A6.p1.8.m8.5.5.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A6.p1.8.m8.5b"><vector id="A6.p1.8.m8.5.5.4.cmml" xref="A6.p1.8.m8.5.5.3"><ci id="A6.p1.8.m8.1.1.cmml" xref="A6.p1.8.m8.1.1">𝑔</ci><apply id="A6.p1.8.m8.3.3.1.1.cmml" xref="A6.p1.8.m8.3.3.1.1"><csymbol cd="ambiguous" id="A6.p1.8.m8.3.3.1.1.1.cmml" xref="A6.p1.8.m8.3.3.1.1">subscript</csymbol><ci id="A6.p1.8.m8.3.3.1.1.2.cmml" xref="A6.p1.8.m8.3.3.1.1.2">𝑎</ci><cn id="A6.p1.8.m8.3.3.1.1.3.cmml" type="integer" xref="A6.p1.8.m8.3.3.1.1.3">0</cn></apply><apply id="A6.p1.8.m8.4.4.2.2.cmml" xref="A6.p1.8.m8.4.4.2.2"><csymbol cd="ambiguous" id="A6.p1.8.m8.4.4.2.2.1.cmml" xref="A6.p1.8.m8.4.4.2.2">subscript</csymbol><ci id="A6.p1.8.m8.4.4.2.2.2.cmml" xref="A6.p1.8.m8.4.4.2.2.2">𝑎</ci><cn id="A6.p1.8.m8.4.4.2.2.3.cmml" type="integer" xref="A6.p1.8.m8.4.4.2.2.3">1</cn></apply><ci id="A6.p1.8.m8.2.2.cmml" xref="A6.p1.8.m8.2.2">⋯</ci><apply id="A6.p1.8.m8.5.5.3.3.cmml" xref="A6.p1.8.m8.5.5.3.3"><csymbol cd="ambiguous" id="A6.p1.8.m8.5.5.3.3.1.cmml" xref="A6.p1.8.m8.5.5.3.3">subscript</csymbol><ci id="A6.p1.8.m8.5.5.3.3.2.cmml" xref="A6.p1.8.m8.5.5.3.3.2">𝑎</ci><ci id="A6.p1.8.m8.5.5.3.3.3.cmml" xref="A6.p1.8.m8.5.5.3.3.3">𝑡</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.8.m8.5c">(g,a_{0},a_{1},\cdots,a_{t})</annotation><annotation encoding="application/x-llamapun" id="A6.p1.8.m8.5d">( italic_g , italic_a start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , ⋯ , italic_a start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>.
The corresponding solution is the next-step action <math alttext="a_{t+1}" class="ltx_Math" display="inline" id="A6.p1.9.m9.1"><semantics id="A6.p1.9.m9.1a"><msub id="A6.p1.9.m9.1.1" xref="A6.p1.9.m9.1.1.cmml"><mi id="A6.p1.9.m9.1.1.2" xref="A6.p1.9.m9.1.1.2.cmml">a</mi><mrow id="A6.p1.9.m9.1.1.3" xref="A6.p1.9.m9.1.1.3.cmml"><mi id="A6.p1.9.m9.1.1.3.2" xref="A6.p1.9.m9.1.1.3.2.cmml">t</mi><mo id="A6.p1.9.m9.1.1.3.1" xref="A6.p1.9.m9.1.1.3.1.cmml">+</mo><mn id="A6.p1.9.m9.1.1.3.3" xref="A6.p1.9.m9.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="A6.p1.9.m9.1b"><apply id="A6.p1.9.m9.1.1.cmml" xref="A6.p1.9.m9.1.1"><csymbol cd="ambiguous" id="A6.p1.9.m9.1.1.1.cmml" xref="A6.p1.9.m9.1.1">subscript</csymbol><ci id="A6.p1.9.m9.1.1.2.cmml" xref="A6.p1.9.m9.1.1.2">𝑎</ci><apply id="A6.p1.9.m9.1.1.3.cmml" xref="A6.p1.9.m9.1.1.3"><plus id="A6.p1.9.m9.1.1.3.1.cmml" xref="A6.p1.9.m9.1.1.3.1"></plus><ci id="A6.p1.9.m9.1.1.3.2.cmml" xref="A6.p1.9.m9.1.1.3.2">𝑡</ci><cn id="A6.p1.9.m9.1.1.3.3.cmml" type="integer" xref="A6.p1.9.m9.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.9.m9.1c">a_{t+1}</annotation><annotation encoding="application/x-llamapun" id="A6.p1.9.m9.1d">italic_a start_POSTSUBSCRIPT italic_t + 1 end_POSTSUBSCRIPT</annotation></semantics></math>.
In addition, with the decomposition, the size of training data increases from <math alttext="\sim 500" class="ltx_Math" display="inline" id="A6.p1.10.m10.1"><semantics id="A6.p1.10.m10.1a"><mrow id="A6.p1.10.m10.1.1" xref="A6.p1.10.m10.1.1.cmml"><mi id="A6.p1.10.m10.1.1.2" xref="A6.p1.10.m10.1.1.2.cmml"></mi><mo id="A6.p1.10.m10.1.1.1" xref="A6.p1.10.m10.1.1.1.cmml">∼</mo><mn id="A6.p1.10.m10.1.1.3" xref="A6.p1.10.m10.1.1.3.cmml">500</mn></mrow><annotation-xml encoding="MathML-Content" id="A6.p1.10.m10.1b"><apply id="A6.p1.10.m10.1.1.cmml" xref="A6.p1.10.m10.1.1"><csymbol cd="latexml" id="A6.p1.10.m10.1.1.1.cmml" xref="A6.p1.10.m10.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="A6.p1.10.m10.1.1.2.cmml" xref="A6.p1.10.m10.1.1.2">absent</csymbol><cn id="A6.p1.10.m10.1.1.3.cmml" type="integer" xref="A6.p1.10.m10.1.1.3">500</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.10.m10.1c">\sim 500</annotation><annotation encoding="application/x-llamapun" id="A6.p1.10.m10.1d">∼ 500</annotation></semantics></math> to <math alttext="\sim 4500" class="ltx_Math" display="inline" id="A6.p1.11.m11.1"><semantics id="A6.p1.11.m11.1a"><mrow id="A6.p1.11.m11.1.1" xref="A6.p1.11.m11.1.1.cmml"><mi id="A6.p1.11.m11.1.1.2" xref="A6.p1.11.m11.1.1.2.cmml"></mi><mo id="A6.p1.11.m11.1.1.1" xref="A6.p1.11.m11.1.1.1.cmml">∼</mo><mn id="A6.p1.11.m11.1.1.3" xref="A6.p1.11.m11.1.1.3.cmml">4500</mn></mrow><annotation-xml encoding="MathML-Content" id="A6.p1.11.m11.1b"><apply id="A6.p1.11.m11.1.1.cmml" xref="A6.p1.11.m11.1.1"><csymbol cd="latexml" id="A6.p1.11.m11.1.1.1.cmml" xref="A6.p1.11.m11.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="A6.p1.11.m11.1.1.2.cmml" xref="A6.p1.11.m11.1.1.2">absent</csymbol><cn id="A6.p1.11.m11.1.1.3.cmml" type="integer" xref="A6.p1.11.m11.1.1.3">4500</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.11.m11.1c">\sim 4500</annotation><annotation encoding="application/x-llamapun" id="A6.p1.11.m11.1d">∼ 4500</annotation></semantics></math>.
With the generated instruction-solution pairs, we fine-tune two StepLLaMA-2 models based on LLaMA-2 <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al., <a class="ltx_ref" href="#bib.bib42" title="">2023</a>)</cite> 7B and 13B models.
As ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A6.p1.12.m12.1"><semantics id="A6.p1.12.m12.1a"><msup id="A6.p1.12.m12.1.1" xref="A6.p1.12.m12.1.1.cmml"><mi id="A6.p1.12.m12.1.1a" xref="A6.p1.12.m12.1.1.cmml"></mi><mo id="A6.p1.12.m12.1.1.1" xref="A6.p1.12.m12.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A6.p1.12.m12.1b"><apply id="A6.p1.12.m12.1.1.cmml" xref="A6.p1.12.m12.1.1"><times id="A6.p1.12.m12.1.1.1.cmml" xref="A6.p1.12.m12.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.12.m12.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A6.p1.12.m12.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> can be applied as a plug-and-play module for agents based on different LLMs, We also equip the fine-tuned StepLLaMA-2 with ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A6.p1.13.m13.1"><semantics id="A6.p1.13.m13.1a"><msup id="A6.p1.13.m13.1.1" xref="A6.p1.13.m13.1.1.cmml"><mi id="A6.p1.13.m13.1.1a" xref="A6.p1.13.m13.1.1.cmml"></mi><mo id="A6.p1.13.m13.1.1.1" xref="A6.p1.13.m13.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A6.p1.13.m13.1b"><apply id="A6.p1.13.m13.1.1.cmml" xref="A6.p1.13.m13.1.1"><times id="A6.p1.13.m13.1.1.1.cmml" xref="A6.p1.13.m13.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p1.13.m13.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A6.p1.13.m13.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para ltx_noindent" id="A6.p2">
<p class="ltx_p" id="A6.p2.5"><span class="ltx_text ltx_font_bold" id="A6.p2.5.1">Results</span>
We evaluate the performance of both StepLLaMA-2 and ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A6.p2.1.m1.1"><semantics id="A6.p2.1.m1.1a"><msup id="A6.p2.1.m1.1.1" xref="A6.p2.1.m1.1.1.cmml"><mi id="A6.p2.1.m1.1.1a" xref="A6.p2.1.m1.1.1.cmml"></mi><mo id="A6.p2.1.m1.1.1.1" xref="A6.p2.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A6.p2.1.m1.1b"><apply id="A6.p2.1.m1.1.1.cmml" xref="A6.p2.1.m1.1.1"><times id="A6.p2.1.m1.1.1.1.cmml" xref="A6.p2.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p2.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A6.p2.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> (StepLLaMA-2) on the Virtual Home dataset and show the results in Table <a class="ltx_ref" href="#A6.T7" title="Table 7 ‣ Appendix F Open-Source LLMs ‣ ToolChain^*: Efficient Action Space Navigation in Large Language Models with A^* Search"><span class="ltx_text ltx_ref_tag">7</span></a>.
We report the metrics of Executable, Success, and Success (E).
Executable means the proportion of plans that can be executed in VirtualHome without violating any rules.
Success means the proportion of plans that lead to the correct final state.
Success (E) is a variant of Success, which only tests the Success rate on executable plans.
StepLLaMA-2 and ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A6.p2.2.m2.1"><semantics id="A6.p2.2.m2.1a"><msup id="A6.p2.2.m2.1.1" xref="A6.p2.2.m2.1.1.cmml"><mi id="A6.p2.2.m2.1.1a" xref="A6.p2.2.m2.1.1.cmml"></mi><mo id="A6.p2.2.m2.1.1.1" xref="A6.p2.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A6.p2.2.m2.1b"><apply id="A6.p2.2.m2.1.1.cmml" xref="A6.p2.2.m2.1.1"><times id="A6.p2.2.m2.1.1.1.cmml" xref="A6.p2.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p2.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A6.p2.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> (LLaMA-2) both outperform the LLaMA-2 models that are directly tuned on the original training data in ToolBench.
In addition, applying ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A6.p2.3.m3.1"><semantics id="A6.p2.3.m3.1a"><msup id="A6.p2.3.m3.1.1" xref="A6.p2.3.m3.1.1.cmml"><mi id="A6.p2.3.m3.1.1a" xref="A6.p2.3.m3.1.1.cmml"></mi><mo id="A6.p2.3.m3.1.1.1" xref="A6.p2.3.m3.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A6.p2.3.m3.1b"><apply id="A6.p2.3.m3.1.1.cmml" xref="A6.p2.3.m3.1.1"><times id="A6.p2.3.m3.1.1.1.cmml" xref="A6.p2.3.m3.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p2.3.m3.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A6.p2.3.m3.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> on StepLLaMA-2 can bring <math alttext="4.0\%" class="ltx_Math" display="inline" id="A6.p2.4.m4.1"><semantics id="A6.p2.4.m4.1a"><mrow id="A6.p2.4.m4.1.1" xref="A6.p2.4.m4.1.1.cmml"><mn id="A6.p2.4.m4.1.1.2" xref="A6.p2.4.m4.1.1.2.cmml">4.0</mn><mo id="A6.p2.4.m4.1.1.1" xref="A6.p2.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A6.p2.4.m4.1b"><apply id="A6.p2.4.m4.1.1.cmml" xref="A6.p2.4.m4.1.1"><csymbol cd="latexml" id="A6.p2.4.m4.1.1.1.cmml" xref="A6.p2.4.m4.1.1.1">percent</csymbol><cn id="A6.p2.4.m4.1.1.2.cmml" type="float" xref="A6.p2.4.m4.1.1.2">4.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p2.4.m4.1c">4.0\%</annotation><annotation encoding="application/x-llamapun" id="A6.p2.4.m4.1d">4.0 %</annotation></semantics></math> improvement in success rate on average, showing that ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A6.p2.5.m5.1"><semantics id="A6.p2.5.m5.1a"><msup id="A6.p2.5.m5.1.1" xref="A6.p2.5.m5.1.1.cmml"><mi id="A6.p2.5.m5.1.1a" xref="A6.p2.5.m5.1.1.cmml"></mi><mo id="A6.p2.5.m5.1.1.1" xref="A6.p2.5.m5.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A6.p2.5.m5.1b"><apply id="A6.p2.5.m5.1.1.cmml" xref="A6.p2.5.m5.1.1"><times id="A6.p2.5.m5.1.1.1.cmml" xref="A6.p2.5.m5.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.p2.5.m5.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A6.p2.5.m5.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> can also be effective on open-source LLMs.</p>
</div>
</section>
<section class="ltx_appendix" id="A7">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix G </span>Prompts</h2>
<section class="ltx_subsection" id="A7.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">G.1 </span>Tool Use: ToolBench</h3>
<div class="ltx_para ltx_noindent" id="A7.SS1.p1">
<p class="ltx_p" id="A7.SS1.p1.1">We follow the prompt format from ToolBench <cite class="ltx_cite ltx_citemacro_citep">(Xu et al., <a class="ltx_ref" href="#bib.bib50" title="">2023</a>)</cite>, which consists of API documents, three-shot in-context demonstration examples, and the query. We utilize the same retriever as the ToolBench implementation <span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/sambanova/toolbench/tree/main" title="">https://github.com/sambanova/toolbench/tree/main</a></span></span></span> to obtain the pertinent API documents and demonstration examples.</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.p2">
<p class="ltx_p" id="A7.SS1.p2.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.p2.1.1" style="width:0.0pt;"><span class="ltx_rule" style="width:152.6pt;height:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_text" id="A7.SS1.p2.1.1.1" style="position:relative; bottom:-2.6pt;"> <span class="ltx_text ltx_framed_rectangle" id="A7.SS1.p2.1.1.1.1.1" style="border-color: black;">&lt;ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A7.SS1.p2.1.1.1.1.1.m1.1"><semantics id="A7.SS1.p2.1.1.1.1.1.m1.1a"><msup id="A7.SS1.p2.1.1.1.1.1.m1.1.1" xref="A7.SS1.p2.1.1.1.1.1.m1.1.1.cmml"><mi id="A7.SS1.p2.1.1.1.1.1.m1.1.1a" xref="A7.SS1.p2.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="A7.SS1.p2.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="A7.SS1.p2.1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A7.SS1.p2.1.1.1.1.1.m1.1b"><apply id="A7.SS1.p2.1.1.1.1.1.m1.1.1.cmml" xref="A7.SS1.p2.1.1.1.1.1.m1.1.1"><times id="A7.SS1.p2.1.1.1.1.1.m1.1.1.1.cmml" xref="A7.SS1.p2.1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.SS1.p2.1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A7.SS1.p2.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>_ToolBench&gt; Prompt</span> </span><span class="ltx_rule" style="width:152.6pt;height:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.p2.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.p3">
<p class="ltx_p" id="A7.SS1.p3.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.p3.1.1"><span class="ltx_text" id="A7.SS1.p3.1.1.1" style="width:0.0pt;"></span><span class="ltx_text" id="A7.SS1.p3.1.1.2" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>{api_docs}<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.p4">
<p class="ltx_p" id="A7.SS1.p4.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.p4.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>{examples}<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.p5">
<p class="ltx_p" id="A7.SS1.p5.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.p5.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Task: {query}<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.p6">
<p class="ltx_p" id="A7.SS1.p6.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.p6.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Action:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.p6.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.p6.1.3" style="width:0.0pt;"><span class="ltx_rule" style="width:469.8pt;height:0.4pt;background:black;display:inline-block;"> </span></span>We then provide examples of API documents and demonstrations for each dataset used in our experiments.</p>
</div>
<section class="ltx_subsubsection" id="A7.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">G.1.1 </span>Home Search</h4>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p1">
<p class="ltx_p" id="A7.SS1.SSS1.p1.1">We present five examples of API documents from the Home Search dataset as follows:</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p2">
<p class="ltx_p" id="A7.SS1.SSS1.p2.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p2.1.1" style="width:0.0pt;"><span class="ltx_rule" style="width:136.4pt;height:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_text" id="A7.SS1.SSS1.p2.1.1.1" style="position:relative; bottom:-2.6pt;"> <span class="ltx_text ltx_framed_rectangle" id="A7.SS1.SSS1.p2.1.1.1.1.1" style="border-color: black;">&lt;ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1"><semantics id="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1a"><msup id="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1.1" xref="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1.1.cmml"><mi id="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1.1a" xref="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1b"><apply id="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1.1.cmml" xref="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1.1"><times id="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1.1.1.cmml" xref="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A7.SS1.SSS1.p2.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>_HomeSearch_Doc&gt; Prompt</span> </span><span class="ltx_rule" style="width:136.4pt;height:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p2.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p3">
<p class="ltx_p" id="A7.SS1.SSS1.p3.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p3.1.1"><span class="ltx_text" id="A7.SS1.SSS1.p3.1.1.1" style="width:0.0pt;"></span><span class="ltx_text" id="A7.SS1.SSS1.p3.1.1.2" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># To set home types for search. For home buying, home_types choices are:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p4">
<p class="ltx_p" id="A7.SS1.SSS1.p4.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p4.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    "House", "Townhouse", "Condo", "Land", "Multi-family", "Mobile",<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p5">
<p class="ltx_p" id="A7.SS1.SSS1.p5.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p5.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    "Co-op"; for home renting, home_types choices are: "House",<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p6">
<p class="ltx_p" id="A7.SS1.SSS1.p6.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p6.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    "Townhouse", "Condo", "Apartment".<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p7">
<p class="ltx_p" id="A7.SS1.SSS1.p7.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p7.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.select_home_type(home_types: List[str])<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p8">
<p class="ltx_p" id="A7.SS1.SSS1.p8.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p8.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p9">
<p class="ltx_p" id="A7.SS1.SSS1.p9.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p9.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># To specify whether to search homes for buying or renting. ’value’ can<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p10">
<p class="ltx_p" id="A7.SS1.SSS1.p10.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p10.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    be chosen from [’buy’, ’rent’]. This function must be called after<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p11">
<p class="ltx_p" id="A7.SS1.SSS1.p11.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p11.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    setting the location and before setting any other criteria.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p12">
<p class="ltx_p" id="A7.SS1.SSS1.p12.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p12.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_buy_or_rent(value: str)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p13">
<p class="ltx_p" id="A7.SS1.SSS1.p13.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p13.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p14">
<p class="ltx_p" id="A7.SS1.SSS1.p14.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p14.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># To set the maximum commute time in minite<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p15">
<p class="ltx_p" id="A7.SS1.SSS1.p15.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p15.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_max_commute_time(value: int)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p16">
<p class="ltx_p" id="A7.SS1.SSS1.p16.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p16.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p17">
<p class="ltx_p" id="A7.SS1.SSS1.p17.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p17.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># To set the minimum home price in dollars<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p18">
<p class="ltx_p" id="A7.SS1.SSS1.p18.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p18.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_min_price(value: int)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p19">
<p class="ltx_p" id="A7.SS1.SSS1.p19.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p19.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p20">
<p class="ltx_p" id="A7.SS1.SSS1.p20.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p20.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># To set the maximum home price in dollars<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p21">
<p class="ltx_p" id="A7.SS1.SSS1.p21.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p21.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_max_price(value: int)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p21.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p21.1.3" style="width:0.0pt;"><span class="ltx_rule" style="width:469.8pt;height:0.4pt;background:black;display:inline-block;"> </span></span>We also provide one demonstration example from the Home Search dataset:</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p22">
<p class="ltx_p" id="A7.SS1.SSS1.p22.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p22.1.1" style="width:0.0pt;"><span class="ltx_rule" style="width:132.3pt;height:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_text" id="A7.SS1.SSS1.p22.1.1.1" style="position:relative; bottom:-2.6pt;"> <span class="ltx_text ltx_framed_rectangle" id="A7.SS1.SSS1.p22.1.1.1.1.1" style="border-color: black;">&lt;ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1"><semantics id="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1a"><msup id="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1.1" xref="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1.1.cmml"><mi id="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1.1a" xref="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1b"><apply id="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1.1.cmml" xref="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1.1"><times id="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1.1.1.cmml" xref="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A7.SS1.SSS1.p22.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>_HomeSearch_Demo&gt; Prompt</span> </span><span class="ltx_rule" style="width:132.3pt;height:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p22.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p23">
<p class="ltx_p" id="A7.SS1.SSS1.p23.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p23.1.1"><span class="ltx_text" id="A7.SS1.SSS1.p23.1.1.1" style="width:0.0pt;"></span><span class="ltx_text" id="A7.SS1.SSS1.p23.1.1.2" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Task: I want to buy a townhouse, mobile or co-op in Pittsburgh with 4<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p24">
<p class="ltx_p" id="A7.SS1.SSS1.p24.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p24.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    rooms. My budget is $1385000.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p25">
<p class="ltx_p" id="A7.SS1.SSS1.p25.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p25.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Actions:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p26">
<p class="ltx_p" id="A7.SS1.SSS1.p26.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p26.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_location("Pittsburgh")<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p27">
<p class="ltx_p" id="A7.SS1.SSS1.p27.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p27.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_buy_or_rent("buy")<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p28">
<p class="ltx_p" id="A7.SS1.SSS1.p28.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p28.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.select_home_type(["Townhouse", "Mobile", "Co-op"])<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p29">
<p class="ltx_p" id="A7.SS1.SSS1.p29.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p29.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_num_beds(4)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p30">
<p class="ltx_p" id="A7.SS1.SSS1.p30.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p30.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_max_price(1385000)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS1.p31">
<p class="ltx_p" id="A7.SS1.SSS1.p31.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p31.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.search()<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p31.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS1.p31.1.3" style="width:0.0pt;"><span class="ltx_rule" style="width:469.8pt;height:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
</section>
<section class="ltx_subsubsection" id="A7.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">G.1.2 </span>Trip Booking</h4>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p1">
<p class="ltx_p" id="A7.SS1.SSS2.p1.1">We present five examples of API documents from the Trip Booking dataset below:</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p2">
<p class="ltx_p" id="A7.SS1.SSS2.p2.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p2.1.1" style="width:0.0pt;"><span class="ltx_rule" style="width:136.0pt;height:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_text" id="A7.SS1.SSS2.p2.1.1.1" style="position:relative; bottom:-2.6pt;"> <span class="ltx_text ltx_framed_rectangle" id="A7.SS1.SSS2.p2.1.1.1.1.1" style="border-color: black;">&lt;ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1"><semantics id="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1a"><msup id="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1.1" xref="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1.1.cmml"><mi id="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1.1a" xref="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1b"><apply id="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1.1.cmml" xref="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1.1"><times id="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1.1.1.cmml" xref="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A7.SS1.SSS2.p2.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>_TripBooking_Doc&gt; Prompt</span> </span><span class="ltx_rule" style="width:136.0pt;height:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p2.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p3">
<p class="ltx_p" id="A7.SS1.SSS2.p3.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p3.1.1"><span class="ltx_text" id="A7.SS1.SSS2.p3.1.1.1" style="width:0.0pt;"></span><span class="ltx_text" id="A7.SS1.SSS2.p3.1.1.2" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># To select the transportation type from [’flight’, ’train’, ’bus’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p4">
<p class="ltx_p" id="A7.SS1.SSS2.p4.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p4.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’cruise’].<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p5">
<p class="ltx_p" id="A7.SS1.SSS2.p5.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p5.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.select_transportation(transportation_type)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p6">
<p class="ltx_p" id="A7.SS1.SSS2.p6.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p6.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p7">
<p class="ltx_p" id="A7.SS1.SSS2.p7.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p7.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># To select the booking type from [’hotels’, ’trip tickets’, ’both’].<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p8">
<p class="ltx_p" id="A7.SS1.SSS2.p8.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p8.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.select_booking_type(booking_type)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p9">
<p class="ltx_p" id="A7.SS1.SSS2.p9.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p9.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p10">
<p class="ltx_p" id="A7.SS1.SSS2.p10.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p10.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># To set the number of child tickets to purchase.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p11">
<p class="ltx_p" id="A7.SS1.SSS2.p11.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p11.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_num_children(value)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p12">
<p class="ltx_p" id="A7.SS1.SSS2.p12.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p12.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p13">
<p class="ltx_p" id="A7.SS1.SSS2.p13.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p13.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># To set the number of adult tickets to purchase.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p14">
<p class="ltx_p" id="A7.SS1.SSS2.p14.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p14.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_num_adults(value)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p15">
<p class="ltx_p" id="A7.SS1.SSS2.p15.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p15.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p16">
<p class="ltx_p" id="A7.SS1.SSS2.p16.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p16.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># To set the location for arrival, given a Loc object.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p17">
<p class="ltx_p" id="A7.SS1.SSS2.p17.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p17.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_destination(Loc)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p17.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p17.1.3" style="width:0.0pt;"><span class="ltx_rule" style="width:469.8pt;height:0.4pt;background:black;display:inline-block;"> </span></span>We also provide one demonstration example from the Trip Booking dataset:</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p18">
<p class="ltx_p" id="A7.SS1.SSS2.p18.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p18.1.1" style="width:0.0pt;"><span class="ltx_rule" style="width:132.0pt;height:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_text" id="A7.SS1.SSS2.p18.1.1.1" style="position:relative; bottom:-2.6pt;"> <span class="ltx_text ltx_framed_rectangle" id="A7.SS1.SSS2.p18.1.1.1.1.1" style="border-color: black;">&lt;ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1"><semantics id="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1a"><msup id="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1.1" xref="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1.1.cmml"><mi id="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1.1a" xref="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1b"><apply id="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1.1.cmml" xref="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1.1"><times id="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1.1.1.cmml" xref="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A7.SS1.SSS2.p18.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>_TripBooking_Demo&gt; Prompt</span> </span><span class="ltx_rule" style="width:132.0pt;height:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p18.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p19">
<p class="ltx_p" id="A7.SS1.SSS2.p19.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p19.1.1"><span class="ltx_text" id="A7.SS1.SSS2.p19.1.1.1" style="width:0.0pt;"></span><span class="ltx_text" id="A7.SS1.SSS2.p19.1.1.2" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Could you help me find train tickets for 3 children and 5 adults from<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p20">
<p class="ltx_p" id="A7.SS1.SSS2.p20.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p20.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    Des Moines to Cape Coral on July 07, 2022? My budget is up to 280<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p21">
<p class="ltx_p" id="A7.SS1.SSS2.p21.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p21.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    per ticket.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p22">
<p class="ltx_p" id="A7.SS1.SSS2.p22.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p22.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Actions:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p23">
<p class="ltx_p" id="A7.SS1.SSS2.p23.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p23.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.select_booking_type("trip tickets")<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p24">
<p class="ltx_p" id="A7.SS1.SSS2.p24.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p24.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.select_transportation("train")<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p25">
<p class="ltx_p" id="A7.SS1.SSS2.p25.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p25.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_num_children(3)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p26">
<p class="ltx_p" id="A7.SS1.SSS2.p26.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p26.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_num_adults(5)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p27">
<p class="ltx_p" id="A7.SS1.SSS2.p27.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p27.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>location_from = Loc("Des Moines")<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p28">
<p class="ltx_p" id="A7.SS1.SSS2.p28.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p28.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_origin(location_from)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p29">
<p class="ltx_p" id="A7.SS1.SSS2.p29.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p29.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>location_to = Loc("Cape Coral")<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p30">
<p class="ltx_p" id="A7.SS1.SSS2.p30.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p30.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_destination(location_to)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p31">
<p class="ltx_p" id="A7.SS1.SSS2.p31.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p31.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>departure_date = Date(7, 7, 2022)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p32">
<p class="ltx_p" id="A7.SS1.SSS2.p32.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p32.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_departure_date(departure_date)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p33">
<p class="ltx_p" id="A7.SS1.SSS2.p33.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p33.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.set_max_ticket_price(280)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS2.p34">
<p class="ltx_p" id="A7.SS1.SSS2.p34.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p34.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>API.search()<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p34.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS2.p34.1.3" style="width:0.0pt;"><span class="ltx_rule" style="width:469.8pt;height:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
</section>
<section class="ltx_subsubsection" id="A7.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">G.1.3 </span>Google Sheets</h4>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p1">
<p class="ltx_p" id="A7.SS1.SSS3.p1.1">We present four examples of API documents from the Google Sheets dataset as follows:</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p2">
<p class="ltx_p" id="A7.SS1.SSS3.p2.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p2.1.1" style="width:0.0pt;"><span class="ltx_rule" style="width:134.2pt;height:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_text" id="A7.SS1.SSS3.p2.1.1.1" style="position:relative; bottom:-2.6pt;"> <span class="ltx_text ltx_framed_rectangle" id="A7.SS1.SSS3.p2.1.1.1.1.1" style="border-color: black;">&lt;ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1"><semantics id="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1a"><msup id="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1.1" xref="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1.1.cmml"><mi id="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1.1a" xref="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1b"><apply id="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1.1.cmml" xref="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1.1"><times id="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1.1.1.cmml" xref="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A7.SS1.SSS3.p2.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>_GoogleSheets_Doc&gt; Prompt</span> </span><span class="ltx_rule" style="width:134.2pt;height:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p2.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p3">
<p class="ltx_p" id="A7.SS1.SSS3.p3.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p3.1.1"><span class="ltx_text" id="A7.SS1.SSS3.p3.1.1.1" style="width:0.0pt;"></span><span class="ltx_text" id="A7.SS1.SSS3.p3.1.1.2" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># Sets values in a cell range of the sheet.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p4">
<p class="ltx_p" id="A7.SS1.SSS3.p4.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p4.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>worksheet.update(range_name, values=None, **kwargs)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p5">
<p class="ltx_p" id="A7.SS1.SSS3.p5.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p5.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p6">
<p class="ltx_p" id="A7.SS1.SSS3.p6.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p6.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># Updates the value of a cell.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p7">
<p class="ltx_p" id="A7.SS1.SSS3.p7.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p7.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>worksheet.update_cell(row, col, value)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p8">
<p class="ltx_p" id="A7.SS1.SSS3.p8.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p8.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p9">
<p class="ltx_p" id="A7.SS1.SSS3.p9.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p9.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># Deletes multiple columns from the worksheet at the specified index.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p10">
<p class="ltx_p" id="A7.SS1.SSS3.p10.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p10.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>worksheet.delete_columns(start_index, end_index=None)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p11">
<p class="ltx_p" id="A7.SS1.SSS3.p11.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p11.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p12">
<p class="ltx_p" id="A7.SS1.SSS3.p12.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p12.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># Deletes multiple rows from the worksheet at the specified index.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p13">
<p class="ltx_p" id="A7.SS1.SSS3.p13.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p13.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>worksheet.delete_rows(start_index, end_index=None)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p13.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p13.1.3" style="width:0.0pt;"><span class="ltx_rule" style="width:469.8pt;height:0.4pt;background:black;display:inline-block;"> </span></span>We also provide one demonstration example from the Google Sheets dataset:</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p14">
<p class="ltx_p" id="A7.SS1.SSS3.p14.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p14.1.1" style="width:0.0pt;"><span class="ltx_rule" style="width:130.2pt;height:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_text" id="A7.SS1.SSS3.p14.1.1.1" style="position:relative; bottom:-2.6pt;"> <span class="ltx_text ltx_framed_rectangle" id="A7.SS1.SSS3.p14.1.1.1.1.1" style="border-color: black;">&lt;ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1"><semantics id="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1a"><msup id="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1.1" xref="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1.1.cmml"><mi id="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1.1a" xref="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1b"><apply id="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1.1.cmml" xref="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1.1"><times id="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1.1.1.cmml" xref="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A7.SS1.SSS3.p14.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>_GoogleSheets_Demo&gt; Prompt</span> </span><span class="ltx_rule" style="width:130.2pt;height:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p14.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p15">
<p class="ltx_p" id="A7.SS1.SSS3.p15.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p15.1.1"><span class="ltx_text" id="A7.SS1.SSS3.p15.1.1.1" style="width:0.0pt;"></span><span class="ltx_text" id="A7.SS1.SSS3.p15.1.1.2" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>| Product | Cost | Price |<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p16">
<p class="ltx_p" id="A7.SS1.SSS3.p16.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p16.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>| beef | 1 | 3 |<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p17">
<p class="ltx_p" id="A7.SS1.SSS3.p17.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p17.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>| pork | 5 | 4 |<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p18">
<p class="ltx_p" id="A7.SS1.SSS3.p18.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p18.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>| chicken | 10 | 11 |<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p19">
<p class="ltx_p" id="A7.SS1.SSS3.p19.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p19.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>| lamb | 3 | 15 |<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p20">
<p class="ltx_p" id="A7.SS1.SSS3.p20.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p20.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>| duck | 12 | 2 |<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p21">
<p class="ltx_p" id="A7.SS1.SSS3.p21.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p21.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>| fish | 2 | 100 |<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p22">
<p class="ltx_p" id="A7.SS1.SSS3.p22.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p22.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p23">
<p class="ltx_p" id="A7.SS1.SSS3.p23.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p23.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Task: Sets ’Hello world’ in ’A2’ cell<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p24">
<p class="ltx_p" id="A7.SS1.SSS3.p24.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p24.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Actions:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p25">
<p class="ltx_p" id="A7.SS1.SSS3.p25.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p25.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>worksheet.update(’A2’, ’Hello world’)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p26">
<p class="ltx_p" id="A7.SS1.SSS3.p26.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p26.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p27">
<p class="ltx_p" id="A7.SS1.SSS3.p27.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p27.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Task: Sets ’Hello world’ in ’A2’ cell<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p28">
<p class="ltx_p" id="A7.SS1.SSS3.p28.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p28.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Actions:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p29">
<p class="ltx_p" id="A7.SS1.SSS3.p29.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p29.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>worksheet.update_cell(2, 1, ’Hello world’)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p30">
<p class="ltx_p" id="A7.SS1.SSS3.p30.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p30.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p31">
<p class="ltx_p" id="A7.SS1.SSS3.p31.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p31.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Task: Updates A2 and A3 with values 42 and 43<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p32">
<p class="ltx_p" id="A7.SS1.SSS3.p32.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p32.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Actions:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p33">
<p class="ltx_p" id="A7.SS1.SSS3.p33.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p33.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>worksheet.update(’A2:A3’, [[42], [43]])<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p34">
<p class="ltx_p" id="A7.SS1.SSS3.p34.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p34.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p35">
<p class="ltx_p" id="A7.SS1.SSS3.p35.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p35.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Task: Updates D2 with values 3<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p36">
<p class="ltx_p" id="A7.SS1.SSS3.p36.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p36.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Actions:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p37">
<p class="ltx_p" id="A7.SS1.SSS3.p37.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p37.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>worksheet.update(’D2’, 3)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p38">
<p class="ltx_p" id="A7.SS1.SSS3.p38.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p38.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p39">
<p class="ltx_p" id="A7.SS1.SSS3.p39.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p39.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Task: Sum A1:A4 and write the result below A4<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p40">
<p class="ltx_p" id="A7.SS1.SSS3.p40.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p40.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Actions:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p41">
<p class="ltx_p" id="A7.SS1.SSS3.p41.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p41.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>worksheet.update(’A5’, ’=SUM(A1:A4)’, raw=False)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p42">
<p class="ltx_p" id="A7.SS1.SSS3.p42.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p42.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p43">
<p class="ltx_p" id="A7.SS1.SSS3.p43.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p43.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Task: Update chicken’s price by 2<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p44">
<p class="ltx_p" id="A7.SS1.SSS3.p44.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p44.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Actions:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p45">
<p class="ltx_p" id="A7.SS1.SSS3.p45.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p45.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>df = get_as_dataframe(worksheet)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p46">
<p class="ltx_p" id="A7.SS1.SSS3.p46.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p46.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>df.loc[df[’Product’] == ’chicken’, ’Price’] += 2<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p47">
<p class="ltx_p" id="A7.SS1.SSS3.p47.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p47.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>worksheet.clear()<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p48">
<p class="ltx_p" id="A7.SS1.SSS3.p48.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p48.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>set_with_dataframe(worksheet, df, include_index=False,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS3.p49">
<p class="ltx_p" id="A7.SS1.SSS3.p49.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p49.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    include_column_header=True)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p49.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS3.p49.1.3" style="width:0.0pt;"><span class="ltx_rule" style="width:469.8pt;height:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
</section>
<section class="ltx_subsubsection" id="A7.SS1.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">G.1.4 </span>Virtual Home</h4>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p1">
<p class="ltx_p" id="A7.SS1.SSS4.p1.1">Below, we present five examples of API documents from the Virtual Home dataset:</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p2">
<p class="ltx_p" id="A7.SS1.SSS4.p2.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p2.1.1" style="width:0.0pt;"><span class="ltx_rule" style="width:135.0pt;height:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_text" id="A7.SS1.SSS4.p2.1.1.1" style="position:relative; bottom:-2.6pt;"> <span class="ltx_text ltx_framed_rectangle" id="A7.SS1.SSS4.p2.1.1.1.1.1" style="border-color: black;">&lt;ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1"><semantics id="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1a"><msup id="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1.1" xref="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1.1.cmml"><mi id="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1.1a" xref="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1b"><apply id="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1.1.cmml" xref="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1.1"><times id="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1.1.1.cmml" xref="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A7.SS1.SSS4.p2.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>_VirtualHome_Doc&gt; Prompt</span> </span><span class="ltx_rule" style="width:135.0pt;height:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p2.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p3">
<p class="ltx_p" id="A7.SS1.SSS4.p3.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p3.1.1"><span class="ltx_text" id="A7.SS1.SSS4.p3.1.1.1" style="width:0.0pt;"></span><span class="ltx_text" id="A7.SS1.SSS4.p3.1.1.2" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># Take a piece of clothes off. ’object’ can only be: [’clothes_jacket’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p4">
<p class="ltx_p" id="A7.SS1.SSS4.p4.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p4.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’clothes_dress’, ’clothes_hat’, ’shoes’, ’clothes_shirt’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p5">
<p class="ltx_p" id="A7.SS1.SSS4.p5.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p5.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’clothes_pants’].<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p6">
<p class="ltx_p" id="A7.SS1.SSS4.p6.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p6.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.TakeOff(object)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p7">
<p class="ltx_p" id="A7.SS1.SSS4.p7.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p7.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p8">
<p class="ltx_p" id="A7.SS1.SSS4.p8.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p8.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># Scrub an object. ’object’ can only be: [’mop’, ’cup’, ’toilet’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p9">
<p class="ltx_p" id="A7.SS1.SSS4.p9.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p9.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’plate’, ’soap’, ’sink’, ’spoon’, ’cat’, ’shower’, ’dishwasher’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p10">
<p class="ltx_p" id="A7.SS1.SSS4.p10.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p10.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’hands_both’, ’drinking_glass’, ’bowl’, ’towel’].<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p11">
<p class="ltx_p" id="A7.SS1.SSS4.p11.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p11.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.Scrub(object)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p12">
<p class="ltx_p" id="A7.SS1.SSS4.p12.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p12.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p13">
<p class="ltx_p" id="A7.SS1.SSS4.p13.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p13.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># Rinse an object. ’object’ can only be: [’cup’, ’pot’, ’water’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p14">
<p class="ltx_p" id="A7.SS1.SSS4.p14.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p14.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’water_glass’, ’sponge’, ’soap’, ’towel’, ’dish_soap’, ’oven’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p15">
<p class="ltx_p" id="A7.SS1.SSS4.p15.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p15.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’cleaning_solution’, ’knife’, ’spoon’, ’sink’, ’faucet’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p16">
<p class="ltx_p" id="A7.SS1.SSS4.p16.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p16.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’clothes_underwear’, ’detergent’, ’drinking_glass’, ’hands_both’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p17">
<p class="ltx_p" id="A7.SS1.SSS4.p17.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p17.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’toilet’, ’shower’, ’rag’, ’plate’, ’bowl’, ’fork’].<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p18">
<p class="ltx_p" id="A7.SS1.SSS4.p18.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p18.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.Rinse(object)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p19">
<p class="ltx_p" id="A7.SS1.SSS4.p19.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p19.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p20">
<p class="ltx_p" id="A7.SS1.SSS4.p20.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p20.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># Wash an object. ’object’ can only be: [’face’, ’cup’, ’food_vegetable’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p21">
<p class="ltx_p" id="A7.SS1.SSS4.p21.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p21.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’dresser’, ’fork’, ’shoes’, ’child’, ’coffee_cup’, ’bed’, ’water’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p22">
<p class="ltx_p" id="A7.SS1.SSS4.p22.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p22.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’soap’, ’duster’, ’brush’, ’bathtub’, ’toy’, ’cleaning_bottle’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p23">
<p class="ltx_p" id="A7.SS1.SSS4.p23.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p23.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’hair’, ’sink’, ’razor’, ’hands_both’, ’drinking_glass’, ’table’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p24">
<p class="ltx_p" id="A7.SS1.SSS4.p24.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p24.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’toilet’, ’basket_for_clothes’, ’shower’, ’dishwasher’, ’plate’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p25">
<p class="ltx_p" id="A7.SS1.SSS4.p25.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p25.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’bowl’, ’spoon’].<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p26">
<p class="ltx_p" id="A7.SS1.SSS4.p26.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p26.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.Wash(object)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p27">
<p class="ltx_p" id="A7.SS1.SSS4.p27.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p27.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p28">
<p class="ltx_p" id="A7.SS1.SSS4.p28.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p28.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span># Pull an object. ’object’ can only be: [’table’, ’mop’, ’mouse’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p29">
<p class="ltx_p" id="A7.SS1.SSS4.p29.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p29.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’chair’, ’clothes_pants’, ’light_bulb’, ’curtain’, ’vacuum_cleaner’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p30">
<p class="ltx_p" id="A7.SS1.SSS4.p30.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p30.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’mat’, ’cat’, ’food_food’, ’drawing’, ’shoes’, ’centerpiece’,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p31">
<p class="ltx_p" id="A7.SS1.SSS4.p31.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p31.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    ’sheets’, ’pot’, ’laptop’].<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p32">
<p class="ltx_p" id="A7.SS1.SSS4.p32.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p32.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.Pull(object)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p32.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p32.1.3" style="width:0.0pt;"><span class="ltx_rule" style="width:469.8pt;height:0.4pt;background:black;display:inline-block;"> </span></span>We also provide one demonstration example from the Virtual Home dataset:</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p33">
<p class="ltx_p" id="A7.SS1.SSS4.p33.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p33.1.1" style="width:0.0pt;"><span class="ltx_rule" style="width:130.9pt;height:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_text" id="A7.SS1.SSS4.p33.1.1.1" style="position:relative; bottom:-2.6pt;"> <span class="ltx_text ltx_framed_rectangle" id="A7.SS1.SSS4.p33.1.1.1.1.1" style="border-color: black;">&lt;ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1"><semantics id="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1a"><msup id="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1.1" xref="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1.1.cmml"><mi id="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1.1a" xref="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1b"><apply id="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1.1.cmml" xref="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1.1"><times id="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1.1.1.cmml" xref="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A7.SS1.SSS4.p33.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>_VirtualHome_Demo&gt; Prompt</span> </span><span class="ltx_rule" style="width:130.9pt;height:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p33.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p34">
<p class="ltx_p" id="A7.SS1.SSS4.p34.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p34.1.1"><span class="ltx_text" id="A7.SS1.SSS4.p34.1.1.1" style="width:0.0pt;"></span><span class="ltx_text" id="A7.SS1.SSS4.p34.1.1.2" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Task: Put down bags<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p35">
<p class="ltx_p" id="A7.SS1.SSS4.p35.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p35.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Actions:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p36">
<p class="ltx_p" id="A7.SS1.SSS4.p36.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p36.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.WalkTo(dining_room)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p37">
<p class="ltx_p" id="A7.SS1.SSS4.p37.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p37.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.WalkTo(food_food)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p38">
<p class="ltx_p" id="A7.SS1.SSS4.p38.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p38.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.Find(food_food)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p39">
<p class="ltx_p" id="A7.SS1.SSS4.p39.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p39.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.Grab(food_food)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p40">
<p class="ltx_p" id="A7.SS1.SSS4.p40.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p40.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.Find(table)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS1.SSS4.p41">
<p class="ltx_p" id="A7.SS1.SSS4.p41.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p41.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Agent.Put(food_food, table)<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p41.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS1.SSS4.p41.1.3" style="width:0.0pt;"><span class="ltx_rule" style="width:469.8pt;height:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
</section>
</section>
<section class="ltx_subsection" id="A7.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">G.2 </span>Math Reasoning: GSM8K</h3>
<div class="ltx_para ltx_noindent" id="A7.SS2.p1">
<p class="ltx_p" id="A7.SS2.p1.1">Below are the prompts utilized for the math reasoning dataset, GSM8K <cite class="ltx_cite ltx_citemacro_citep">(Silver et al., <a class="ltx_ref" href="#bib.bib40" title="">2016</a>)</cite>:</p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p2">
<p class="ltx_p" id="A7.SS2.p2.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p2.1.1" style="width:0.0pt;"><span class="ltx_rule" style="width:158.1pt;height:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_text" id="A7.SS2.p2.1.1.1" style="position:relative; bottom:-2.6pt;"> <span class="ltx_text ltx_framed_rectangle" id="A7.SS2.p2.1.1.1.1.1" style="border-color: black;">&lt;ToolChain<math alttext="{}^{*}" class="ltx_Math" display="inline" id="A7.SS2.p2.1.1.1.1.1.m1.1"><semantics id="A7.SS2.p2.1.1.1.1.1.m1.1a"><msup id="A7.SS2.p2.1.1.1.1.1.m1.1.1" xref="A7.SS2.p2.1.1.1.1.1.m1.1.1.cmml"><mi id="A7.SS2.p2.1.1.1.1.1.m1.1.1a" xref="A7.SS2.p2.1.1.1.1.1.m1.1.1.cmml"></mi><mo id="A7.SS2.p2.1.1.1.1.1.m1.1.1.1" mathvariant="normal" xref="A7.SS2.p2.1.1.1.1.1.m1.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="A7.SS2.p2.1.1.1.1.1.m1.1b"><apply id="A7.SS2.p2.1.1.1.1.1.m1.1.1.cmml" xref="A7.SS2.p2.1.1.1.1.1.m1.1.1"><times id="A7.SS2.p2.1.1.1.1.1.m1.1.1.1.cmml" xref="A7.SS2.p2.1.1.1.1.1.m1.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.SS2.p2.1.1.1.1.1.m1.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="A7.SS2.p2.1.1.1.1.1.m1.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math>_GSM8K&gt; Prompt</span> </span><span class="ltx_rule" style="width:158.1pt;height:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p2.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p3">
<p class="ltx_p" id="A7.SS2.p3.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p3.1.1"><span class="ltx_text" id="A7.SS2.p3.1.1.1" style="width:0.0pt;"></span><span class="ltx_text" id="A7.SS2.p3.1.1.2" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Please complete the plans to solve the question. Here is several<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p4">
<p class="ltx_p" id="A7.SS2.p4.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p4.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    examples:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p5">
<p class="ltx_p" id="A7.SS2.p5.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p5.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Q: Four years ago, Kody was only half as old as Mohamed. If Mohamed is<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p6">
<p class="ltx_p" id="A7.SS2.p6.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p6.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    currently twice 30 years old, how old is Kody?<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p7">
<p class="ltx_p" id="A7.SS2.p7.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p7.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>A: Let’s think step-by-step:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p8">
<p class="ltx_p" id="A7.SS2.p8.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p8.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>1. We were told that Mohamed is currently twice 30 years old, so he is<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p9">
<p class="ltx_p" id="A7.SS2.p9.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p9.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    currently 30 * 2 = 60 years old.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p10">
<p class="ltx_p" id="A7.SS2.p10.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p10.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>2. That means that four years ago he must have been 60 - 4 = 56 years<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p11">
<p class="ltx_p" id="A7.SS2.p11.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p11.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    old.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p12">
<p class="ltx_p" id="A7.SS2.p12.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p12.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>3. Four years ago, Kody was half as old as Mohamed, so Kody must have<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p13">
<p class="ltx_p" id="A7.SS2.p13.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p13.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    been 56 / 2 = 28 years old then.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p14">
<p class="ltx_p" id="A7.SS2.p14.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p14.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>4. Since Kody was 28 years old four years ago, she must now be 28 + 4 =<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p15">
<p class="ltx_p" id="A7.SS2.p15.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p15.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    32 years old.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p16">
<p class="ltx_p" id="A7.SS2.p16.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p16.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>5. The answer is 32.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p17">
<p class="ltx_p" id="A7.SS2.p17.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p17.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p18">
<p class="ltx_p" id="A7.SS2.p18.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p18.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Q: Carla bought 2 bags of mini peanut butter cups on clearance. Each bag<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p19">
<p class="ltx_p" id="A7.SS2.p19.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p19.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    was $6.00 but was 75% off. How much did she spend on 2 bags of candy?<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p20">
<p class="ltx_p" id="A7.SS2.p20.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p20.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>A: Let’s think step-by-step:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p21">
<p class="ltx_p" id="A7.SS2.p21.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p21.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>1. Each bag was $6.00 but was 75% off. So each bag cost $6.00 *<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p22">
<p class="ltx_p" id="A7.SS2.p22.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p22.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    (1 - 0.75) = $6.00 * 0.25 = $1.50.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p23">
<p class="ltx_p" id="A7.SS2.p23.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p23.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>2. Carla bought 2 bags. So she spent $1.50 * 2 = $3.00.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p24">
<p class="ltx_p" id="A7.SS2.p24.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p24.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>3. The answer is 3.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p25">
<p class="ltx_p" id="A7.SS2.p25.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p25.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p26">
<p class="ltx_p" id="A7.SS2.p26.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p26.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Q: If Pam is currently twice as young as Rena is, and in 10 years Rena<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p27">
<p class="ltx_p" id="A7.SS2.p27.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p27.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    will be 5 years older than her, how old is Pam now?<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p28">
<p class="ltx_p" id="A7.SS2.p28.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p28.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>A: Let’s think step-by-step:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p29">
<p class="ltx_p" id="A7.SS2.p29.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p29.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>1. Since Rena will be 5 years older than Pam in 10 years, she must be<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p30">
<p class="ltx_p" id="A7.SS2.p30.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p30.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    5 years older than Pam now as well.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p31">
<p class="ltx_p" id="A7.SS2.p31.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p31.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>2. If Pam is currently twice as young as Rena, that means that Rena is<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p32">
<p class="ltx_p" id="A7.SS2.p32.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p32.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    currently twice as old as Pam is.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p33">
<p class="ltx_p" id="A7.SS2.p33.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p33.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>3. So if P stands for Pam’s age now and R stands for Rena’s age now,<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p34">
<p class="ltx_p" id="A7.SS2.p34.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p34.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    then we know that R = 2 * P.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p35">
<p class="ltx_p" id="A7.SS2.p35.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p35.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>4. And since Rena is 5 years older than Pam now, we know that R = P + 5.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p36">
<p class="ltx_p" id="A7.SS2.p36.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p36.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>5. By substitution, we have P + 5 = 2 * P, which means that P = 5.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p37">
<p class="ltx_p" id="A7.SS2.p37.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p37.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>6. The answer is 5.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p38">
<p class="ltx_p" id="A7.SS2.p38.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p38.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p39">
<p class="ltx_p" id="A7.SS2.p39.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p39.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Q: Cappuccinos cost $2, iced teas cost $3, cafe lattes cost $1.5 and<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p40">
<p class="ltx_p" id="A7.SS2.p40.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p40.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    espressos cost $1 each. Sandy orders some drinks for herself and<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p41">
<p class="ltx_p" id="A7.SS2.p41.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p41.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    some friends. She orders three cappuccinos, two iced teas, two<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p42">
<p class="ltx_p" id="A7.SS2.p42.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p42.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    cafe lattes, and two espressos. How much change does she receive<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p43">
<p class="ltx_p" id="A7.SS2.p43.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p43.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    back for a twenty-dollar bill?<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p44">
<p class="ltx_p" id="A7.SS2.p44.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p44.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>A: Let’s think step-by-step:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p45">
<p class="ltx_p" id="A7.SS2.p45.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p45.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>1. Sandy ordered three cappuccinos, which cost $2 each, so she spent<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p46">
<p class="ltx_p" id="A7.SS2.p46.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p46.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    $2 * 3 = $6 on cappuccinos.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p47">
<p class="ltx_p" id="A7.SS2.p47.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p47.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>2. She ordered two iced teas, which cost $3 each, so she spent<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p48">
<p class="ltx_p" id="A7.SS2.p48.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p48.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    $3 * 2 = $6 dollars on ice teas.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p49">
<p class="ltx_p" id="A7.SS2.p49.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p49.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>3. She ordered two cafe lattes, which cost $1.5 each, so she spent<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p50">
<p class="ltx_p" id="A7.SS2.p50.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p50.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    $1.5 * 2 = $3 on cafe lattes.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p51">
<p class="ltx_p" id="A7.SS2.p51.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p51.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>4. She ordered two espressos, which cost $1 each, so she spent<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p52">
<p class="ltx_p" id="A7.SS2.p52.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p52.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    $1 * 2 = $2 on espressos.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p53">
<p class="ltx_p" id="A7.SS2.p53.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p53.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>5. So altogether, Sandy spent $6 + $6 + $3 + $2 = $17 on drinks, which<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p54">
<p class="ltx_p" id="A7.SS2.p54.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p54.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>    means that sandy will get $20 - $17 = $3 as change.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p55">
<p class="ltx_p" id="A7.SS2.p55.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p55.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>6. The answer is 3.<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p56">
<p class="ltx_p" id="A7.SS2.p56.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p56.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>[END OF EXAMPLE]<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p57">
<p class="ltx_p" id="A7.SS2.p57.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p57.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>Q: {question}<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
<div class="ltx_para ltx_noindent" id="A7.SS2.p58">
<p class="ltx_p" id="A7.SS2.p58.1"><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p58.1.1" style="width:469.8pt;"><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span>A: Let’s think step-by-step:<span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p58.1.2" style="width:0.0pt;"><span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span> <span class="ltx_rule" style="width:0.0pt;height:5.0pt;background:black;display:inline-block;"></span><span class="ltx_rule" style="width:0.4pt;background:black;display:inline-block;"> </span></span><span class="ltx_text ltx_font_typewriter" id="A7.SS2.p58.1.3" style="width:0.0pt;"><span class="ltx_rule" style="width:469.8pt;height:0.4pt;background:black;display:inline-block;"> </span></span></p>
</div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Oct 20 02:22:09 2023 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span style="font-size:70%;position:relative; bottom:2.2pt;">A</span>T<span style="position:relative; bottom:-0.4ex;">E</span></span><span class="ltx_font_smallcaps">xml</span><img alt="[LOGO]" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>

<div class="package-alerts" role="alert">
<button aria-label="Dismiss alert" onclick="closePopup()">
<span aria-hidden="true"><svg aria-hidden="true" focusable="false" height="30" role="presentation" viewbox="0 0 44 44" width="30">
<path d="M0.549989 4.44999L4.44999 0.549988L43.45 39.55L39.55 43.45L0.549989 4.44999Z"></path>
<path d="M39.55 0.549988L43.45 4.44999L4.44999 43.45L0.549988 39.55L39.55 0.549988Z"></path>
</svg></span>
</button>
<p>HTML conversions sometimes display errors due to content that did not convert correctly from the source. This paper uses the following packages that are not yet supported by the HTML conversion tool. Feedback on these issues are not necessary; they are known and are being worked on.</p>
<ul>
<li>failed: pythonhighlight</li>
</ul>
<p>Authors: achieve the best HTML results from your LaTeX submissions by selecting from this list of <a href="https://corpora.mathweb.org/corpus/arxmliv/tex_to_html/info/loaded_file" target="_blank">supported packages</a>.</p>
</div>
<script>
            function closePopup() {
                document.querySelector('.package-alerts').style.display = 'none';
            }
        </script>
</body>
</html>
